(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_react-map-ol"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_react-map-ol"]||[]).push([["vendors_1"],{"0617f713":function(e,t,s){e.exports=s("3e9810a4");},"0cf6cf21":function(e,t,s){e.exports=s("8130bd62");},"1de7fe41":function(e,t,s){e.exports=s("599085e5");},"238d4f85":function(e,t,s){e.exports=s("0059a759");},"2db362d7":function(e,t,s){"use strict";s.d(t,"__esModule",{value:!0}),t.createSensor=void 0;var r,i=s("65e53614"),a=(r=s("3a036f97"))&&r.__esModule?r:{default:r};t.createSensor=function(e,t){var s=void 0,r=[],n=(0,a.default)(function(){r.forEach(function(t){t(e);});}),o=function(){var t=new ResizeObserver(n);return t.observe(e),n(),t;},l=function(){s.disconnect(),r=[],s=void 0,e.removeAttribute(i.SizeSensorId),t&&t();};return{element:e,bind:function(e){s||(s=o()),-1===r.indexOf(e)&&r.push(e);},destroy:l,unbind:function(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1),0===r.length&&s&&l();}};};},"306b13e8":function(e,t,s){"use strict";s.d(t,"__esModule",{value:!0}),t.createSensor=void 0;var r=s("b2112d59"),i=s("2db362d7"),a="undefined"!=typeof ResizeObserver?i.createSensor:r.createSensor;t.createSensor=a;},"3a036f97":function(e,t,s){"use strict";s.d(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,s=null;return function(){for(var r=this,i=arguments.length,a=Array(i),n=0;n<i;n++)a[n]=arguments[n];clearTimeout(s),s=setTimeout(function(){e.apply(r,a);},t);};};},"3e9810a4":function(e,t,s){let r=s("0cf6cf21");function i(e,t){for(var s=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),s++):s&&(e.splice(r,1),s--);}if(t)for(;s--;s)e.unshift("..");return e;}function a(e,t){if(e.filter)return e.filter(t);for(var s=[],r=0;r<e.length;r++)t(e[r],r,e)&&s.push(e[r]);return s;}t.resolve=function(){for(var e="",t=!1,s=arguments.length-1;s>=-1&&!t;s--){var n=s>=0?arguments[s]:r.cwd();if("string"!=typeof n)throw TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0));}return e=i(a(e.split("/"),function(e){return!!e;}),!t).join("/"),(t?"/":"")+e||".";},t.normalize=function(e){var s=t.isAbsolute(e),r="/"===n(e,-1);return(e=i(a(e.split("/"),function(e){return!!e;}),!s).join("/"))||s||(e="."),e&&r&&(e+="/"),(s?"/":"")+e;},t.isAbsolute=function(e){return"/"===e.charAt(0);},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(a(e,function(e,t){if("string"!=typeof e)throw TypeError("Arguments to path.join must be strings");return e;}).join("/"));},t.relative=function(e,s){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var s=e.length-1;s>=0&&""===e[s];s--);return t>s?[]:e.slice(t,s-t+1);}e=t.resolve(e).substr(1),s=t.resolve(s).substr(1);for(var i=r(e.split("/")),a=r(s.split("/")),n=Math.min(i.length,a.length),o=n,l=0;l<n;l++)if(i[l]!==a[l]){o=l;break;}for(var h=[],l=o;l<i.length;l++)h.push("..");return(h=h.concat(a.slice(o))).join("/");},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),s=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){r=a;break;}}else i=!1;return -1===r?s?"/":".":s&&1===r?"/":e.slice(0,r);},t.basename=function(e,t){var s=function(e){"string"!=typeof e&&(e+="");var t,s=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){s=t+1;break;}}else -1===r&&(i=!1,r=t+1);return -1===r?"":e.slice(s,r);}(e);return t&&s.substr(-1*t.length)===t&&(s=s.substr(0,s.length-t.length)),s;},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,s=0,r=-1,i=!0,a=0,n=e.length-1;n>=0;--n){var o=e.charCodeAt(n);if(47===o){if(!i){s=n+1;break;}continue;}-1===r&&(i=!1,r=n+1),46===o?-1===t?t=n:1!==a&&(a=1):-1!==t&&(a=-1);}return -1===t||-1===r||0===a||1===a&&t===r-1&&t===s+1?"":e.slice(t,r);};var n="b"==="ab".substr(-1)?function(e,t,s){return e.substr(t,s);}:function(e,t,s){return t<0&&(t=e.length+t),e.substr(t,s);};},"40bb390b":function(e,t,s){var r=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var s=0;s<e.length;s++)r[e][e.charAt(s)]=s;}return r[e][t];}var a={compressToBase64:function(e){if(null==e)return"";var s=a._compress(e,6,function(e){return t.charAt(e);});switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"=";}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,function(s){return i(t,e.charAt(s));});},compressToUTF16:function(t){return null==t?"":a._compress(t,15,function(t){return e(t+32);})+" ";},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32;});},compressToUint8Array:function(e){for(var t=a.compress(e),s=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var n=t.charCodeAt(r);s[2*r]=n>>>8,s[2*r+1]=n%256;}return s;},decompressFromUint8Array:function(t){if(null==t)return a.decompress(t);for(var s=Array(t.length/2),r=0,i=s.length;r<i;r++)s[r]=256*t[2*r]+t[2*r+1];var n=[];return s.forEach(function(t){n.push(e(t));}),a.decompress(n.join(""));},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,function(e){return s.charAt(e);});},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,function(t){return i(s,e.charAt(t));}));},compress:function(t){return a._compress(t,16,function(t){return e(t);});},_compress:function(e,t,s){if(null==e)return"";var r,i,a,n={},o={},l="",h="",p="",u=2,c=3,d=2,f=[],m=0,y=0;for(a=0;a<e.length;a+=1)if(l=e.charAt(a),Object.prototype.hasOwnProperty.call(n,l)||(n[l]=c++,o[l]=!0),h=p+l,Object.prototype.hasOwnProperty.call(n,h))p=h;else{if(Object.prototype.hasOwnProperty.call(o,p)){if(256>p.charCodeAt(0)){for(r=0;r<d;r++)m<<=1,y==t-1?(y=0,f.push(s(m)),m=0):y++;for(r=0,i=p.charCodeAt(0);r<8;r++)m=m<<1|1&i,y==t-1?(y=0,f.push(s(m)),m=0):y++,i>>=1;}else{for(r=0,i=1;r<d;r++)m=m<<1|i,y==t-1?(y=0,f.push(s(m)),m=0):y++,i=0;for(r=0,i=p.charCodeAt(0);r<16;r++)m=m<<1|1&i,y==t-1?(y=0,f.push(s(m)),m=0):y++,i>>=1;}0==--u&&(u=Math.pow(2,d),d++),delete o[p];}else for(r=0,i=n[p];r<d;r++)m=m<<1|1&i,y==t-1?(y=0,f.push(s(m)),m=0):y++,i>>=1;0==--u&&(u=Math.pow(2,d),d++),n[h]=c++,p=String(l);}if(""!==p){if(Object.prototype.hasOwnProperty.call(o,p)){if(256>p.charCodeAt(0)){for(r=0;r<d;r++)m<<=1,y==t-1?(y=0,f.push(s(m)),m=0):y++;for(r=0,i=p.charCodeAt(0);r<8;r++)m=m<<1|1&i,y==t-1?(y=0,f.push(s(m)),m=0):y++,i>>=1;}else{for(r=0,i=1;r<d;r++)m=m<<1|i,y==t-1?(y=0,f.push(s(m)),m=0):y++,i=0;for(r=0,i=p.charCodeAt(0);r<16;r++)m=m<<1|1&i,y==t-1?(y=0,f.push(s(m)),m=0):y++,i>>=1;}0==--u&&(u=Math.pow(2,d),d++),delete o[p];}else for(r=0,i=n[p];r<d;r++)m=m<<1|1&i,y==t-1?(y=0,f.push(s(m)),m=0):y++,i>>=1;0==--u&&(u=Math.pow(2,d),d++);}for(r=0,i=2;r<d;r++)m=m<<1|1&i,y==t-1?(y=0,f.push(s(m)),m=0):y++,i>>=1;for(;;){if(m<<=1,y==t-1){f.push(s(m));break;}y++;}return f.join("");},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,function(t){return e.charCodeAt(t);});},_decompress:function(t,s,r){var i,a,n,o,l,h,p,u=[],c=4,d=4,f=3,m="",y=[],g={val:r(0),position:s,index:1};for(i=0;i<3;i+=1)u[i]=i;for(n=0,l=4,h=1;h!=l;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=r(g.index++)),n|=(o>0?1:0)*h,h<<=1;switch(n){case 0:for(n=0,l=256,h=1;h!=l;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=r(g.index++)),n|=(o>0?1:0)*h,h<<=1;p=e(n);break;case 1:for(n=0,l=65536,h=1;h!=l;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=r(g.index++)),n|=(o>0?1:0)*h,h<<=1;p=e(n);break;case 2:return"";}for(u[3]=p,a=p,y.push(p);;){if(g.index>t)return"";for(n=0,l=Math.pow(2,f),h=1;h!=l;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=r(g.index++)),n|=(o>0?1:0)*h,h<<=1;switch(p=n){case 0:for(n=0,l=256,h=1;h!=l;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=r(g.index++)),n|=(o>0?1:0)*h,h<<=1;u[d++]=e(n),p=d-1,c--;break;case 1:for(n=0,l=65536,h=1;h!=l;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=r(g.index++)),n|=(o>0?1:0)*h,h<<=1;u[d++]=e(n),p=d-1,c--;break;case 2:return y.join("");}if(0==c&&(c=Math.pow(2,f),f++),u[p])m=u[p];else{if(p!==d)return null;m=a+a.charAt(0);}y.push(m),u[d++]=a+m.charAt(0),c--,a=m,0==c&&(c=Math.pow(2,f),f++);}}};return a;}();void 0!==e&&null!=e?e.exports=r:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",function(){return r;});},"611a1ff5":function(e,t,s){s.d(t,"__esModule",{value:!0}),s.e(t,{Field:function(){return eE;},FieldContext:function(){return _;},FormProvider:function(){return eD;},List:function(){return ew;},ListContext:function(){return U;},default:function(){return e_;},useForm:function(){return eM;},useWatch:function(){return eV;}});var r,i=s("777fffbe"),a=s("852bbaa9"),n=s("e6ebd2e4"),o=a._(n),l=s("13456666"),h=i._(l),p=s("fa533ee3"),u=i._(p),c=s("dc7a2b0f"),d=i._(c),f=s("06d70a94"),m=i._(f),y=s("a64e94bb"),g=i._(y),x=s("26a5772d"),P=i._(x),v=s("042c89dd"),b=i._(v),T=s("7f566f3d"),A=i._(T),E=s("711e260a"),w=i._(E),S=s("b224b96a"),C=i._(S),I=s("7a70b70c"),N=i._(I),k=s("b69d7ccb"),F=i._(k),L=s("5b346a5c"),M=i._(L),O=s("208189cd"),D=i._(O),R=s("4789f108"),B=i._(R),j="RC_FORM_INTERNAL_HOOKS",V=function(){(0,B.default)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.");},_=o.createContext({getFieldValue:V,getFieldsValue:V,getFieldError:V,getFieldWarning:V,getFieldsError:V,isFieldsTouched:V,isFieldTouched:V,isFieldValidating:V,isFieldsValidating:V,resetFields:V,setFields:V,setFieldValue:V,setFieldsValue:V,validateFields:V,submit:V,getInternalHooks:function(){return V(),{dispatch:V,initEntityValue:V,registerField:V,useSubscribe:V,setInitialValues:V,destroyForm:V,setCallbacks:V,registerWatch:V,getFields:V,setValidateMessages:V,setPreserve:V,getInitialValue:V};}}),U=o.createContext(null);function q(e){return null==e?[]:Array.isArray(e)?e:[e];}var $=s("501f5ac0"),H=i._($);function z(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e;}};}var W=z(),K=s("f77e89aa"),J="enum",X=function(e,t,s,r,i,a){e.required&&(!s.hasOwnProperty(e.field)||(0,K.isEmptyValue)(t,a||e.type))&&r.push((0,K.format)(i.messages.required,e.fullField));},G=function(){if(r)return r;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):"";},s="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",a=["(?:".concat(i,":){7}(?:").concat(i,"|:)"),"(?:".concat(i,":){6}(?:").concat(s,"|:").concat(i,"|:)"),"(?:".concat(i,":){5}(?::").concat(s,"|(?::").concat(i,"){1,2}|:)"),"(?:".concat(i,":){4}(?:(?::").concat(i,"){0,1}:").concat(s,"|(?::").concat(i,"){1,3}|:)"),"(?:".concat(i,":){3}(?:(?::").concat(i,"){0,2}:").concat(s,"|(?::").concat(i,"){1,4}|:)"),"(?:".concat(i,":){2}(?:(?::").concat(i,"){0,3}:").concat(s,"|(?::").concat(i,"){1,5}|:)"),"(?:".concat(i,":){1}(?:(?::").concat(i,"){0,4}:").concat(s,"|(?::").concat(i,"){1,6}|:)"),"(?::(?:(?::".concat(i,"){0,5}:").concat(s,"|(?::").concat(i,"){1,7}|:))")],n="(?:".concat(a.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),o=new RegExp("(?:^".concat(s,"$)|(?:^").concat(n,"$)")),l=new RegExp("^".concat(s,"$")),h=new RegExp("^".concat(n,"$")),p=function(e){return e&&e.exact?o:RegExp("(?:".concat(t(e)).concat(s).concat(t(e),")|(?:").concat(t(e)).concat(n).concat(t(e),")"),"g");};p.v4=function(e){return e&&e.exact?l:RegExp("".concat(t(e)).concat(s).concat(t(e)),"g");},p.v6=function(e){return e&&e.exact?h:RegExp("".concat(t(e)).concat(n).concat(t(e)),"g");};var u=p.v4().source,c=p.v6().source,d="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(u,"|").concat(c,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return r=RegExp("(?:^".concat(d,"$)"),"i");},Y={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Q={integer:function(e){return Q.number(e)&&parseInt(e,10)===e;},float:function(e){return Q.number(e)&&!Q.integer(e);},array:function(e){return Array.isArray(e);},regexp:function(e){if(e instanceof RegExp)return!0;try{return new RegExp(e),!0;}catch(e){return!1;}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime());},number:function(e){return!isNaN(e)&&"number"==typeof e;},object:function(e){return"object"===(0,H.default)(e)&&!Q.array(e);},method:function(e){return"function"==typeof e;},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(Y.email);},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(G());},hex:function(e){return"string"==typeof e&&!!e.match(Y.hex);}},Z={required:X,whitespace:function(e,t,s,r,i){(/^\s+$/.test(t)||""===t)&&r.push((0,K.format)(i.messages.whitespace,e.fullField));},type:function(e,t,s,r,i){if(e.required&&void 0===t){X(e,t,s,r,i);return;}var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?Q[a](t)||r.push((0,K.format)(i.messages.types[a],e.fullField,e.type)):a&&(0,H.default)(t)!==e.type&&r.push((0,K.format)(i.messages.types[a],e.fullField,e.type));},range:function(e,t,s,r,i){var a="number"==typeof e.len,n="number"==typeof e.min,o="number"==typeof e.max,l=t,h=null,p="number"==typeof t,u="string"==typeof t,c=Array.isArray(t);if(p?h="number":u?h="string":c&&(h="array"),!h)return!1;c&&(l=t.length),u&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&r.push((0,K.format)(i.messages[h].len,e.fullField,e.len)):n&&!o&&l<e.min?r.push((0,K.format)(i.messages[h].min,e.fullField,e.min)):o&&!n&&l>e.max?r.push((0,K.format)(i.messages[h].max,e.fullField,e.max)):n&&o&&(l<e.min||l>e.max)&&r.push((0,K.format)(i.messages[h].range,e.fullField,e.min,e.max));},enum:function(e,t,s,r,i){e[J]=Array.isArray(e[J])?e[J]:[],-1===e[J].indexOf(t)&&r.push((0,K.format)(i.messages[J],e.fullField,e[J].join(", ")));},pattern:function(e,t,s,r,i){!e.pattern||(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push((0,K.format)(i.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"!=typeof e.pattern||new RegExp(e.pattern).test(t)||r.push((0,K.format)(i.messages.pattern.mismatch,e.fullField,t,e.pattern)));}},ee=function(e,t,s,r,i){var a=e.type,n=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t,a)&&!e.required)return s();Z.required(e,t,r,n,i,a),(0,K.isEmptyValue)(t,a)||Z.type(e,t,r,n,i);}s(n);},et={string:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t,"string")&&!e.required)return s();Z.required(e,t,r,a,i,"string"),(0,K.isEmptyValue)(t,"string")||(Z.type(e,t,r,a,i),Z.range(e,t,r,a,i),Z.pattern(e,t,r,a,i),!0===e.whitespace&&Z.whitespace(e,t,r,a,i));}s(a);},method:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t)&&!e.required)return s();Z.required(e,t,r,a,i),void 0!==t&&Z.type(e,t,r,a,i);}s(a);},number:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),(0,K.isEmptyValue)(t)&&!e.required)return s();Z.required(e,t,r,a,i),void 0!==t&&(Z.type(e,t,r,a,i),Z.range(e,t,r,a,i));}s(a);},boolean:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t)&&!e.required)return s();Z.required(e,t,r,a,i),void 0!==t&&Z.type(e,t,r,a,i);}s(a);},regexp:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t)&&!e.required)return s();Z.required(e,t,r,a,i),(0,K.isEmptyValue)(t)||Z.type(e,t,r,a,i);}s(a);},integer:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t)&&!e.required)return s();Z.required(e,t,r,a,i),void 0!==t&&(Z.type(e,t,r,a,i),Z.range(e,t,r,a,i));}s(a);},float:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t)&&!e.required)return s();Z.required(e,t,r,a,i),void 0!==t&&(Z.type(e,t,r,a,i),Z.range(e,t,r,a,i));}s(a);},array:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return s();Z.required(e,t,r,a,i,"array"),null!=t&&(Z.type(e,t,r,a,i),Z.range(e,t,r,a,i));}s(a);},object:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t)&&!e.required)return s();Z.required(e,t,r,a,i),void 0!==t&&Z.type(e,t,r,a,i);}s(a);},enum:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t)&&!e.required)return s();Z.required(e,t,r,a,i),void 0!==t&&Z.enum(e,t,r,a,i);}s(a);},pattern:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t,"string")&&!e.required)return s();Z.required(e,t,r,a,i),(0,K.isEmptyValue)(t,"string")||Z.pattern(e,t,r,a,i);}s(a);},date:function(e,t,s,r,i){var a,n=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t,"date")&&!e.required)return s();Z.required(e,t,r,n,i),!(0,K.isEmptyValue)(t,"date")&&(a=t instanceof Date?t:new Date(t),Z.type(e,a,r,n,i),a&&Z.range(e,a.getTime(),r,n,i));}s(n);},url:ee,hex:ee,email:ee,required:function(e,t,s,r,i){var a=[],n=Array.isArray(t)?"array":(0,H.default)(t);Z.required(e,t,r,a,i,n),s(a);},any:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,K.isEmptyValue)(t)&&!e.required)return s();Z.required(e,t,r,a,i);}s(a);}},es=function(){function e(t){(0,b.default)(this,e),(0,F.default)(this,"rules",null),(0,F.default)(this,"_messages",W),this.define(t);}return(0,A.default)(e,[{key:"define",value:function(e){var t=this;if(!e)throw Error("Cannot configure a schema with no rules");if("object"!==(0,H.default)(e)||Array.isArray(e))throw Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(s){var r=e[s];t.rules[s]=Array.isArray(r)?r:[r];});}},{key:"messages",value:function(e){return e&&(this._messages=(0,K.deepMerge)(z(),e)),this._messages;}},{key:"validate",value:function(t){var s=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=t,n=r,o=i;if("function"==typeof n&&(o=n,n={}),!this.rules||0===Object.keys(this.rules).length)return o&&o(null,a),Promise.resolve(a);if(n.messages){var l=this.messages();l===W&&(l=z()),(0,K.deepMerge)(l,n.messages),n.messages=l;}else n.messages=this.messages();var h={};(n.keys||Object.keys(this.rules)).forEach(function(e){var r=s.rules[e],i=a[e];r.forEach(function(r){var n=r;"function"==typeof n.transform&&(a===t&&(a=(0,g.default)({},a)),null!=(i=a[e]=n.transform(i))&&(n.type=n.type||(Array.isArray(i)?"array":(0,H.default)(i)))),(n="function"==typeof n?{validator:n}:(0,g.default)({},n)).validator=s.getValidationMethod(n),n.validator&&(n.field=e,n.fullField=n.fullField||e,n.type=s.getType(n),h[e]=h[e]||[],h[e].push({rule:n,value:i,source:a,field:e}));});});var p={};return(0,K.asyncMap)(h,n,function(t,s){var r,i,o,l=t.rule,h=("object"===l.type||"array"===l.type)&&("object"===(0,H.default)(l.fields)||"object"===(0,H.default)(l.defaultField));function u(e,t){return(0,g.default)((0,g.default)({},t),{},{fullField:"".concat(l.fullField,".").concat(e),fullFields:l.fullFields?[].concat((0,P.default)(l.fullFields),[e]):[e]});}function c(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=Array.isArray(r)?r:[r];!n.suppressWarning&&i.length&&e.warning("async-validator:",i),i.length&&void 0!==l.message&&(i=[].concat(l.message));var o=i.map((0,K.complementError)(l,a));if(n.first&&o.length)return p[l.field]=1,s(o);if(h){if(l.required&&!t.value)return void 0!==l.message?o=[].concat(l.message).map((0,K.complementError)(l,a)):n.error&&(o=[n.error(l,(0,K.format)(n.messages.required,l.field))]),s(o);var c={};l.defaultField&&Object.keys(t.value).map(function(e){c[e]=l.defaultField;});var d={};Object.keys(c=(0,g.default)((0,g.default)({},c),t.rule.fields)).forEach(function(e){var t=c[e],s=Array.isArray(t)?t:[t];d[e]=s.map(u.bind(null,e));});var f=new e(d);f.messages(n.messages),t.rule.options&&(t.rule.options.messages=n.messages,t.rule.options.error=n.error),f.validate(t.value,t.rule.options||n,function(e){var t=[];o&&o.length&&t.push.apply(t,(0,P.default)(o)),e&&e.length&&t.push.apply(t,(0,P.default)(e)),s(t.length?t:null);});}else s(o);}if(h=h&&(l.required||!l.required&&t.value),l.field=t.field,l.asyncValidator)r=l.asyncValidator(l,t.value,c,t.source,n);else if(l.validator){try{r=l.validator(l,t.value,c,t.source,n);}catch(e){null===(i=(o=console).error)||void 0===i||i.call(o,e),n.suppressValidatorError||setTimeout(function(){throw e;},0),c(e.message);}!0===r?c():!1===r?c("function"==typeof l.message?l.message(l.fullField||l.field):l.message||"".concat(l.fullField||l.field," fails")):r instanceof Array?c(r):r instanceof Error&&c(r.message);}r&&r.then&&r.then(function(){return c();},function(e){return c(e);});},function(e){!function(e){for(var t=[],s={},r=0;r<e.length;r++)!function(e){if(Array.isArray(e)){var s;t=(s=t).concat.apply(s,(0,P.default)(e));}else t.push(e);}(e[r]);t.length?(s=(0,K.convertFieldsError)(t),o(t,s)):o(null,a);}(e);},a);}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!et.hasOwnProperty(e.type))throw Error((0,K.format)("Unknown rule type %s",e.type));return e.type||"string";}},{key:"getValidationMethod",value:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),s=t.indexOf("message");return(-1!==s&&t.splice(s,1),1===t.length&&"required"===t[0])?et.required:et[this.getType(e)]||void 0;}}]),e;}();(0,F.default)(es,"register",function(e,t){if("function"!=typeof t)throw Error("Cannot register a validator by type, validator is not a function");et[e]=t;}),(0,F.default)(es,"warning",K.warning),(0,F.default)(es,"messages",W),(0,F.default)(es,"validators",et);var er="'${name}' is not a valid ${type}",ei={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:er,method:er,array:er,object:er,number:er,date:er,boolean:er,integer:er,float:er,regexp:er,email:er,url:er,hex:er},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},ea=s("9a1dc10b"),en=a._(ea),eo="CODE_LOGIC_ERROR";function el(e,t,s,r,i){return eh.apply(this,arguments);}function eh(){return(eh=(0,m.default)((0,d.default)().mark(function e(t,s,r,i,a){var n,l,h,p,u,c,f,m,y;return(0,d.default)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,g.default)({},r),delete n.ruleIndex,es.warning=function(){},n.validator&&(l=n.validator,n.validator=function(){try{return l.apply(void 0,arguments);}catch(e){return console.error(e),Promise.reject(eo);}}),h=null,n&&"array"===n.type&&n.defaultField&&(h=n.defaultField,delete n.defaultField),p=new es((0,F.default)({},t,[n])),u=(0,en.merge)(ei,i.validateMessages),p.messages(u),c=[],e.prev=10,e.next=13,Promise.resolve(p.validate((0,F.default)({},t,s),(0,g.default)({},i)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(c=e.t0.errors.map(function(e,t){var s=e.message,r=s===eo?u.default:s;return o.isValidElement(r)?o.cloneElement(r,{key:"error_".concat(t)}):r;}));case 18:if(!(!c.length&&h)){e.next=23;break;}return e.next=21,Promise.all(s.map(function(e,s){return el("".concat(t,".").concat(s),e,h,i,a);}));case 21:return f=e.sent,e.abrupt("return",f.reduce(function(e,t){return[].concat((0,P.default)(e),(0,P.default)(t));},[]));case 23:return m=(0,g.default)((0,g.default)({},r),{},{name:t,enum:(r.enum||[]).join(", ")},a),y=c.map(function(e){return"string"==typeof e?function(e,t){return e.replace(/\\?\$\{\w+\}/g,function(e){return e.startsWith("\\")?e.slice(1):t[e.slice(2,-1)];});}(e,m):e;}),e.abrupt("return",y);case 26:case"end":return e.stop();}},e,null,[[10,15]]);}))).apply(this,arguments);}function ep(){return(ep=(0,m.default)((0,d.default)().mark(function e(t){return(0,d.default)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then(function(e){var t;return(t=[]).concat.apply(t,(0,P.default)(e));}));case 1:case"end":return e.stop();}},e);}))).apply(this,arguments);}function eu(){return(eu=(0,m.default)((0,d.default)().mark(function e(t){var s;return(0,d.default)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=0,e.abrupt("return",new Promise(function(e){t.forEach(function(r){r.then(function(r){r.errors.length&&e([r]),(s+=1)===t.length&&e([]);});});}));case 2:case"end":return e.stop();}},e);}))).apply(this,arguments);}var ec=s("4df4c0da"),ed=i._(ec);function ef(e){return q(e);}function em(e,t){var s={};return t.forEach(function(t){var r=(0,ed.default)(e,t);s=(0,en.default)(s,t,r);}),s;}function ey(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some(function(e){return eg(t,e,s);});}function eg(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!e&&!!t&&(!!s||e.length===t.length)&&t.every(function(t,s){return e[s]===t;});}function ex(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,H.default)(t.target)&&e in t.target?t.target[e]:t;}function eP(e,t,s){var r=e.length;if(t<0||t>=r||s<0||s>=r)return e;var i=e[t],a=t-s;return a>0?[].concat((0,P.default)(e.slice(0,s)),[i],(0,P.default)(e.slice(s,t)),(0,P.default)(e.slice(t+1,r))):a<0?[].concat((0,P.default)(e.slice(0,t)),(0,P.default)(e.slice(t+1,s+1)),[i],(0,P.default)(e.slice(s+1,r))):e;}var ev=["name"],eb=[];function eT(e,t,s,r,i,a){return"function"==typeof e?e(t,s,"source"in a?{source:a.source}:{}):r!==i;}var eA=function(e){(0,C.default)(s,e);var t=(0,N.default)(s);function s(e){var r;return(0,b.default)(this,s),r=t.call(this,e),(0,F.default)((0,w.default)(r),"state",{resetCount:0}),(0,F.default)((0,w.default)(r),"cancelRegisterFunc",null),(0,F.default)((0,w.default)(r),"mounted",!1),(0,F.default)((0,w.default)(r),"touched",!1),(0,F.default)((0,w.default)(r),"dirty",!1),(0,F.default)((0,w.default)(r),"validatePromise",void 0),(0,F.default)((0,w.default)(r),"prevValidating",void 0),(0,F.default)((0,w.default)(r),"errors",eb),(0,F.default)((0,w.default)(r),"warnings",eb),(0,F.default)((0,w.default)(r),"cancelRegister",function(){var e=r.props,t=e.preserve,s=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(s,t,ef(i)),r.cancelRegisterFunc=null;}),(0,F.default)((0,w.default)(r),"getNamePath",function(){var e=r.props,t=e.name,s=e.fieldContext.prefixName;return void 0!==t?[].concat((0,P.default)(void 0===s?[]:s),(0,P.default)(t)):[];}),(0,F.default)((0,w.default)(r),"getRules",function(){var e=r.props,t=e.rules,s=e.fieldContext;return(void 0===t?[]:t).map(function(e){return"function"==typeof e?e(s):e;});}),(0,F.default)((0,w.default)(r),"refresh",function(){r.mounted&&r.setState(function(e){return{resetCount:e.resetCount+1};});}),(0,F.default)((0,w.default)(r),"metaCache",null),(0,F.default)((0,w.default)(r),"triggerMetaEvent",function(e){var t=r.props.onMetaChange;if(t){var s=(0,g.default)((0,g.default)({},r.getMeta()),{},{destroy:e});(0,D.default)(r.metaCache,s)||t(s),r.metaCache=s;}else r.metaCache=null;}),(0,F.default)((0,w.default)(r),"onStoreChange",function(e,t,s){var i=r.props,a=i.shouldUpdate,n=i.dependencies,o=void 0===n?[]:n,l=i.onReset,h=s.store,p=r.getNamePath(),u=r.getValue(e),c=r.getValue(h),d=t&&ey(t,p);switch("valueUpdate"!==s.type||"external"!==s.source||(0,D.default)(u,c)||(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=eb,r.warnings=eb,r.triggerMetaEvent()),s.type){case"reset":if(!t||d){r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=eb,r.warnings=eb,r.triggerMetaEvent(),null==l||l(),r.refresh();return;}break;case"remove":if(a&&eT(a,e,h,u,c,s)){r.reRender();return;}break;case"setField":var f=s.data;if(d){"touched"in f&&(r.touched=f.touched),"validating"in f&&!("originRCField"in f)&&(r.validatePromise=f.validating?Promise.resolve([]):null),"errors"in f&&(r.errors=f.errors||eb),"warnings"in f&&(r.warnings=f.warnings||eb),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return;}if("value"in f&&ey(t,p,!0)||a&&!p.length&&eT(a,e,h,u,c,s)){r.reRender();return;}break;case"dependenciesUpdate":if(o.map(ef).some(function(e){return ey(s.relatedFields,e);})){r.reRender();return;}break;default:if(d||(!o.length||p.length||a)&&eT(a,e,h,u,c,s)){r.reRender();return;}}!0===a&&r.reRender();}),(0,F.default)((0,w.default)(r),"validateRules",function(e){var t=r.getNamePath(),s=r.getValue(),i=e||{},a=i.triggerName,n=i.validateOnly,o=Promise.resolve().then((0,m.default)((0,d.default)().mark(function i(){var n,l,h,p,u,c,f;return(0,d.default)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(r.mounted){i.next=2;break;}return i.abrupt("return",[]);case 2:if(h=void 0!==(l=(n=r.props).validateFirst)&&l,p=n.messageVariables,u=n.validateDebounce,c=r.getRules(),a&&(c=c.filter(function(e){return e;}).filter(function(e){var t=e.validateTrigger;return!t||q(t).includes(a);})),!(u&&a)){i.next=10;break;}return i.next=8,new Promise(function(e){setTimeout(e,u);});case 8:if(!(r.validatePromise!==o)){i.next=10;break;}return i.abrupt("return",[]);case 10:return(f=function(e,t,s,r,i,a){var n,o,l=e.join("."),h=s.map(function(e,t){var s=e.validator,r=(0,g.default)((0,g.default)({},e),{},{ruleIndex:t});return s&&(r.validator=function(e,t,r){var i=!1,a=s(e,t,function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];Promise.resolve().then(function(){(0,B.default)(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t);});});i=a&&"function"==typeof a.then&&"function"==typeof a.catch,(0,B.default)(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then(function(){r();}).catch(function(e){r(e||" ");});}),r;}).sort(function(e,t){var s=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!s==!!i?r-a:s?1:-1;});if(!0===i)o=new Promise((n=(0,m.default)((0,d.default)().mark(function e(s,i){var n,o,p;return(0,d.default)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<h.length)){e.next=12;break;}return o=h[n],e.next=5,el(l,t,o,r,a);case 5:if(!(p=e.sent).length){e.next=9;break;}return i([{errors:p,rule:o}]),e.abrupt("return");case 9:n+=1,e.next=1;break;case 12:s([]);case 13:case"end":return e.stop();}},e);})),function(e,t){return n.apply(this,arguments);}));else{var p=h.map(function(e){return el(l,t,e,r,a).then(function(t){return{errors:t,rule:e};});});o=(i?function(e){return eu.apply(this,arguments);}(p):function(e){return ep.apply(this,arguments);}(p)).then(function(e){return Promise.reject(e);});}return o.catch(function(e){return e;}),o;}(t,s,c,e,h,p)).catch(function(e){return e;}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eb;if(r.validatePromise===o){r.validatePromise=null;var t,s=[],i=[];null===(t=e.forEach)||void 0===t||t.call(e,function(e){var t=e.rule.warningOnly,r=e.errors,a=void 0===r?eb:r;t?i.push.apply(i,(0,P.default)(a)):s.push.apply(s,(0,P.default)(a));}),r.errors=s,r.warnings=i,r.triggerMetaEvent(),r.reRender();}}),i.abrupt("return",f);case 13:case"end":return i.stop();}},i);})));return void 0!==n&&n||(r.validatePromise=o,r.dirty=!0,r.errors=eb,r.warnings=eb,r.triggerMetaEvent(),r.reRender()),o;}),(0,F.default)((0,w.default)(r),"isFieldValidating",function(){return!!r.validatePromise;}),(0,F.default)((0,w.default)(r),"isFieldTouched",function(){return r.touched;}),(0,F.default)((0,w.default)(r),"isFieldDirty",function(){return!!r.dirty||void 0!==r.props.initialValue||void 0!==(0,r.props.fieldContext.getInternalHooks(j).getInitialValue)(r.getNamePath());}),(0,F.default)((0,w.default)(r),"getErrors",function(){return r.errors;}),(0,F.default)((0,w.default)(r),"getWarnings",function(){return r.warnings;}),(0,F.default)((0,w.default)(r),"isListField",function(){return r.props.isListField;}),(0,F.default)((0,w.default)(r),"isList",function(){return r.props.isList;}),(0,F.default)((0,w.default)(r),"isPreserve",function(){return r.props.preserve;}),(0,F.default)((0,w.default)(r),"getMeta",function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise};}),(0,F.default)((0,w.default)(r),"getOnlyChild",function(e){if("function"==typeof e){var t=r.getMeta();return(0,g.default)((0,g.default)({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0});}var s=(0,M.default)(e);return 1===s.length&&o.isValidElement(s[0])?{child:s[0],isFunction:!1}:{child:s,isFunction:!1};}),(0,F.default)((0,w.default)(r),"getValue",function(e){var t=r.props.fieldContext.getFieldsValue,s=r.getNamePath();return(0,ed.default)(e||t(!0),s);}),(0,F.default)((0,w.default)(r),"getControlled",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,s=t.name,i=t.trigger,a=t.validateTrigger,n=t.getValueFromEvent,o=t.normalize,l=t.valuePropName,h=t.getValueProps,p=t.fieldContext,u=void 0!==a?a:p.validateTrigger,c=r.getNamePath(),d=p.getInternalHooks,f=p.getFieldsValue,m=d(j).dispatch,y=r.getValue(),x=h||function(e){return(0,F.default)({},l,e);},P=e[i],v=void 0!==s?x(y):{},b=(0,g.default)((0,g.default)({},e),v);return b[i]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];e=n?n.apply(void 0,s):ex.apply(void 0,[l].concat(s)),o&&(e=o(e,y,f(!0))),e!==y&&m({type:"updateValue",namePath:c,value:e}),P&&P.apply(void 0,s);},q(u||[]).forEach(function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var s=r.props.rules;s&&s.length&&m({type:"validateField",namePath:c,triggerName:e});};}),b;}),e.fieldContext&&(0,(0,e.fieldContext.getInternalHooks)(j).initEntityValue)((0,w.default)(r)),r;}return(0,A.default)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,s=e.fieldContext;if(this.mounted=!0,s){var r=(0,s.getInternalHooks)(j).registerField;this.cancelRegisterFunc=r(this);}!0===t&&this.reRender();}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1;}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate();}},{key:"render",value:function(){var e,t=this.state.resetCount,s=this.props.children,r=this.getOnlyChild(s),i=r.child;return r.isFunction?e=i:o.isValidElement(i)?e=o.cloneElement(i,this.getControlled(i.props)):((0,B.default)(!i,"`children` of Field is not validate ReactElement."),e=i),o.createElement(o.Fragment,{key:t},e);}}]),s;}(o.Component);function eE(e){var t,s=e.name,r=(0,u.default)(e,ev),i=o.useContext(_),a=o.useContext(U),n=void 0!==s?ef(s):void 0,l=null!==(t=r.isListField)&&void 0!==t?t:!!a,p="keep";return l||(p="_".concat((n||[]).join("_"))),o.createElement(eA,(0,h.default)({key:p,name:n,isListField:l},r,{fieldContext:i}));}function ew(e){var t=e.name,s=e.initialValue,r=e.children,i=e.rules,a=e.validateTrigger,n=e.isListField,l=o.useContext(_),h=o.useContext(U),p=o.useRef({keys:[],id:0}).current,u=o.useMemo(function(){var e=ef(l.prefixName)||[];return[].concat((0,P.default)(e),(0,P.default)(ef(t)));},[l.prefixName,t]),c=o.useMemo(function(){return(0,g.default)((0,g.default)({},l),{},{prefixName:u});},[l,u]),d=o.useMemo(function(){return{getKey:function(e){var t=u.length,s=e[t];return[p.keys[s],e.slice(t+1)];}};},[u]);return"function"!=typeof r?((0,B.default)(!1,"Form.List only accepts function as children."),null):o.createElement(U.Provider,{value:d},o.createElement(_.Provider,{value:c},o.createElement(eE,{name:[],shouldUpdate:function(e,t,s){return"internal"!==s.source&&e!==t;},rules:i,validateTrigger:a,initialValue:s,isList:!0,isListField:null!=n?n:!!h},function(e,t){var s=e.value,i=e.onChange,a=l.getFieldValue,n=function(){return a(u||[])||[];},o=(void 0===s?[]:s)||[];return Array.isArray(o)||(o=[]),r(o.map(function(e,t){var s=p.keys[t];return void 0===s&&(p.keys[t]=p.id,s=p.keys[t],p.id+=1),{name:t,key:s,isListField:!0};}),{add:function(e,t){var s=n();t>=0&&t<=s.length?(p.keys=[].concat((0,P.default)(p.keys.slice(0,t)),[p.id],(0,P.default)(p.keys.slice(t))),i([].concat((0,P.default)(s.slice(0,t)),[e],(0,P.default)(s.slice(t))))):(p.keys=[].concat((0,P.default)(p.keys),[p.id]),i([].concat((0,P.default)(s),[e]))),p.id+=1;},remove:function(e){var t=n(),s=new Set(Array.isArray(e)?e:[e]);s.size<=0||(p.keys=p.keys.filter(function(e,t){return!s.has(t);}),i(t.filter(function(e,t){return!s.has(t);})));},move:function(e,t){if(e!==t){var s=n();e<0||e>=s.length||t<0||t>=s.length||(p.keys=eP(p.keys,e,t),i(eP(s,e,t)));}}},t);})));}(0,F.default)(eA,"contextType",_),(0,F.default)(eA,"defaultProps",{trigger:"onChange",valuePropName:"value"});var eS=s("4aaf5c20"),eC=i._(eS),eI="__@field_split__";function eN(e){return e.map(function(e){return"".concat((0,H.default)(e),":").concat(e);}).join(eI);}var ek=function(){function e(){(0,b.default)(this,e),(0,F.default)(this,"kvs",new Map);}return(0,A.default)(e,[{key:"set",value:function(e,t){this.kvs.set(eN(e),t);}},{key:"get",value:function(e){return this.kvs.get(eN(e));}},{key:"update",value:function(e,t){var s=t(this.get(e));s?this.set(e,s):this.delete(e);}},{key:"delete",value:function(e){this.kvs.delete(eN(e));}},{key:"map",value:function(e){return(0,P.default)(this.kvs.entries()).map(function(t){var s=(0,eC.default)(t,2),r=s[0],i=s[1];return e({key:r.split(eI).map(function(e){var t=e.match(/^([^:]*):(.*)$/),s=(0,eC.default)(t,3),r=s[1],i=s[2];return"number"===r?Number(i):i;}),value:i});});}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var s=t.key,r=t.value;return e[s.join(".")]=r,null;}),e;}}]),e;}(),eF=["name"],eL=(0,A.default)(function e(t){var s=this;(0,b.default)(this,e),(0,F.default)(this,"formHooked",!1),(0,F.default)(this,"forceRootUpdate",void 0),(0,F.default)(this,"subscribable",!0),(0,F.default)(this,"store",{}),(0,F.default)(this,"fieldEntities",[]),(0,F.default)(this,"initialValues",{}),(0,F.default)(this,"callbacks",{}),(0,F.default)(this,"validateMessages",null),(0,F.default)(this,"preserve",null),(0,F.default)(this,"lastValidatePromise",null),(0,F.default)(this,"getForm",function(){return{getFieldValue:s.getFieldValue,getFieldsValue:s.getFieldsValue,getFieldError:s.getFieldError,getFieldWarning:s.getFieldWarning,getFieldsError:s.getFieldsError,isFieldsTouched:s.isFieldsTouched,isFieldTouched:s.isFieldTouched,isFieldValidating:s.isFieldValidating,isFieldsValidating:s.isFieldsValidating,resetFields:s.resetFields,setFields:s.setFields,setFieldValue:s.setFieldValue,setFieldsValue:s.setFieldsValue,validateFields:s.validateFields,submit:s.submit,_init:!0,getInternalHooks:s.getInternalHooks};}),(0,F.default)(this,"getInternalHooks",function(e){return e===j?(s.formHooked=!0,{dispatch:s.dispatch,initEntityValue:s.initEntityValue,registerField:s.registerField,useSubscribe:s.useSubscribe,setInitialValues:s.setInitialValues,destroyForm:s.destroyForm,setCallbacks:s.setCallbacks,setValidateMessages:s.setValidateMessages,getFields:s.getFields,setPreserve:s.setPreserve,getInitialValue:s.getInitialValue,registerWatch:s.registerWatch}):((0,B.default)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null);}),(0,F.default)(this,"useSubscribe",function(e){s.subscribable=e;}),(0,F.default)(this,"prevWithoutPreserves",null),(0,F.default)(this,"setInitialValues",function(e,t){if(s.initialValues=e||{},t){var r,i=(0,en.merge)(e,s.store);null===(r=s.prevWithoutPreserves)||void 0===r||r.map(function(t){var s=t.key;i=(0,en.default)(i,s,(0,ed.default)(e,s));}),s.prevWithoutPreserves=null,s.updateStore(i);}}),(0,F.default)(this,"destroyForm",function(e){if(e)s.updateStore({});else{var t=new ek;s.getFieldEntities(!0).forEach(function(e){s.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0);}),s.prevWithoutPreserves=t;}}),(0,F.default)(this,"getInitialValue",function(e){var t=(0,ed.default)(s.initialValues,e);return e.length?(0,en.merge)(t):t;}),(0,F.default)(this,"setCallbacks",function(e){s.callbacks=e;}),(0,F.default)(this,"setValidateMessages",function(e){s.validateMessages=e;}),(0,F.default)(this,"setPreserve",function(e){s.preserve=e;}),(0,F.default)(this,"watchList",[]),(0,F.default)(this,"registerWatch",function(e){return s.watchList.push(e),function(){s.watchList=s.watchList.filter(function(t){return t!==e;});};}),(0,F.default)(this,"notifyWatch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(s.watchList.length){var t=s.getFieldsValue(),r=s.getFieldsValue(!0);s.watchList.forEach(function(s){s(t,r,e);});}}),(0,F.default)(this,"timeoutId",null),(0,F.default)(this,"warningUnhooked",function(){}),(0,F.default)(this,"updateStore",function(e){s.store=e;}),(0,F.default)(this,"getFieldEntities",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?s.fieldEntities.filter(function(e){return e.getNamePath().length;}):s.fieldEntities;}),(0,F.default)(this,"getFieldsMap",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ek;return s.getFieldEntities(e).forEach(function(e){var s=e.getNamePath();t.set(s,e);}),t;}),(0,F.default)(this,"getFieldEntitiesForNamePathList",function(e){if(!e)return s.getFieldEntities(!0);var t=s.getFieldsMap(!0);return e.map(function(e){var s=ef(e);return t.get(s)||{INVALIDATE_NAME_PATH:ef(e)};});}),(0,F.default)(this,"getFieldsValue",function(e,t){if(s.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,i=t):e&&"object"===(0,H.default)(e)&&(a=e.strict,i=e.filter),!0===r&&!i)return s.store;var r,i,a,n=s.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),o=[];return n.forEach(function(e){var t,s,n,l="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(a){if(null!==(n=e.isList)&&void 0!==n&&n.call(e))return;}else if(!r&&null!==(t=(s=e).isListField)&&void 0!==t&&t.call(s))return;if(i){var h="getMeta"in e?e.getMeta():null;i(h)&&o.push(l);}else o.push(l);}),em(s.store,o.map(ef));}),(0,F.default)(this,"getFieldValue",function(e){s.warningUnhooked();var t=ef(e);return(0,ed.default)(s.store,t);}),(0,F.default)(this,"getFieldsError",function(e){return s.warningUnhooked(),s.getFieldEntitiesForNamePathList(e).map(function(t,s){return!t||"INVALIDATE_NAME_PATH"in t?{name:ef(e[s]),errors:[],warnings:[]}:{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()};});}),(0,F.default)(this,"getFieldError",function(e){s.warningUnhooked();var t=ef(e);return s.getFieldsError([t])[0].errors;}),(0,F.default)(this,"getFieldWarning",function(e){s.warningUnhooked();var t=ef(e);return s.getFieldsError([t])[0].warnings;}),(0,F.default)(this,"isFieldsTouched",function(){s.warningUnhooked();for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=r[0],n=r[1],o=!1;0===r.length?e=null:1===r.length?Array.isArray(a)?(e=a.map(ef),o=!1):(e=null,o=a):(e=a.map(ef),o=n);var l=s.getFieldEntities(!0),h=function(e){return e.isFieldTouched();};if(!e)return o?l.every(function(e){return h(e)||e.isList();}):l.some(h);var p=new ek;e.forEach(function(e){p.set(e,[]);}),l.forEach(function(t){var s=t.getNamePath();e.forEach(function(e){e.every(function(e,t){return s[t]===e;})&&p.update(e,function(e){return[].concat((0,P.default)(e),[t]);});});});var u=function(e){return e.some(h);},c=p.map(function(e){return e.value;});return o?c.every(u):c.some(u);}),(0,F.default)(this,"isFieldTouched",function(e){return s.warningUnhooked(),s.isFieldsTouched([e]);}),(0,F.default)(this,"isFieldsValidating",function(e){s.warningUnhooked();var t=s.getFieldEntities();if(!e)return t.some(function(e){return e.isFieldValidating();});var r=e.map(ef);return t.some(function(e){return ey(r,e.getNamePath())&&e.isFieldValidating();});}),(0,F.default)(this,"isFieldValidating",function(e){return s.warningUnhooked(),s.isFieldsValidating([e]);}),(0,F.default)(this,"resetWithFieldInitialValue",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new ek,i=s.getFieldEntities(!0);i.forEach(function(e){var t=e.props.initialValue,s=e.getNamePath();if(void 0!==t){var i=r.get(s)||new Set;i.add({entity:e,value:t}),r.set(s,i);}}),t.entities?e=t.entities:t.namePathList?(e=[],t.namePathList.forEach(function(t){var s,i=r.get(t);i&&(s=e).push.apply(s,(0,P.default)((0,P.default)(i).map(function(e){return e.entity;})));})):e=i,function(e){e.forEach(function(e){if(void 0!==e.props.initialValue){var i=e.getNamePath();if(void 0!==s.getInitialValue(i))(0,B.default)(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=r.get(i);if(a&&a.size>1)(0,B.default)(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var n=s.getFieldValue(i);e.isListField()||t.skipExist&&void 0!==n||s.updateStore((0,en.default)(s.store,i,(0,P.default)(a)[0].value));}}}});}(e);}),(0,F.default)(this,"resetFields",function(e){s.warningUnhooked();var t=s.store;if(!e){s.updateStore((0,en.merge)(s.initialValues)),s.resetWithFieldInitialValue(),s.notifyObservers(t,null,{type:"reset"}),s.notifyWatch();return;}var r=e.map(ef);r.forEach(function(e){var t=s.getInitialValue(e);s.updateStore((0,en.default)(s.store,e,t));}),s.resetWithFieldInitialValue({namePathList:r}),s.notifyObservers(t,r,{type:"reset"}),s.notifyWatch(r);}),(0,F.default)(this,"setFields",function(e){s.warningUnhooked();var t=s.store,r=[];e.forEach(function(e){var i=e.name,a=(0,u.default)(e,eF),n=ef(i);r.push(n),"value"in a&&s.updateStore((0,en.default)(s.store,n,a.value)),s.notifyObservers(t,[n],{type:"setField",data:e});}),s.notifyWatch(r);}),(0,F.default)(this,"getFields",function(){return s.getFieldEntities(!0).map(function(e){var t=e.getNamePath(),r=e.getMeta(),i=(0,g.default)((0,g.default)({},r),{},{name:t,value:s.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i;});}),(0,F.default)(this,"initEntityValue",function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===(0,ed.default)(s.store,r)&&s.updateStore((0,en.default)(s.store,r,t));}}),(0,F.default)(this,"isMergedPreserve",function(e){var t=void 0!==e?e:s.preserve;return null==t||t;}),(0,F.default)(this,"registerField",function(e){s.fieldEntities.push(e);var t=e.getNamePath();if(s.notifyWatch([t]),void 0!==e.props.initialValue){var r=s.store;s.resetWithFieldInitialValue({entities:[e],skipExist:!0}),s.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"});}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(s.fieldEntities=s.fieldEntities.filter(function(t){return t!==e;}),!s.isMergedPreserve(i)&&(!r||a.length>1)){var n=r?void 0:s.getInitialValue(t);if(t.length&&s.getFieldValue(t)!==n&&s.fieldEntities.every(function(e){return!eg(e.getNamePath(),t);})){var o=s.store;s.updateStore((0,en.default)(o,t,n,!0)),s.notifyObservers(o,[t],{type:"remove"}),s.triggerDependenciesUpdate(o,t);}}s.notifyWatch([t]);};}),(0,F.default)(this,"dispatch",function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;s.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;s.validateFields([i],{triggerName:a});}}),(0,F.default)(this,"notifyObservers",function(e,t,r){if(s.subscribable){var i=(0,g.default)((0,g.default)({},r),{},{store:s.getFieldsValue(!0)});s.getFieldEntities().forEach(function(s){(0,s.onStoreChange)(e,t,i);});}else s.forceRootUpdate();}),(0,F.default)(this,"triggerDependenciesUpdate",function(e,t){var r=s.getDependencyChildrenFields(t);return r.length&&s.validateFields(r),s.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,P.default)(r))}),r;}),(0,F.default)(this,"updateValue",function(e,t){var r=ef(e),i=s.store;s.updateStore((0,en.default)(s.store,r,t)),s.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),s.notifyWatch([r]);var a=s.triggerDependenciesUpdate(i,r),n=s.callbacks.onValuesChange;n&&n(em(s.store,[r]),s.getFieldsValue()),s.triggerOnFieldsChange([r].concat((0,P.default)(a)));}),(0,F.default)(this,"setFieldsValue",function(e){s.warningUnhooked();var t=s.store;if(e){var r=(0,en.merge)(s.store,e);s.updateStore(r);}s.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),s.notifyWatch();}),(0,F.default)(this,"setFieldValue",function(e,t){s.setFields([{name:e,value:t,errors:[],warnings:[]}]);}),(0,F.default)(this,"getDependencyChildrenFields",function(e){var t=new Set,r=[],i=new ek;return s.getFieldEntities().forEach(function(e){(e.props.dependencies||[]).forEach(function(t){var s=ef(t);i.update(s,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t;});});}),function e(s){(i.get(s)||new Set).forEach(function(s){if(!t.has(s)){t.add(s);var i=s.getNamePath();s.isFieldDirty()&&i.length&&(r.push(i),e(i));}});}(e),r;}),(0,F.default)(this,"triggerOnFieldsChange",function(e,t){var r=s.callbacks.onFieldsChange;if(r){var i=s.getFields();if(t){var a=new ek;t.forEach(function(e){var t=e.name,s=e.errors;a.set(t,s);}),i.forEach(function(e){e.errors=a.get(e.name)||e.errors;});}var n=i.filter(function(t){return ey(e,t.name);});n.length&&r(n,i);}}),(0,F.default)(this,"validateFields",function(e,t){s.warningUnhooked(),Array.isArray(e)||"string"==typeof e||"string"==typeof t?(n=e,o=t):o=e;var r,i,a,n,o,l=!!n,h=l?n.map(ef):[],p=[],u=String(Date.now()),c=new Set,d=o||{},f=d.recursive,m=d.dirty;s.getFieldEntities(!0).forEach(function(e){if(l||h.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!m||e.isFieldDirty())){var t=e.getNamePath();if(c.add(t.join(u)),!l||ey(h,t,f)){var r=e.validateRules((0,g.default)({validateMessages:(0,g.default)((0,g.default)({},ei),s.validateMessages)},o));p.push(r.then(function(){return{name:t,errors:[],warnings:[]};}).catch(function(e){var s,r=[],i=[];return(null===(s=e.forEach)||void 0===s||s.call(e,function(e){var t=e.rule.warningOnly,s=e.errors;t?i.push.apply(i,(0,P.default)(s)):r.push.apply(r,(0,P.default)(s));}),r.length)?Promise.reject({name:t,errors:r,warnings:i}):{name:t,errors:r,warnings:i};}));}}});var y=(r=!1,i=p.length,a=[],p.length?new Promise(function(e,t){p.forEach(function(s,n){s.catch(function(e){return r=!0,e;}).then(function(s){i-=1,a[n]=s,i>0||(r&&t(a),e(a));});});}):Promise.resolve([]));s.lastValidatePromise=y,y.catch(function(e){return e;}).then(function(e){var t=e.map(function(e){return e.name;});s.notifyObservers(s.store,t,{type:"validateFinish"}),s.triggerOnFieldsChange(t,e);});var x=y.then(function(){return s.lastValidatePromise===y?Promise.resolve(s.getFieldsValue(h)):Promise.reject([]);}).catch(function(e){var t=e.filter(function(e){return e&&e.errors.length;});return Promise.reject({values:s.getFieldsValue(h),errorFields:t,outOfDate:s.lastValidatePromise!==y});});x.catch(function(e){return e;});var v=h.filter(function(e){return c.has(e.join(u));});return s.triggerOnFieldsChange(v),x;}),(0,F.default)(this,"submit",function(){s.warningUnhooked(),s.validateFields().then(function(e){var t=s.callbacks.onFinish;if(t)try{t(e);}catch(e){console.error(e);}}).catch(function(e){var t=s.callbacks.onFinishFailed;t&&t(e);});}),this.forceRootUpdate=t;});function eM(e){var t=o.useRef(),s=o.useState({}),r=(0,eC.default)(s,2)[1];if(!t.current){if(e)t.current=e;else{var i=new eL(function(){r({});});t.current=i.getForm();}}return[t.current];}var eO=o.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),eD=function(e){var t=e.validateMessages,s=e.onFormChange,r=e.onFormFinish,i=e.children,a=o.useContext(eO),n=o.useRef({});return o.createElement(eO.Provider,{value:(0,g.default)((0,g.default)({},a),{},{validateMessages:(0,g.default)((0,g.default)({},a.validateMessages),t),triggerFormChange:function(e,t){s&&s(e,{changedFields:t,forms:n.current}),a.triggerFormChange(e,t);},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:n.current}),a.triggerFormFinish(e,t);},registerForm:function(e,t){e&&(n.current=(0,g.default)((0,g.default)({},n.current),{},(0,F.default)({},e,t))),a.registerForm(e,t);},unregisterForm:function(e){var t=(0,g.default)({},n.current);delete t[e],n.current=t,a.unregisterForm(e);}})},i);},eR=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];function eB(e){try{return JSON.stringify(e);}catch(e){return Math.random();}}var ej=function(){};function eV(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];var r=t[0],i=t[1],a=void 0===i?{}:i,n=a&&a._init?{form:a}:a,l=n.form,h=(0,o.useState)(),p=(0,eC.default)(h,2),u=p[0],c=p[1],d=(0,o.useMemo)(function(){return eB(u);},[u]),f=(0,o.useRef)(d);f.current=d;var m=(0,o.useContext)(_),y=l||m,g=y&&y._init,x=ef(r),P=(0,o.useRef)(x);return P.current=x,ej(x),(0,o.useEffect)(function(){if(g){var e=y.getFieldsValue,t=(0,y.getInternalHooks)(j).registerWatch,s=function(e,t){var s=n.preserve?t:e;return"function"==typeof r?r(s):(0,ed.default)(s,P.current);},i=t(function(e,t){var r=s(e,t),i=eB(r);f.current!==i&&(f.current=i,c(r));}),a=s(e(),e(!0));return u!==a&&c(a),i;}},[g]),u;}var e_=o.forwardRef(function(e,t){var s,r=e.name,i=e.initialValues,a=e.fields,n=e.form,l=e.preserve,p=e.children,c=e.component,d=void 0===c?"form":c,f=e.validateMessages,m=e.validateTrigger,y=void 0===m?"onChange":m,x=e.onValuesChange,v=e.onFieldsChange,b=e.onFinish,T=e.onFinishFailed,A=e.clearOnDestroy,E=(0,u.default)(e,eR),w=o.useRef(null),S=o.useContext(eO),C=eM(n),I=(0,eC.default)(C,1)[0],N=I.getInternalHooks(j),k=N.useSubscribe,F=N.setInitialValues,L=N.setCallbacks,M=N.setValidateMessages,O=N.setPreserve,D=N.destroyForm;o.useImperativeHandle(t,function(){return(0,g.default)((0,g.default)({},I),{},{nativeElement:w.current});}),o.useEffect(function(){return S.registerForm(r,I),function(){S.unregisterForm(r);};},[S,I,r]),M((0,g.default)((0,g.default)({},S.validateMessages),f)),L({onValuesChange:x,onFieldsChange:function(e){if(S.triggerFormChange(r,e),v){for(var t=arguments.length,s=Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];v.apply(void 0,[e].concat(s));}},onFinish:function(e){S.triggerFormFinish(r,e),b&&b(e);},onFinishFailed:T}),O(l);var R=o.useRef(null);F(i,!R.current),R.current||(R.current=!0),o.useEffect(function(){return function(){return D(A);};},[]);var B="function"==typeof p;s=B?p(I.getFieldsValue(!0),I):p,k(!B);var V=o.useRef();o.useEffect(function(){!function(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||"object"!==(0,H.default)(e)||"object"!==(0,H.default)(t))return!1;var s=new Set([].concat(Object.keys(e),Object.keys(t)));return(0,P.default)(s).every(function(s){var r=e[s],i=t[s];return"function"==typeof r&&"function"==typeof i||r===i;});}(V.current||[],a||[])&&I.setFields(a||[]),V.current=a;},[a,I]);var q=o.useMemo(function(){return(0,g.default)((0,g.default)({},I),{},{validateTrigger:y});},[I,y]),$=o.createElement(U.Provider,{value:null},o.createElement(_.Provider,{value:q},s));return!1===d?$:o.createElement(d,(0,h.default)({},E,{ref:w,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),I.submit();},onReset:function(e){var t;e.preventDefault(),I.resetFields(),null===(t=E.onReset)||void 0===t||t.call(E,e);}}),$);});e_.FormProvider=eD,e_.Field=eE,e_.List=ew,e_.useForm=eM,e_.useWatch=eV;},"65e53614":function(e,t,s){"use strict";s.d(t,"__esModule",{value:!0}),t.SizeSensorId=t.SensorTabIndex=t.SensorClassName=void 0,t.SizeSensorId="size-sensor-id",t.SensorClassName="size-sensor-object",t.SensorTabIndex="-1";},"662479a3":function(e,t,s){e.exports=s("10318ab0");},"6d10e83a":function(e,t,s){let r=s("e17cf306");!function(s){function i(){var e=s();return e.default||e;}if("object"==typeof t&&"object"==typeof e)e.exports=i();else{var a="u">typeof globalThis?globalThis:"u">typeof r?r:"u">typeof self?self:this||{};a.prettierPlugins=a.prettierPlugins||{},a.prettierPlugins.babel=i();}}(function(){"use strict";let e,t,s;var r=Object.create,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,o=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,h=(e,t,s,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of n(t))l.call(e,o)||o===s||i(e,o,{get:()=>t[o],enumerable:!(r=a(t,o))||r.enumerable});return e;},p=(e,t,s)=>(s=null!=e?r(o(e)):{},h(!t&&e&&e.__esModule?s:i(s,"default",{value:e,enumerable:!0}),e)),u=(e=e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(e,t,s){this.line=void 0,this.column=void 0,this.index=void 0,this.line=e,this.column=t,this.index=s;}},s=class{constructor(e,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=t;}};function r(e,s){let{line:r,column:i,index:a}=e;return new t(r,i+s,a+s);}var i="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED",a={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},n=e=>"UpdateExpression"===e.type?a.UpdateExpression[`${e.prefix}`]:a[e.type],o=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]),l=Object.assign({PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:e})=>`Invalid topic token ${e}. In order to use ${e} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${e}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:e})=>`Hack-style pipe body cannot be an unparenthesized ${n({type:e})}; please wrap it in parentheses.`},{PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'}),h=["message"];function p(e,t,s){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:s});}function u(e,s){if(Array.isArray(e))return t=>u(t,e[0]);let r={};for(let i of Object.keys(e)){let a=e[i],n="string"==typeof a?{message:()=>a}:"function"==typeof a?{message:a}:a,{message:o}=n,l=function(e,t){if(null==e)return{};var s={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.includes(r))continue;s[r]=e[r];}return s;}(n,h),u="string"==typeof o?()=>o:o;r[i]=function({toMessage:e,code:s,reasonCode:r,syntaxPlugin:i}){let a="MissingPlugin"===r||"MissingOneOfPlugins"===r;{let e={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};e[r]&&(r=e[r]);}return function n(o,l){let h=SyntaxError();return h.code=s,h.reasonCode=r,h.loc=o,h.pos=o.index,h.syntaxPlugin=i,a&&(h.missingPlugin=l.missingPlugin),p(h,"clone",function(e={}){var s;let{line:r,column:i,index:a}=null!=(s=e.loc)?s:o;return n(new t(r,i,a),Object.assign({},l,e.details));}),p(h,"details",l),Object.defineProperty(h,"message",{configurable:!0,get(){let t=`${e(l)} (${o.line}:${o.column})`;return this.message=t,t;},set(e){Object.defineProperty(this,"message",{value:e,writable:!0});}}),h;};}(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:i,toMessage:u},s?{syntaxPlugin:s}:{},l));}return r;}var c=Object.assign({},u({ImportMetaOutsideModule:{message:"import.meta may appear only with 'sourceType: \"module\"'",code:i},ImportOutsideModule:{message:"'import' and 'export' may appear only with 'sourceType: \"module\"'",code:i}}),u({AccessorIsGenerator:({kind:e})=>`A ${e}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:e})=>`Missing initializer in ${e} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:e})=>`\`${e}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",DynamicImportPhaseRequiresImportExpressions:({phase:e})=>`'import.${e}(...)' can only be parsed when using the 'createImportExpressions' option.`,ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:e,exportName:t})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${e}' as '${t}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:e})=>`'${"ForInStatement"===e?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:e})=>`Unsyntactic ${"BreakStatement"===e?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedImportAssert` parser plugin to suppress this error.",ImportBindingIsString:({importName:e})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${e}" as foo }\`?`,ImportCallArity:"`import()` requires exactly one or two arguments.",ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:e})=>`Expected number in radix ${e}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:e})=>`Escape sequence in keyword ${e}.`,InvalidIdentifier:({identifierName:e})=>`Invalid identifier ${e}.`,InvalidLhs:({ancestor:e})=>`Invalid left-hand side in ${n(e)}.`,InvalidLhsBinding:({ancestor:e})=>`Binding invalid left-hand side in ${n(e)}.`,InvalidLhsOptionalChaining:({ancestor:e})=>`Invalid optional chaining in the left-hand side of ${n(e)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:e})=>`Unexpected character '${e}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:e})=>`Private name #${e} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:e})=>`Label '${e}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:e})=>`This experimental syntax requires enabling the parser plugin: ${e.map(e=>JSON.stringify(e)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:e})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${e.map(e=>JSON.stringify(e)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:e})=>`Duplicate key "${e}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:e})=>`An export name cannot include a lone surrogate, found '\\u${e.toString(16)}'.`,ModuleExportUndefined:({localName:e})=>`Export '${e}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:e})=>`Private names are only allowed in property accesses (\`obj.#${e}\`) or in \`in\` expressions (\`#${e} in obj\`).`,PrivateNameRedeclaration:({identifierName:e})=>`Duplicate private name #${e}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:e})=>`Unexpected keyword '${e}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:e})=>`Unexpected reserved word '${e}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:e,unexpected:t})=>`Unexpected token${t?` '${t}'.`:""}${e?`, expected "${e}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:e,onlyValidPropertyName:t})=>`The only valid meta property for ${e} is ${e}.${t}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:e})=>`Identifier '${e}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."}),u({StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:e})=>`Assigning to '${e}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:e})=>`Binding '${e}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."}),u`pipelineOperator`(l)),{defineProperty:d}=Object,f=(e,t)=>{e&&d(e,t,{enumerable:!1,value:e[t]});};function m(e){return f(e.loc.start,"index"),f(e.loc.end,"index"),e;}var y=class{constructor(e,t){this.token=void 0,this.preserveSpace=void 0,this.token=e,this.preserveSpace=!!t;}},g={brace:new y("{"),j_oTag:new y("<tag"),j_cTag:new y("</tag"),j_expr:new y("<tag>...</tag>",!0)};g.template=new y("`",!0);var x=class{constructor(e,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=null!=t.binop?t.binop:null,this.updateContext=null;}},P=new Map;function v(e,t={}){t.keyword=e;let s=N(e,t);return P.set(e,s),s;}function b(e,t){return N(e,{beforeExpr:!0,binop:t});}var T=-1,A=[],E=[],w=[],S=[],C=[],I=[];function N(e,t={}){var s,r,i,a;return++T,E.push(e),w.push(null!=(s=t.binop)?s:-1),S.push(null!=(r=t.beforeExpr)&&r),C.push(null!=(i=t.startsExpr)&&i),I.push(null!=(a=t.prefix)&&a),A.push(new x(e,t)),T;}function k(e,t={}){var s,r,i,a;return++T,P.set(e,T),E.push(e),w.push(null!=(s=t.binop)?s:-1),S.push(null!=(r=t.beforeExpr)&&r),C.push(null!=(i=t.startsExpr)&&i),I.push(null!=(a=t.prefix)&&a),A.push(new x("name",t)),T;}var F={bracketL:N("[",{beforeExpr:!0,startsExpr:!0}),bracketHashL:N("#[",{beforeExpr:!0,startsExpr:!0}),bracketBarL:N("[|",{beforeExpr:!0,startsExpr:!0}),bracketR:N("]"),bracketBarR:N("|]"),braceL:N("{",{beforeExpr:!0,startsExpr:!0}),braceBarL:N("{|",{beforeExpr:!0,startsExpr:!0}),braceHashL:N("#{",{beforeExpr:!0,startsExpr:!0}),braceR:N("}"),braceBarR:N("|}"),parenL:N("(",{beforeExpr:!0,startsExpr:!0}),parenR:N(")"),comma:N(",",{beforeExpr:!0}),semi:N(";",{beforeExpr:!0}),colon:N(":",{beforeExpr:!0}),doubleColon:N("::",{beforeExpr:!0}),dot:N("."),question:N("?",{beforeExpr:!0}),questionDot:N("?."),arrow:N("=>",{beforeExpr:!0}),template:N("template"),ellipsis:N("...",{beforeExpr:!0}),backQuote:N("`",{startsExpr:!0}),dollarBraceL:N("${",{beforeExpr:!0,startsExpr:!0}),templateTail:N("...`",{startsExpr:!0}),templateNonTail:N("...${",{beforeExpr:!0,startsExpr:!0}),at:N("@"),hash:N("#",{startsExpr:!0}),interpreterDirective:N("#!..."),eq:N("=",{beforeExpr:!0,isAssign:!0}),assign:N("_=",{beforeExpr:!0,isAssign:!0}),slashAssign:N("_=",{beforeExpr:!0,isAssign:!0}),xorAssign:N("_=",{beforeExpr:!0,isAssign:!0}),moduloAssign:N("_=",{beforeExpr:!0,isAssign:!0}),incDec:N("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),bang:N("!",{beforeExpr:!0,prefix:!0,startsExpr:!0}),tilde:N("~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),doubleCaret:N("^^",{startsExpr:!0}),doubleAt:N("@@",{startsExpr:!0}),pipeline:b("|>",0),nullishCoalescing:b("??",1),logicalOR:b("||",1),logicalAND:b("&&",2),bitwiseOR:b("|",3),bitwiseXOR:b("^",4),bitwiseAND:b("&",5),equality:b("==/!=/===/!==",6),lt:b("</>/<=/>=",7),gt:b("</>/<=/>=",7),relational:b("</>/<=/>=",7),bitShift:b("<</>>/>>>",8),bitShiftL:b("<</>>/>>>",8),bitShiftR:b("<</>>/>>>",8),plusMin:N("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:N("%",{binop:10,startsExpr:!0}),star:N("*",{binop:10}),slash:b("/",10),exponent:N("**",{beforeExpr:!0,binop:11,rightAssociative:!0}),_in:v("in",{beforeExpr:!0,binop:7}),_instanceof:v("instanceof",{beforeExpr:!0,binop:7}),_break:v("break"),_case:v("case",{beforeExpr:!0}),_catch:v("catch"),_continue:v("continue"),_debugger:v("debugger"),_default:v("default",{beforeExpr:!0}),_else:v("else",{beforeExpr:!0}),_finally:v("finally"),_function:v("function",{startsExpr:!0}),_if:v("if"),_return:v("return",{beforeExpr:!0}),_switch:v("switch"),_throw:v("throw",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_try:v("try"),_var:v("var"),_const:v("const"),_with:v("with"),_new:v("new",{beforeExpr:!0,startsExpr:!0}),_this:v("this",{startsExpr:!0}),_super:v("super",{startsExpr:!0}),_class:v("class",{startsExpr:!0}),_extends:v("extends",{beforeExpr:!0}),_export:v("export"),_import:v("import",{startsExpr:!0}),_null:v("null",{startsExpr:!0}),_true:v("true",{startsExpr:!0}),_false:v("false",{startsExpr:!0}),_typeof:v("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:v("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:v("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_do:v("do",{isLoop:!0,beforeExpr:!0}),_for:v("for",{isLoop:!0}),_while:v("while",{isLoop:!0}),_as:k("as",{startsExpr:!0}),_assert:k("assert",{startsExpr:!0}),_async:k("async",{startsExpr:!0}),_await:k("await",{startsExpr:!0}),_defer:k("defer",{startsExpr:!0}),_from:k("from",{startsExpr:!0}),_get:k("get",{startsExpr:!0}),_let:k("let",{startsExpr:!0}),_meta:k("meta",{startsExpr:!0}),_of:k("of",{startsExpr:!0}),_sent:k("sent",{startsExpr:!0}),_set:k("set",{startsExpr:!0}),_source:k("source",{startsExpr:!0}),_static:k("static",{startsExpr:!0}),_using:k("using",{startsExpr:!0}),_yield:k("yield",{startsExpr:!0}),_asserts:k("asserts",{startsExpr:!0}),_checks:k("checks",{startsExpr:!0}),_exports:k("exports",{startsExpr:!0}),_global:k("global",{startsExpr:!0}),_implements:k("implements",{startsExpr:!0}),_intrinsic:k("intrinsic",{startsExpr:!0}),_infer:k("infer",{startsExpr:!0}),_is:k("is",{startsExpr:!0}),_mixins:k("mixins",{startsExpr:!0}),_proto:k("proto",{startsExpr:!0}),_require:k("require",{startsExpr:!0}),_satisfies:k("satisfies",{startsExpr:!0}),_keyof:k("keyof",{startsExpr:!0}),_readonly:k("readonly",{startsExpr:!0}),_unique:k("unique",{startsExpr:!0}),_abstract:k("abstract",{startsExpr:!0}),_declare:k("declare",{startsExpr:!0}),_enum:k("enum",{startsExpr:!0}),_module:k("module",{startsExpr:!0}),_namespace:k("namespace",{startsExpr:!0}),_interface:k("interface",{startsExpr:!0}),_type:k("type",{startsExpr:!0}),_opaque:k("opaque",{startsExpr:!0}),name:N("name",{startsExpr:!0}),placeholder:N("%%",{startsExpr:!0}),string:N("string",{startsExpr:!0}),num:N("num",{startsExpr:!0}),bigint:N("bigint",{startsExpr:!0}),decimal:N("decimal",{startsExpr:!0}),regexp:N("regexp",{startsExpr:!0}),privateName:N("#name",{startsExpr:!0}),eof:N("eof"),jsxName:N("jsxName"),jsxText:N("jsxText",{beforeExpr:!0}),jsxTagStart:N("jsxTagStart",{startsExpr:!0}),jsxTagEnd:N("jsxTagEnd")};function L(e){return e>=93&&e<=133;}function M(e){return e>=58&&e<=133;}function O(e){return e>=58&&e<=137;}function D(e){return e>=129&&e<=131;}function R(e){return e>=58&&e<=92;}function B(e){return e>=24&&e<=25;}A[8].updateContext=e=>{e.pop();},A[5].updateContext=A[7].updateContext=A[23].updateContext=e=>{e.push(g.brace);},A[22].updateContext=e=>{e[e.length-1]===g.template?e.pop():e.push(g.template);},A[143].updateContext=e=>{e.push(g.j_expr,g.j_oTag);};var j="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",V="\xb7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",_=RegExp("["+j+"]"),U=RegExp("["+j+V+"]");j=V=null;var q=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],$=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function H(e,t){let s=65536;for(let r=0,i=t.length;r<i&&!((s+=t[r])>e);r+=2)if((s+=t[r+1])>=e)return!0;return!1;}function z(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&_.test(String.fromCharCode(e)):H(e,q)));}function W(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&U.test(String.fromCharCode(e)):H(e,q)||H(e,$))));}var K=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),J=new Set(["implements","interface","let","package","private","protected","public","static","yield"]),X=new Set(["eval","arguments"]);function G(e,t){return t&&"await"===e||"enum"===e;}function Y(e,t){return G(e,t)||J.has(e);}function Q(e,t){return Y(e,t)||X.has(e);}var Z=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]),ee=class{constructor(e){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=e;}},et=class{constructor(e,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=e,this.inModule=t;}get inTopLevel(){return(1&this.currentScope().flags)>0;}get inFunction(){return(2&this.currentVarScopeFlags())>0;}get allowSuper(){return(16&this.currentThisScopeFlags())>0;}get allowDirectSuper(){return(32&this.currentThisScopeFlags())>0;}get inClass(){return(64&this.currentThisScopeFlags())>0;}get inClassAndNotInNonArrowFunction(){let e=this.currentThisScopeFlags();return(64&e)>0&&(2&e)==0;}get inStaticBlock(){for(let e=this.scopeStack.length-1;;e--){let{flags:t}=this.scopeStack[e];if(128&t)return!0;if(451&t)return!1;}}get inNonArrowFunction(){return(2&this.currentThisScopeFlags())>0;}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope());}createScope(e){return new ee(e);}enter(e){this.scopeStack.push(this.createScope(e));}exit(){return this.scopeStack.pop().flags;}treatFunctionsAsVarInScope(e){return!!(130&e.flags||!this.parser.inModule&&1&e.flags);}declareName(e,t,s){let r=this.currentScope();if(8&t||16&t){this.checkRedeclarationInScope(r,e,t,s);let i=r.names.get(e)||0;16&t?i|=4:(r.firstLexicalName||(r.firstLexicalName=e),i|=2),r.names.set(e,i),8&t&&this.maybeExportDefined(r,e);}else if(4&t)for(let i=this.scopeStack.length-1;i>=0&&(r=this.scopeStack[i],this.checkRedeclarationInScope(r,e,t,s),r.names.set(e,1|(r.names.get(e)||0)),this.maybeExportDefined(r,e),!(387&r.flags));--i);this.parser.inModule&&1&r.flags&&this.undefinedExports.delete(e);}maybeExportDefined(e,t){this.parser.inModule&&1&e.flags&&this.undefinedExports.delete(t);}checkRedeclarationInScope(e,t,s,r){this.isRedeclaredInScope(e,t,s)&&this.parser.raise(c.VarRedeclaration,r,{identifierName:t});}isRedeclaredInScope(e,t,s){if(!(1&s))return!1;if(8&s)return e.names.has(t);let r=e.names.get(t);return 16&s?(2&r)>0||!this.treatFunctionsAsVarInScope(e)&&(1&r)>0:(2&r)>0&&!(8&e.flags&&e.firstLexicalName===t)||!this.treatFunctionsAsVarInScope(e)&&(4&r)>0;}checkLocalExport(e){let{name:t}=e;this.scopeStack[0].names.has(t)||this.undefinedExports.set(t,e.loc.start);}currentScope(){return this.scopeStack[this.scopeStack.length-1];}currentVarScopeFlags(){for(let e=this.scopeStack.length-1;;e--){let{flags:t}=this.scopeStack[e];if(387&t)return t;}}currentThisScopeFlags(){for(let e=this.scopeStack.length-1;;e--){let{flags:t}=this.scopeStack[e];if(451&t&&!(4&t))return t;}}},es=class extends ee{constructor(...e){super(...e),this.declareFunctions=new Set;}},er=class extends et{createScope(e){return new es(e);}declareName(e,t,s){let r=this.currentScope();if(2048&t){this.checkRedeclarationInScope(r,e,t,s),this.maybeExportDefined(r,e),r.declareFunctions.add(e);return;}super.declareName(e,t,s);}isRedeclaredInScope(e,t,s){if(super.isRedeclaredInScope(e,t,s))return!0;if(2048&s&&!e.declareFunctions.has(t)){let s=e.names.get(t);return(4&s)>0||(2&s)>0;}return!1;}checkLocalExport(e){this.scopeStack[0].declareFunctions.has(e.name)||super.checkLocalExport(e);}},ei=class{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1;}sourceToOffsetPos(e){return e+this.startIndex;}offsetToSourcePos(e){return e-this.startIndex;}hasPlugin(e){if("string"==typeof e)return this.plugins.has(e);{let[t,s]=e;if(!this.hasPlugin(t))return!1;let r=this.plugins.get(t);for(let e of Object.keys(s))if((null==r?void 0:r[e])!==s[e])return!1;return!0;}}getPluginOption(e,t){var s;return null==(s=this.plugins.get(e))?void 0:s[t];}};function ea(e,t){void 0===e.trailingComments?e.trailingComments=t:e.trailingComments.unshift(...t);}function en(e,t){void 0===e.innerComments?e.innerComments=t:e.innerComments.unshift(...t);}function eo(e,t,s){let r=null,i=t.length;for(;null===r&&i>0;)r=t[--i];null===r||r.start>s.start?en(e,s.comments):ea(r,s.comments);}var el=class extends ei{addComment(e){this.filename&&(e.loc.filename=this.filename);let{commentsLen:t}=this.state;this.comments.length!==t&&(this.comments.length=t),this.comments.push(e),this.state.commentsLen++;}processComment(e){let{commentStack:t}=this.state,s=t.length;if(0===s)return;let r=s-1,i=t[r];i.start===e.end&&(i.leadingNode=e,r--);let{start:a}=e;for(;r>=0;r--){let s=t[r],i=s.end;if(i>a)s.containingNode=e,this.finalizeComment(s),t.splice(r,1);else{i===a&&(s.trailingNode=e);break;}}}finalizeComment(e){let{comments:t}=e;if(null!==e.leadingNode||null!==e.trailingNode){var s;null!==e.leadingNode&&ea(e.leadingNode,t),null!==e.trailingNode&&(void 0===(s=e.trailingNode).leadingComments?s.leadingComments=t:s.leadingComments.unshift(...t));}else{let{containingNode:s,start:r}=e;if(44===this.input.charCodeAt(this.offsetToSourcePos(r)-1))switch(s.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":eo(s,s.properties,e);break;case"CallExpression":case"OptionalCallExpression":eo(s,s.arguments,e);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":eo(s,s.params,e);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":eo(s,s.elements,e);break;case"ExportNamedDeclaration":case"ImportDeclaration":eo(s,s.specifiers,e);break;case"TSEnumDeclaration":case"TSEnumBody":eo(s,s.members,e);break;default:en(s,t);}else en(s,t);}}finalizeRemainingComments(){let{commentStack:e}=this.state;for(let t=e.length-1;t>=0;t--)this.finalizeComment(e[t]);this.state.commentStack=[];}resetPreviousNodeTrailingComments(e){let{commentStack:t}=this.state,{length:s}=t;if(0===s)return;let r=t[s-1];r.leadingNode===e&&(r.leadingNode=null);}resetPreviousIdentifierLeadingComments(e){let{commentStack:t}=this.state,{length:s}=t;0!==s&&(t[s-1].trailingNode===e?t[s-1].trailingNode=null:s>=2&&t[s-2].trailingNode===e&&(t[s-2].trailingNode=null));}takeSurroundingComments(e,t,s){let{commentStack:r}=this.state,i=r.length;if(0===i)return;let a=i-1;for(;a>=0;a--){let i=r[a],n=i.end;if(i.start===s)i.leadingNode=e;else if(n===t)i.trailingNode=e;else if(n<t)break;}}},eh=RegExp(/\r\n|[\r\n\u2028\u2029]/.source,"g");function ep(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1;}}function eu(e,t,s){for(let r=t;r<s;r++)if(ep(e.charCodeAt(r)))return!0;return!1;}var ec=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ed=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g,ef=class e{constructor(){this.flags=1024,this.startIndex=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=140,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[g.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0;}get strict(){return(1&this.flags)>0;}set strict(e){e?this.flags|=1:this.flags&=-2;}init({strictMode:e,sourceType:s,startIndex:r,startLine:i,startColumn:a}){this.strict=!1!==e&&(!0===e||"module"===s),this.startIndex=r,this.curLine=i,this.lineStart=-a,this.startLoc=this.endLoc=new t(i,a,r);}get maybeInArrowParameters(){return(2&this.flags)>0;}set maybeInArrowParameters(e){e?this.flags|=2:this.flags&=-3;}get inType(){return(4&this.flags)>0;}set inType(e){e?this.flags|=4:this.flags&=-5;}get noAnonFunctionType(){return(8&this.flags)>0;}set noAnonFunctionType(e){e?this.flags|=8:this.flags&=-9;}get hasFlowComment(){return(16&this.flags)>0;}set hasFlowComment(e){e?this.flags|=16:this.flags&=-17;}get isAmbientContext(){return(32&this.flags)>0;}set isAmbientContext(e){e?this.flags|=32:this.flags&=-33;}get inAbstractClass(){return(64&this.flags)>0;}set inAbstractClass(e){e?this.flags|=64:this.flags&=-65;}get inDisallowConditionalTypesContext(){return(128&this.flags)>0;}set inDisallowConditionalTypesContext(e){e?this.flags|=128:this.flags&=-129;}get soloAwait(){return(256&this.flags)>0;}set soloAwait(e){e?this.flags|=256:this.flags&=-257;}get inFSharpPipelineDirectBody(){return(512&this.flags)>0;}set inFSharpPipelineDirectBody(e){e?this.flags|=512:this.flags&=-513;}get canStartJSXElement(){return(1024&this.flags)>0;}set canStartJSXElement(e){e?this.flags|=1024:this.flags&=-1025;}get containsEsc(){return(2048&this.flags)>0;}set containsEsc(e){e?this.flags|=2048:this.flags&=-2049;}get hasTopLevelAwait(){return(4096&this.flags)>0;}set hasTopLevelAwait(e){e?this.flags|=4096:this.flags&=-4097;}curPosition(){return new t(this.curLine,this.pos-this.lineStart,this.pos+this.startIndex);}clone(){let t=new e;return t.flags=this.flags,t.startIndex=this.startIndex,t.curLine=this.curLine,t.lineStart=this.lineStart,t.startLoc=this.startLoc,t.endLoc=this.endLoc,t.errors=this.errors.slice(),t.potentialArrowAt=this.potentialArrowAt,t.noArrowAt=this.noArrowAt.slice(),t.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),t.topicContext=this.topicContext,t.labels=this.labels.slice(),t.commentsLen=this.commentsLen,t.commentStack=this.commentStack.slice(),t.pos=this.pos,t.type=this.type,t.value=this.value,t.start=this.start,t.end=this.end,t.lastTokEndLoc=this.lastTokEndLoc,t.lastTokStartLoc=this.lastTokStartLoc,t.context=this.context.slice(),t.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,t.strictErrors=this.strictErrors,t.tokensLength=this.tokensLength,t;}},em={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},ey={bin:e=>48===e||49===e,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function eg(e,t,s,r,i,a){let n=s,o=r,l=i,h="",p=null,u=s,{length:c}=t;for(;;){var d;if(s>=c){a.unterminated(n,o,l),h+=t.slice(u,s);break;}let f=t.charCodeAt(s);if(d=s,"template"===e?96===f||36===f&&123===t.charCodeAt(d+1):f===("double"===e?34:39)){h+=t.slice(u,s);break;}if(92===f){h+=t.slice(u,s);let n=function(e,t,s,r,i,a){let n=!i;t++;let o=e=>({pos:t,ch:e,lineStart:s,curLine:r}),l=e.charCodeAt(t++);switch(l){case 110:return o(`
`);case 114:return o("\r");case 120:{let i;return{code:i,pos:t}=ex(e,t,s,r,2,!1,n,a),o(null===i?null:String.fromCharCode(i));}case 117:{let i;return{code:i,pos:t}=ev(e,t,s,r,n,a),o(null===i?null:String.fromCodePoint(i));}case 116:return o("	");case 98:return o("\b");case 118:return o("\v");case 102:return o("\f");case 13:10===e.charCodeAt(t)&&++t;case 10:s=t,++r;case 8232:case 8233:return o("");case 56:case 57:if(i)return o(null);a.strictNumericEscape(t-1,s,r);default:if(l>=48&&l<=55){let n=t-1,l=/^[0-7]+/.exec(e.slice(n,t+2))[0],h=parseInt(l,8);h>255&&(h=parseInt(l=l.slice(0,-1),8)),t+=l.length-1;let p=e.charCodeAt(t);if("0"!==l||56===p||57===p){if(i)return o(null);a.strictNumericEscape(n,s,r);}return o(String.fromCharCode(h));}return o(String.fromCharCode(l));}}(t,s,r,i,"template"===e,a);null!==n.ch||p?h+=n.ch:p={pos:s,lineStart:r,curLine:i},({pos:s,lineStart:r,curLine:i}=n),u=s;}else 8232===f||8233===f?(++s,++i,r=s):10===f||13===f?"template"===e?(h+=t.slice(u,s)+`
`,++s,13===f&&10===t.charCodeAt(s)&&++s,++i,u=r=s):a.unterminated(n,o,l):++s;}return{pos:s,str:h,firstInvalidLoc:p,lineStart:r,curLine:i,containsInvalid:!!p};}function ex(e,t,s,r,i,a,n,o){let l=t,h;return{n:h,pos:t}=eP(e,t,s,r,16,i,a,!1,o,!n),null===h&&(n?o.invalidEscapeSequence(l,s,r):t=l-1),{code:h,pos:t};}function eP(e,t,s,r,i,a,n,o,l,h){let p=t,u=16===i?em.hex:em.decBinOct,c=16===i?ey.hex:10===i?ey.dec:8===i?ey.oct:ey.bin,d=!1,f=0;for(let p=0,m=a??1/0;p<m;++p){let a=e.charCodeAt(t),p;if(95===a&&"bail"!==o){let i=e.charCodeAt(t-1),a=e.charCodeAt(t+1);if(o){if(Number.isNaN(a)||!c(a)||u.has(i)||u.has(a)){if(h)return{n:null,pos:t};l.unexpectedNumericSeparator(t,s,r);}}else{if(h)return{n:null,pos:t};l.numericSeparatorInEscapeSequence(t,s,r);}++t;continue;}if((p=a>=97?a-97+10:a>=65?a-65+10:a>=48&&a<=57?a-48:1/0)>=i){if(p<=9&&h)return{n:null,pos:t};if(p<=9&&l.invalidDigit(t,s,r,i))p=0;else if(n)p=0,d=!0;else break;}++t,f=f*i+p;}return t===p||null!=a&&t-p!==a||d?{n:null,pos:t}:{n:f,pos:t};}function ev(e,t,s,r,i,a){let n;if(123===e.charCodeAt(t)){if(++t,{code:n,pos:t}=ex(e,t,s,r,e.indexOf("}",t)-t,!0,i,a),++t,null!==n&&n>1114111){if(!i)return{code:null,pos:t};a.invalidCodePoint(t,s,r);}}else({code:n,pos:t}=ex(e,t,s,r,4,!1,i,a));return{code:n,pos:t};}function eb(e,s,r){return new t(r,e-s,e);}var eT=new Set([103,109,115,105,121,117,100,118]),eA=class{constructor(e){let t=e.startIndex||0;this.type=e.type,this.value=e.value,this.start=t+e.start,this.end=t+e.end,this.loc=new s(e.startLoc,e.endLoc);}},eE=class extends el{constructor(e,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(e,t,s,r)=>!!(1024&this.optionFlags)&&(this.raise(c.InvalidDigit,eb(e,t,s),{radix:r}),!0),numericSeparatorInEscapeSequence:this.errorBuilder(c.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(c.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(c.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(c.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(e,t,s)=>{this.recordStrictModeErrors(c.StrictNumericEscape,eb(e,t,s));},unterminated:(e,t,s)=>{throw this.raise(c.UnterminatedString,eb(e-1,t,s));}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(c.StrictNumericEscape),unterminated:(e,t,s)=>{throw this.raise(c.UnterminatedTemplate,eb(e,t,s));}}),this.state=new ef,this.state.init(e),this.input=t,this.length=t.length,this.comments=[],this.isLookahead=!1;}pushToken(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength;}next(){this.checkKeywordEscapes(),128&this.optionFlags&&this.pushToken(new eA(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken();}eat(e){return!!this.match(e)&&(this.next(),!0);}match(e){return this.state.type===e;}createLookaheadState(e){return{pos:e.pos,value:null,type:e.type,start:e.start,end:e.end,context:[this.curContext()],inType:e.inType,startLoc:e.startLoc,lastTokEndLoc:e.lastTokEndLoc,curLine:e.curLine,lineStart:e.lineStart,curPosition:e.curPosition};}lookahead(){let e=this.state;this.state=this.createLookaheadState(e),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;let t=this.state;return this.state=e,t;}nextTokenStart(){return this.nextTokenStartSince(this.state.pos);}nextTokenStartSince(e){return ec.lastIndex=e,ec.test(this.input)?ec.lastIndex:e;}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart());}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos);}nextTokenInLineStartSince(e){return ed.lastIndex=e,ed.test(this.input)?ed.lastIndex:e;}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart());}codePointAtPos(e){let t=this.input.charCodeAt(e);if((64512&t)==55296&&++e<this.input.length){let s=this.input.charCodeAt(e);(64512&s)==56320&&(t=65536+((1023&t)<<10)+(1023&s));}return t;}setStrict(e){this.state.strict=e,e&&(this.state.strictErrors.forEach(([e,t])=>this.raise(e,t)),this.state.strictErrors.clear());}curContext(){return this.state.context[this.state.context.length-1];}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(140);return;}this.getTokenFromCode(this.codePointAtPos(this.state.pos));}skipBlockComment(e){let t;this.isLookahead||(t=this.state.curPosition());let r=this.state.pos,i=this.input.indexOf(e,r+2);if(-1===i)throw this.raise(c.UnterminatedComment,this.state.curPosition());for(this.state.pos=i+e.length,eh.lastIndex=r+2;eh.test(this.input)&&eh.lastIndex<=i;)++this.state.curLine,this.state.lineStart=eh.lastIndex;if(this.isLookahead)return;let a={type:"CommentBlock",value:this.input.slice(r+2,i),start:this.sourceToOffsetPos(r),end:this.sourceToOffsetPos(i+e.length),loc:new s(t,this.state.curPosition())};return 128&this.optionFlags&&this.pushToken(a),a;}skipLineComment(e){let t=this.state.pos,r;this.isLookahead||(r=this.state.curPosition());let i=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!ep(i)&&++this.state.pos<this.length;)i=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;let a=this.state.pos,n={type:"CommentLine",value:this.input.slice(t+e,a),start:this.sourceToOffsetPos(t),end:this.sourceToOffsetPos(a),loc:new s(r,this.state.curPosition())};return 128&this.optionFlags&&this.pushToken(n),n;}skipSpace(){let e=this.state.pos,t=2048&this.optionFlags?[]:null;e:for(;this.state.pos<this.length;){let s=this.input.charCodeAt(this.state.pos);switch(s){case 32:case 160:case 9:++this.state.pos;break;case 13:10===this.input.charCodeAt(this.state.pos+1)&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{let e=this.skipBlockComment("*/");void 0!==e&&(this.addComment(e),null==t||t.push(e));break;}case 47:{let e=this.skipLineComment(2);void 0!==e&&(this.addComment(e),null==t||t.push(e));break;}default:break e;}break;default:if(function(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1;}}(s))++this.state.pos;else if(45===s&&!this.inModule&&4096&this.optionFlags){let s=this.state.pos;if(45===this.input.charCodeAt(s+1)&&62===this.input.charCodeAt(s+2)&&(0===e||this.state.lineStart>e)){let e=this.skipLineComment(3);void 0!==e&&(this.addComment(e),null==t||t.push(e));}else break e;}else if(60===s&&!this.inModule&&4096&this.optionFlags){let e=this.state.pos;if(33===this.input.charCodeAt(e+1)&&45===this.input.charCodeAt(e+2)&&45===this.input.charCodeAt(e+3)){let e=this.skipLineComment(4);void 0!==e&&(this.addComment(e),null==t||t.push(e));}else break e;}else break e;}}if((null==t?void 0:t.length)>0){let s=this.state.pos,r={start:this.sourceToOffsetPos(e),end:this.sourceToOffsetPos(s),comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(r);}}finishToken(e,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();let s=this.state.type;this.state.type=e,this.state.value=t,this.isLookahead||this.updateContext(s);}replaceToken(e){this.state.type=e,this.updateContext();}readToken_numberSign(){if(0===this.state.pos&&this.readToken_interpreter())return;let e=this.state.pos+1,t=this.codePointAtPos(e);if(t>=48&&t<=57)throw this.raise(c.UnexpectedDigitAfterHash,this.state.curPosition());if(123===t||91===t&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),"bar"===this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(123===t?c.RecordExpressionHashIncorrectStartSyntaxType:c.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,123===t?this.finishToken(7):this.finishToken(1);}else z(t)?(++this.state.pos,this.finishToken(139,this.readWord1(t))):92===t?(++this.state.pos,this.finishToken(139,this.readWord1())):this.finishOp(27,1);}readToken_dot(){let e=this.input.charCodeAt(this.state.pos+1);if(e>=48&&e<=57){this.readNumber(!0);return;}46===e&&46===this.input.charCodeAt(this.state.pos+2)?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16));}readToken_slash(){61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(31,2):this.finishOp(56,1);}readToken_interpreter(){if(0!==this.state.pos||this.length<2)return!1;let e=this.input.charCodeAt(this.state.pos+1);if(33!==e)return!1;let t=this.state.pos;for(this.state.pos+=1;!ep(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);let s=this.input.slice(t+2,this.state.pos);return this.finishToken(28,s),!0;}readToken_mult_modulo(e){let t=42===e?55:54,s=1,r=this.input.charCodeAt(this.state.pos+1);42===e&&42===r&&(s++,r=this.input.charCodeAt(this.state.pos+2),t=57),61!==r||this.state.inType||(s++,t=37===e?33:30),this.finishOp(t,s);}readToken_pipe_amp(e){let t=this.input.charCodeAt(this.state.pos+1);if(t===e){61===this.input.charCodeAt(this.state.pos+2)?this.finishOp(30,3):this.finishOp(124===e?41:42,2);return;}if(124===e){if(62===t){this.finishOp(39,2);return;}if(this.hasPlugin("recordAndTuple")&&125===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(c.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(9);return;}if(this.hasPlugin("recordAndTuple")&&93===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(c.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(4);return;}}if(61===t){this.finishOp(30,2);return;}this.finishOp(124===e?43:45,1);}readToken_caret(){let e=this.input.charCodeAt(this.state.pos+1);61!==e||this.state.inType?94===e&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),94===this.input.codePointAt(this.state.pos)&&this.unexpected()):this.finishOp(44,1):this.finishOp(32,2);}readToken_atSign(){64===this.input.charCodeAt(this.state.pos+1)&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1);}readToken_plus_min(e){let t=this.input.charCodeAt(this.state.pos+1);if(t===e){this.finishOp(34,2);return;}61===t?this.finishOp(30,2):this.finishOp(53,1);}readToken_lt(){let{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(60===t){if(61===this.input.charCodeAt(e+2)){this.finishOp(30,3);return;}this.finishOp(51,2);return;}if(61===t){this.finishOp(49,2);return;}this.finishOp(47,1);}readToken_gt(){let{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(62===t){let t=62===this.input.charCodeAt(e+2)?3:2;if(61===this.input.charCodeAt(e+t)){this.finishOp(30,t+1);return;}this.finishOp(52,t);return;}if(61===t){this.finishOp(49,2);return;}this.finishOp(48,1);}readToken_eq_excl(e){let t=this.input.charCodeAt(this.state.pos+1);if(61===t){this.finishOp(46,61===this.input.charCodeAt(this.state.pos+2)?3:2);return;}if(61===e&&62===t){this.state.pos+=2,this.finishToken(19);return;}this.finishOp(61===e?29:35,1);}readToken_question(){let e=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);63===e?61===t?this.finishOp(30,3):this.finishOp(40,2):46!==e||t>=48&&t<=57?(++this.state.pos,this.finishToken(17)):(this.state.pos+=2,this.finishToken(18));}getTokenFromCode(e){switch(e){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(c.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2);}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(c.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6);}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{let e=this.input.charCodeAt(this.state.pos+1);if(120===e||88===e){this.readRadixNumber(16);return;}if(111===e||79===e){this.readRadixNumber(8);return;}if(98===e||66===e){this.readRadixNumber(2);return;}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(e);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(e);return;case 124:case 38:this.readToken_pipe_amp(e);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(e);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(e);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(z(e)){this.readWord(e);return;}}throw this.raise(c.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(e)});}finishOp(e,t){let s=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(e,s);}readRegexp(){let e=this.state.startLoc,t=this.state.start+1,s,i,{pos:a}=this.state;for(;;++a){if(a>=this.length)throw this.raise(c.UnterminatedRegExp,r(e,1));let t=this.input.charCodeAt(a);if(ep(t))throw this.raise(c.UnterminatedRegExp,r(e,1));if(s)s=!1;else{if(91===t)i=!0;else if(93===t&&i)i=!1;else if(47===t&&!i)break;s=92===t;}}let n=this.input.slice(t,a);++a;let o="",l=()=>r(e,a+2-t);for(;a<this.length;){let e=this.codePointAtPos(a),t=String.fromCharCode(e);if(eT.has(e))118===e?o.includes("u")&&this.raise(c.IncompatibleRegExpUVFlags,l()):117===e&&o.includes("v")&&this.raise(c.IncompatibleRegExpUVFlags,l()),o.includes(t)&&this.raise(c.DuplicateRegExpFlags,l());else if(W(e)||92===e)this.raise(c.MalformedRegExpFlags,l());else break;++a,o+=t;}this.state.pos=a,this.finishToken(138,{pattern:n,flags:o});}readInt(e,t,s=!1,r=!0){let{n:i,pos:a}=eP(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,t,s,r,this.errorHandlers_readInt,!1);return this.state.pos=a,i;}readRadixNumber(e){let t=this.state.pos,s=this.state.curPosition(),i=!1;this.state.pos+=2;let a=this.readInt(e);null==a&&this.raise(c.InvalidDigit,r(s,2),{radix:e});let n=this.input.charCodeAt(this.state.pos);if(110===n)++this.state.pos,i=!0;else if(109===n)throw this.raise(c.InvalidDecimal,s);if(z(this.codePointAtPos(this.state.pos)))throw this.raise(c.NumberIdentifier,this.state.curPosition());if(i){let e=this.input.slice(t,this.state.pos).replace(/[_n]/g,"");this.finishToken(136,e);return;}this.finishToken(135,a);}readNumber(e){let t=this.state.pos,s=this.state.curPosition(),i=!1,a=!1,n=!1,o=!1;e||null!==this.readInt(10)||this.raise(c.InvalidNumber,this.state.curPosition());let l=this.state.pos-t>=2&&48===this.input.charCodeAt(t);if(l){let e=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(c.StrictOctalLiteral,s),!this.state.strict){let t=e.indexOf("_");t>0&&this.raise(c.ZeroDigitNumericSeparator,r(s,t));}o=l&&!/[89]/.test(e);}let h=this.input.charCodeAt(this.state.pos);if(46!==h||o||(++this.state.pos,this.readInt(10),i=!0,h=this.input.charCodeAt(this.state.pos)),69!==h&&101!==h||o||((43===(h=this.input.charCodeAt(++this.state.pos))||45===h)&&++this.state.pos,null===this.readInt(10)&&this.raise(c.InvalidOrMissingExponent,s),i=!0,n=!0,h=this.input.charCodeAt(this.state.pos)),110===h&&((i||l)&&this.raise(c.InvalidBigIntLiteral,s),++this.state.pos,a=!0),109===h){this.expectPlugin("decimal",this.state.curPosition()),(n||l)&&this.raise(c.InvalidDecimal,s),++this.state.pos;var p=!0;}if(z(this.codePointAtPos(this.state.pos)))throw this.raise(c.NumberIdentifier,this.state.curPosition());let u=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(a){this.finishToken(136,u);return;}if(p){this.finishToken(137,u);return;}let d=o?parseInt(u,8):parseFloat(u);this.finishToken(135,d);}readCodePoint(e){let{code:t,pos:s}=ev(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,this.errorHandlers_readCodePoint);return this.state.pos=s,t;}readString(e){let{str:t,pos:s,curLine:r,lineStart:i}=eg(34===e?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=s+1,this.state.lineStart=i,this.state.curLine=r,this.finishToken(134,t);}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken();}readTemplateToken(){let e=this.input[this.state.pos],{str:s,firstInvalidLoc:r,pos:i,curLine:a,lineStart:n}=eg("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=i+1,this.state.lineStart=n,this.state.curLine=a,r&&(this.state.firstInvalidTemplateEscapePos=new t(r.curLine,r.pos-r.lineStart,this.sourceToOffsetPos(r.pos))),96===this.input.codePointAt(i)?this.finishToken(24,r?null:e+s+"`"):(this.state.pos++,this.finishToken(25,r?null:e+s+"${"));}recordStrictModeErrors(e,t){let s=t.index;this.state.strict&&!this.state.strictErrors.has(s)?this.raise(e,t):this.state.strictErrors.set(s,[e,t]);}readWord1(e){this.state.containsEsc=!1;let t="",s=this.state.pos,r=this.state.pos;for(void 0!==e&&(this.state.pos+=e<=65535?1:2);this.state.pos<this.length;){let e=this.codePointAtPos(this.state.pos);if(W(e))this.state.pos+=e<=65535?1:2;else if(92===e){this.state.containsEsc=!0,t+=this.input.slice(r,this.state.pos);let e=this.state.curPosition(),i=this.state.pos===s?z:W;if(117!==this.input.charCodeAt(++this.state.pos)){this.raise(c.MissingUnicodeEscape,this.state.curPosition()),r=this.state.pos-1;continue;}++this.state.pos;let a=this.readCodePoint(!0);null!==a&&(i(a)||this.raise(c.EscapedCharNotAnIdentifier,e),t+=String.fromCodePoint(a)),r=this.state.pos;}else break;}return t+this.input.slice(r,this.state.pos);}readWord(e){let t=this.readWord1(e),s=P.get(t);void 0!==s?this.finishToken(s,E[s]):this.finishToken(132,t);}checkKeywordEscapes(){let{type:e}=this.state;R(e)&&this.state.containsEsc&&this.raise(c.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:E[e]});}raise(e,s,r={}){let i=e(s instanceof t?s:s.loc.start,r);if(!(1024&this.optionFlags))throw i;return this.isLookahead||this.state.errors.push(i),i;}raiseOverwrite(e,s,r={}){let i=s instanceof t?s:s.loc.start,a=i.index,n=this.state.errors;for(let t=n.length-1;t>=0;t--){let s=n[t];if(s.loc.index===a)return n[t]=e(i,r);if(s.loc.index<a)break;}return this.raise(e,s,r);}updateContext(e){}unexpected(e,t){throw this.raise(c.UnexpectedToken,e??this.state.startLoc,{expected:t?E[t]:null});}expectPlugin(e,t){if(this.hasPlugin(e))return!0;throw this.raise(c.MissingPlugin,t??this.state.startLoc,{missingPlugin:[e]});}expectOnePlugin(e){if(!e.some(e=>this.hasPlugin(e)))throw this.raise(c.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:e});}errorBuilder(e){return(t,s,r)=>{this.raise(e,eb(t,s,r));};}},ew=class{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map;}},eS=class{constructor(e){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=e;}current(){return this.stack[this.stack.length-1];}enter(){this.stack.push(new ew);}exit(){let e=this.stack.pop(),t=this.current();for(let[s,r]of Array.from(e.undefinedPrivateNames))t?t.undefinedPrivateNames.has(s)||t.undefinedPrivateNames.set(s,r):this.parser.raise(c.InvalidPrivateFieldResolution,r,{identifierName:s});}declarePrivateName(e,t,s){let{privateNames:r,loneAccessors:i,undefinedPrivateNames:a}=this.current(),n=r.has(e);if(3&t){let s=n&&i.get(e);if(s){let r=4&t;(n=(3&s)==(3&t)||(4&s)!==r)||i.delete(e);}else n||i.set(e,t);}n&&this.parser.raise(c.PrivateNameRedeclaration,s,{identifierName:e}),r.add(e),a.delete(e);}usePrivateName(e,t){let s;for(s of this.stack)if(s.privateNames.has(e))return;s?s.undefinedPrivateNames.set(e,t):this.parser.raise(c.InvalidPrivateFieldResolution,t,{identifierName:e});}},eC=class{constructor(e=0){this.type=e;}canBeArrowParameterDeclaration(){return 2===this.type||1===this.type;}isCertainlyParameterDeclaration(){return 3===this.type;}},eI=class extends eC{constructor(e){super(e),this.declarationErrors=new Map;}recordDeclarationError(e,t){let s=t.index;this.declarationErrors.set(s,[e,t]);}clearDeclarationError(e){this.declarationErrors.delete(e);}iterateErrors(e){this.declarationErrors.forEach(e);}},eN=class{constructor(e){this.parser=void 0,this.stack=[new eC],this.parser=e;}enter(e){this.stack.push(e);}exit(){this.stack.pop();}recordParameterInitializerError(e,t){let s=t.loc.start,{stack:r}=this,i=r.length-1,a=r[i];for(;!a.isCertainlyParameterDeclaration();){if(!a.canBeArrowParameterDeclaration())return;a.recordDeclarationError(e,s),a=r[--i];}this.parser.raise(e,s);}recordArrowParameterBindingError(e,t){let{stack:s}=this,r=s[s.length-1],i=t.loc.start;if(r.isCertainlyParameterDeclaration())this.parser.raise(e,i);else{if(!r.canBeArrowParameterDeclaration())return;r.recordDeclarationError(e,i);}}recordAsyncArrowParametersError(e){let{stack:t}=this,s=t.length-1,r=t[s];for(;r.canBeArrowParameterDeclaration();)2===r.type&&r.recordDeclarationError(c.AwaitBindingIdentifier,e),r=t[--s];}validateAsPattern(){let{stack:e}=this,t=e[e.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors(([t,s])=>{this.parser.raise(t,s);let r=e.length-2,i=e[r];for(;i.canBeArrowParameterDeclaration();)i.clearDeclarationError(s.index),i=e[--r];});}},ek=class{constructor(){this.stacks=[];}enter(e){this.stacks.push(e);}exit(){this.stacks.pop();}currentFlags(){return this.stacks[this.stacks.length-1];}get hasAwait(){return(2&this.currentFlags())>0;}get hasYield(){return(1&this.currentFlags())>0;}get hasReturn(){return(4&this.currentFlags())>0;}get hasIn(){return(8&this.currentFlags())>0;}};function eF(e,t){return(e?2:0)|(t?1:0);}var eL=class extends eE{addExtra(e,t,s,r=!0){if(!e)return;let{extra:i}=e;null==i&&(i={},e.extra=i),r?i[t]=s:Object.defineProperty(i,t,{enumerable:r,value:s});}isContextual(e){return this.state.type===e&&!this.state.containsEsc;}isUnparsedContextual(e,t){let s=e+t.length;if(this.input.slice(e,s)===t){let e=this.input.charCodeAt(s);return!(W(e)||(64512&e)==55296);}return!1;}isLookaheadContextual(e){let t=this.nextTokenStart();return this.isUnparsedContextual(t,e);}eatContextual(e){return!!this.isContextual(e)&&(this.next(),!0);}expectContextual(e,t){if(!this.eatContextual(e)){if(null!=t)throw this.raise(t,this.state.startLoc);this.unexpected(null,e);}}canInsertSemicolon(){return this.match(140)||this.match(8)||this.hasPrecedingLineBreak();}hasPrecedingLineBreak(){return eu(this.input,this.offsetToSourcePos(this.state.lastTokEndLoc.index),this.state.start);}hasFollowingLineBreak(){return eu(this.input,this.state.end,this.nextTokenStart());}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon();}semicolon(e=!0){(e?this.isLineTerminator():this.eat(13))||this.raise(c.MissingSemicolon,this.state.lastTokEndLoc);}expect(e,t){this.eat(e)||this.unexpected(t,e);}tryParse(e,t=this.state.clone()){let s={node:null};try{let r=e((e=null)=>{throw s.node=e,s;});if(this.state.errors.length>t.errors.length){let e=this.state;return this.state=t,this.state.tokensLength=e.tokensLength,{node:r,error:e.errors[t.errors.length],thrown:!1,aborted:!1,failState:e};}return{node:r,error:null,thrown:!1,aborted:!1,failState:null};}catch(r){let e=this.state;if(this.state=t,r instanceof SyntaxError)return{node:null,error:r,thrown:!0,aborted:!1,failState:e};if(r===s)return{node:s.node,error:null,thrown:!1,aborted:!0,failState:e};throw r;}}checkExpressionErrors(e,t){if(!e)return!1;let{shorthandAssignLoc:s,doubleProtoLoc:r,privateKeyLoc:i,optionalParametersLoc:a}=e,n=!!s||!!r||!!a||!!i;if(!t)return n;null!=s&&this.raise(c.InvalidCoverInitializedName,s),null!=r&&this.raise(c.DuplicateProto,r),null!=i&&this.raise(c.UnexpectedPrivateField,i),null!=a&&this.unexpected(a);}isLiteralPropertyName(){return O(this.state.type);}isPrivateName(e){return"PrivateName"===e.type;}getPrivateNameSV(e){return e.id.name;}hasPropertyAsPrivateName(e){return("MemberExpression"===e.type||"OptionalMemberExpression"===e.type)&&this.isPrivateName(e.property);}isObjectProperty(e){return"ObjectProperty"===e.type;}isObjectMethod(e){return"ObjectMethod"===e.type;}initializeScopes(e="module"===this.options.sourceType){let t=this.state.labels;this.state.labels=[];let s=this.exportedIdentifiers;this.exportedIdentifiers=new Set;let r=this.inModule;this.inModule=e;let i=this.scope,a=this.getScopeHandler();this.scope=new a(this,e);let n=this.prodParam;this.prodParam=new ek;let o=this.classScope;this.classScope=new eS(this);let l=this.expressionScope;return this.expressionScope=new eN(this),()=>{this.state.labels=t,this.exportedIdentifiers=s,this.inModule=r,this.scope=i,this.prodParam=n,this.classScope=o,this.expressionScope=l;};}enterInitialScopes(){let e=0;this.inModule&&(e|=2),this.scope.enter(1),this.prodParam.enter(e);}checkDestructuringPrivate(e){let{privateKeyLoc:t}=e;null!==t&&this.expectPlugin("destructuringPrivate",t);}},eM=class{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null;}},eO=class{constructor(e,t,r){this.type="",this.start=t,this.end=0,this.loc=new s(r),(null==e?void 0:e.optionFlags)&64&&(this.range=[t,0]),null!=e&&e.filename&&(this.loc.filename=e.filename);}},eD=eO.prototype;function eR(e){let{type:t,start:s,end:r,loc:i,range:a,extra:n,name:o}=e,l=Object.create(eD);return l.type=t,l.start=s,l.end=r,l.loc=i,l.range=a,l.extra=n,l.name=o,"Placeholder"===t&&(l.expectedNode=e.expectedNode),l;}eD.__clone=function(){let e=new eO(void 0,this.start,this.loc.start),t=Object.keys(this);for(let s=0,r=t.length;s<r;s++){let r=t[s];"leadingComments"!==r&&"trailingComments"!==r&&"innerComments"!==r&&(e[r]=this[r]);}return e;};var eB=class extends eL{startNode(){let e=this.state.startLoc;return new eO(this,e.index,e);}startNodeAt(e){return new eO(this,e.index,e);}startNodeAtNode(e){return this.startNodeAt(e.loc.start);}finishNode(e,t){return this.finishNodeAt(e,t,this.state.lastTokEndLoc);}finishNodeAt(e,t,s){return e.type=t,e.end=s.index,e.loc.end=s,64&this.optionFlags&&(e.range[1]=s.index),2048&this.optionFlags&&this.processComment(e),e;}resetStartLocation(e,t){e.start=t.index,e.loc.start=t,64&this.optionFlags&&(e.range[0]=t.index);}resetEndLocation(e,t=this.state.lastTokEndLoc){e.end=t.index,e.loc.end=t,64&this.optionFlags&&(e.range[1]=t.index);}resetStartLocationFromNode(e,t){this.resetStartLocation(e,t.loc.start);}},ej=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),eV=u`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:e})=>`Cannot overwrite reserved type ${e}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:e,enumName:t})=>`Boolean enum members need to be initialized. Use either \`${e} = true,\` or \`${e} = false,\` in enum \`${t}\`.`,EnumDuplicateMemberName:({memberName:e,enumName:t})=>`Enum member names need to be unique, but the name \`${e}\` has already been used before in enum \`${t}\`.`,EnumInconsistentMemberValues:({enumName:e})=>`Enum \`${e}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:e,enumName:t})=>`Enum type \`${e}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${t}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:e})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:e,memberName:t,explicitType:s})=>`Enum \`${e}\` has type \`${s}\`, so the initializer of \`${t}\` needs to be a ${s} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:e,memberName:t})=>`Symbol enum members cannot be initialized. Use \`${t},\` in enum \`${e}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:e,memberName:t})=>`The enum member initializer for \`${t}\` needs to be a literal (either a boolean, number, or string) in enum \`${e}\`.`,EnumInvalidMemberName:({enumName:e,memberName:t,suggestion:s})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${t}\`, consider using \`${s}\`, in enum \`${e}\`.`,EnumNumberMemberNotInitialized:({enumName:e,memberName:t})=>`Number enum members need to be initialized, e.g. \`${t} = 1\` in enum \`${e}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:e})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${e}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:e})=>`Unexpected reserved type ${e}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:e,suggestion:t})=>`\`declare export ${e}\` is not supported. Use \`${t}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function e_(e){return"type"===e.importKind||"typeof"===e.importKind;}var eU={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"},eq=/\*?\s*@((?:no)?flow)\b/,e$=u`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:e})=>`Expected corresponding JSX closing tag for <${e}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:e,HTMLEntity:t})=>`Unexpected token \`${e}\`. Did you mean \`${t}\` or \`{'${e}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function eH(e){return!!e&&("JSXOpeningFragment"===e.type||"JSXClosingFragment"===e.type);}function ez(e){if("JSXIdentifier"===e.type)return e.name;if("JSXNamespacedName"===e.type)return e.namespace.name+":"+e.name.name;if("JSXMemberExpression"===e.type)return ez(e.object)+"."+ez(e.property);throw Error("Node had unexpected type: "+e.type);}var eW=class extends ee{constructor(...e){super(...e),this.tsNames=new Map;}},eK=class extends et{constructor(...e){super(...e),this.importsStack=[];}createScope(e){return this.importsStack.push(new Set),new eW(e);}enter(e){256===e&&this.importsStack.push(new Set),super.enter(e);}exit(){let e=super.exit();return 256===e&&this.importsStack.pop(),e;}hasImport(e,t){let s=this.importsStack.length;if(this.importsStack[s-1].has(e))return!0;if(!t&&s>1){for(let t=0;t<s-1;t++)if(this.importsStack[t].has(e))return!0;}return!1;}declareName(e,t,s){if(4096&t){this.hasImport(e,!0)&&this.parser.raise(c.VarRedeclaration,s,{identifierName:e}),this.importsStack[this.importsStack.length-1].add(e);return;}let r=this.currentScope(),i=r.tsNames.get(e)||0;if(1024&t){this.maybeExportDefined(r,e),r.tsNames.set(e,16|i);return;}super.declareName(e,t,s),2&t&&(1&t||(this.checkRedeclarationInScope(r,e,t,s),this.maybeExportDefined(r,e)),i|=1),256&t&&(i|=2),512&t&&(i|=4),128&t&&(i|=8),i&&r.tsNames.set(e,i);}isRedeclaredInScope(e,t,s){let r=e.tsNames.get(t);return(2&r)>0?!(256&s)||!!(512&s)!=(4&r)>0:128&s&&(8&r)>0?!!(2&e.names.get(t))&&!!(1&s):!!(2&s)&&(1&r)>0||super.isRedeclaredInScope(e,t,s);}checkLocalExport(e){let{name:t}=e;if(this.hasImport(t))return;let s=this.scopeStack.length;for(let e=s-1;e>=0;e--){let s=this.scopeStack[e].tsNames.get(t);if((1&s)>0||(16&s)>0)return;}super.checkLocalExport(e);}},eJ=e=>"ParenthesizedExpression"===e.type?eJ(e.expression):e,eX=class extends eB{toAssignable(e,t=!1){var s,r,i;let a;switch(("ParenthesizedExpression"===e.type||null!=(s=e.extra)&&s.parenthesized)&&(a=eJ(e),t?"Identifier"===a.type?this.expressionScope.recordArrowParameterBindingError(c.InvalidParenthesizedAssignment,e):"MemberExpression"===a.type||this.isOptionalMemberExpression(a)||this.raise(c.InvalidParenthesizedAssignment,e):this.raise(c.InvalidParenthesizedAssignment,e)),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern";for(let s=0,r=e.properties.length,a=r-1;s<r;s++){let r=e.properties[s],n=s===a;this.toAssignableObjectExpressionProp(r,n,t),n&&"RestElement"===r.type&&null!=(i=e.extra)&&i.trailingCommaLoc&&this.raise(c.RestTrailingComma,e.extra.trailingCommaLoc);}break;case"ObjectProperty":{let{key:s,value:r}=e;this.isPrivateName(s)&&this.classScope.usePrivateName(this.getPrivateNameSV(s),s.loc.start),this.toAssignable(r,t);break;}case"SpreadElement":throw Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,null==(r=e.extra)?void 0:r.trailingCommaLoc,t);break;case"AssignmentExpression":"="!==e.operator&&this.raise(c.MissingEqInAssignment,e.left.loc.end),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(a,t);}}toAssignableObjectExpressionProp(e,t,s){if("ObjectMethod"===e.type)this.raise("get"===e.kind||"set"===e.kind?c.PatternHasAccessor:c.PatternHasMethod,e.key);else if("SpreadElement"===e.type){e.type="RestElement";let r=e.argument;this.checkToRestConversion(r,!1),this.toAssignable(r,s),t||this.raise(c.RestTrailingComma,e);}else this.toAssignable(e,s);}toAssignableList(e,t,s){let r=e.length-1;for(let i=0;i<=r;i++){let a=e[i];if(a){if("SpreadElement"===a.type){a.type="RestElement";let e=a.argument;this.checkToRestConversion(e,!0),this.toAssignable(e,s);}else this.toAssignable(a,s);"RestElement"===a.type&&(i<r?this.raise(c.RestTrailingComma,a):t&&this.raise(c.RestTrailingComma,t));}}}isAssignable(e,t){switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{let t=e.properties.length-1;return e.properties.every((e,s)=>"ObjectMethod"!==e.type&&(s===t||"SpreadElement"!==e.type)&&this.isAssignable(e));}case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every(e=>null===e||this.isAssignable(e));case"AssignmentExpression":return"="===e.operator;case"ParenthesizedExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1;}}toReferencedList(e,t){return e;}toReferencedListDeep(e,t){for(let s of(this.toReferencedList(e,t),e))(null==s?void 0:s.type)==="ArrayExpression"&&this.toReferencedListDeep(s.elements);}parseSpread(e){let t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(e,void 0),this.finishNode(t,"SpreadElement");}parseRestBinding(){let e=this.startNode();return this.next(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement");}parseBindingAtom(){switch(this.state.type){case 0:{let e=this.startNode();return this.next(),e.elements=this.parseBindingList(3,93,1),this.finishNode(e,"ArrayPattern");}case 5:return this.parseObjectLike(8,!0);}return this.parseIdentifier();}parseBindingList(e,t,s){let r=1&s,i=[],a=!0;for(;!this.eat(e);)if(a?a=!1:this.expect(12),r&&this.match(12))i.push(null);else{if(this.eat(e))break;if(this.match(21)){let r=this.parseRestBinding();if((this.hasPlugin("flow")||2&s)&&(r=this.parseFunctionParamType(r)),i.push(r),!this.checkCommaAfterRest(t)){this.expect(e);break;}}else{let e=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(c.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)e.push(this.parseDecorator());i.push(this.parseAssignableListItem(s,e));}}return i;}parseBindingRestProperty(e){return this.next(),e.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(e,"RestElement");}parseBindingProperty(){let{type:e,startLoc:t}=this.state;if(21===e)return this.parseBindingRestProperty(this.startNode());let s=this.startNode();return 139===e?(this.expectPlugin("destructuringPrivate",t),this.classScope.usePrivateName(this.state.value,t),s.key=this.parsePrivateName()):this.parsePropertyName(s),s.method=!1,this.parseObjPropValue(s,t,!1,!1,!0,!1);}parseAssignableListItem(e,t){let s=this.parseMaybeDefault();(this.hasPlugin("flow")||2&e)&&this.parseFunctionParamType(s);let r=this.parseMaybeDefault(s.loc.start,s);return t.length&&(s.decorators=t),r;}parseFunctionParamType(e){return e;}parseMaybeDefault(e,t){var s;if(null!=e||(e=this.state.startLoc),t=null!=(s=t)?s:this.parseBindingAtom(),!this.eat(29))return t;let r=this.startNodeAt(e);return r.left=t,r.right=this.parseMaybeAssignAllowIn(),this.finishNode(r,"AssignmentPattern");}isValidLVal(e,t,s){switch(e){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties";}return!1;}isOptionalMemberExpression(e){return"OptionalMemberExpression"===e.type;}checkLVal(e,t,s=64,r=!1,i=!1,a=!1){var n;let o,l;let h=e.type;if(this.isObjectMethod(e))return;let p=this.isOptionalMemberExpression(e);if(p||"MemberExpression"===h){p&&(this.expectPlugin("optionalChainingAssign",e.loc.start),"AssignmentExpression"!==t.type&&this.raise(c.InvalidLhsOptionalChaining,e,{ancestor:t})),64!==s&&this.raise(c.InvalidPropertyBindingPattern,e);return;}if("Identifier"===h){this.checkIdentifier(e,s,i);let{name:t}=e;r&&(r.has(t)?this.raise(c.ParamDupe,e):r.add(t));return;}let u=this.isValidLVal(h,!(a||null!=(n=e.extra)&&n.parenthesized)&&"AssignmentExpression"===t.type,s);if(!0===u)return;if(!1===u){let r=64===s?c.InvalidLhs:c.InvalidLhsBinding;this.raise(r,e,{ancestor:t});return;}"string"==typeof u?(o=u,l="ParenthesizedExpression"===h):[o,l]=u;let d="ArrayPattern"===h||"ObjectPattern"===h?{type:h}:t,f=e[o];if(Array.isArray(f))for(let e of f)e&&this.checkLVal(e,d,s,r,i,l);else f&&this.checkLVal(f,d,s,r,i,l);}checkIdentifier(e,t,s=!1){var r;this.state.strict&&(s?Q(e.name,this.inModule):(r=e.name,X.has(r)))&&(64===t?this.raise(c.StrictEvalArguments,e,{referenceName:e.name}):this.raise(c.StrictEvalArgumentsBinding,e,{bindingName:e.name})),8192&t&&"let"===e.name&&this.raise(c.LetInLexicalBinding,e),64&t||this.declareNameFromIdentifier(e,t);}declareNameFromIdentifier(e,t){this.scope.declareName(e.name,t,e.loc.start);}checkToRestConversion(e,t){switch(e.type){case"ParenthesizedExpression":this.checkToRestConversion(e.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(c.InvalidRestAssignmentPattern,e);}}checkCommaAfterRest(e){return!!this.match(12)&&(this.raise(this.lookaheadCharCode()===e?c.RestTrailingComma:c.ElementAfterRest,this.state.startLoc),!0);}};function eG(e){if(!e)throw Error("Assert fail");}var eY=u`typescript`({AbstractMethodHasImplementation:({methodName:e})=>`Method '${e}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:e})=>`Property '${e}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:e})=>`'declare' is not allowed in ${e}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:e})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:e})=>`Duplicate modifier: '${e}'.`,EmptyHeritageClauseType:({token:e})=>`'${e}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:e})=>`'${e[0]}' modifier cannot be used with '${e[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:e})=>`Index signatures cannot have an accessibility modifier ('${e}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:e})=>`'${e}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:e})=>`'${e}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:e})=>`'${e}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:e})=>`'${e[0]}' modifier must precede '${e[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:e})=>`Private elements cannot have an accessibility modifier ('${e}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:e})=>`Single type parameter ${e} should have a trailing comma. Example usage: <${e},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:e})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${e}.`});function eQ(e){return"private"===e||"public"===e||"protected"===e;}function eZ(e,t){return t?"Literal"===e.type&&("number"==typeof e.value||"bigint"in e):"NumericLiteral"===e.type||"BigIntLiteral"===e.type;}var e0=u`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),e1=["minimal","fsharp","hack","smart"],e2=["^^","@@","^","%","#"],e4={estree:e=>class extends e{parse(){let e=m(super.parse());return 128&this.optionFlags&&(e.tokens=e.tokens.map(m)),e;}parseRegExpLiteral({pattern:e,flags:t}){let s=null;try{s=new RegExp(e,t);}catch{}let r=this.estreeParseLiteral(s);return r.regex={pattern:e,flags:t},r;}parseBigIntLiteral(e){let t;try{t=BigInt(e);}catch{t=null;}let s=this.estreeParseLiteral(t);return s.bigint=String(s.value||e),s;}parseDecimalLiteral(e){let t=this.estreeParseLiteral(null);return t.decimal=String(t.value||e),t;}estreeParseLiteral(e){return this.parseLiteral(e,"Literal");}parseStringLiteral(e){return this.estreeParseLiteral(e);}parseNumericLiteral(e){return this.estreeParseLiteral(e);}parseNullLiteral(){return this.estreeParseLiteral(null);}parseBooleanLiteral(e){return this.estreeParseLiteral(e);}directiveToStmt(e){let t=e.value;return delete e.value,t.type="Literal",t.raw=t.extra.raw,t.value=t.extra.expressionValue,e.type="ExpressionStatement",e.expression=t,e.directive=t.extra.rawValue,delete t.extra,e;}initFunction(e,t){super.initFunction(e,t),e.expression=!1;}checkDeclaration(e){null!=e&&this.isObjectProperty(e)?this.checkDeclaration(e.value):super.checkDeclaration(e);}getObjectOrClassMethodParams(e){return e.value.params;}isValidDirective(e){var t;return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&!(null!=(t=e.expression.extra)&&t.parenthesized);}parseBlockBody(e,t,s,r,i){super.parseBlockBody(e,t,s,r,i);let a=e.directives.map(e=>this.directiveToStmt(e));e.body=a.concat(e.body),delete e.directives;}parsePrivateName(){let e=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(e):e;}convertPrivateNameToPrivateIdentifier(e){let t=super.getPrivateNameSV(e);return delete e.id,e.name=t,e.type="PrivateIdentifier",e;}isPrivateName(e){return this.getPluginOption("estree","classFeatures")?"PrivateIdentifier"===e.type:super.isPrivateName(e);}getPrivateNameSV(e){return this.getPluginOption("estree","classFeatures")?e.name:super.getPrivateNameSV(e);}parseLiteral(e,t){let s=super.parseLiteral(e,t);return s.raw=s.extra.raw,delete s.extra,s;}parseFunctionBody(e,t,s=!1){super.parseFunctionBody(e,t,s),e.expression="BlockStatement"!==e.body.type;}parseMethod(e,t,s,r,i,a,n=!1){let o=this.startNode();o.kind=e.kind,(o=super.parseMethod(o,t,s,r,i,a,n)).type="FunctionExpression",delete o.kind,e.value=o;let{typeParameters:l}=e;return l&&(delete e.typeParameters,o.typeParameters=l,this.resetStartLocationFromNode(o,l)),"ClassPrivateMethod"===a&&(e.computed=!1),this.finishNode(e,"MethodDefinition");}nameIsConstructor(e){return"Literal"===e.type?"constructor"===e.value:super.nameIsConstructor(e);}parseClassProperty(...e){let t=super.parseClassProperty(...e);return this.getPluginOption("estree","classFeatures")&&(t.type="PropertyDefinition"),t;}parseClassPrivateProperty(...e){let t=super.parseClassPrivateProperty(...e);return this.getPluginOption("estree","classFeatures")&&(t.type="PropertyDefinition",t.computed=!1),t;}parseObjectMethod(e,t,s,r,i){let a=super.parseObjectMethod(e,t,s,r,i);return a&&(a.type="Property","method"===a.kind&&(a.kind="init"),a.shorthand=!1),a;}parseObjectProperty(e,t,s,r){let i=super.parseObjectProperty(e,t,s,r);return i&&(i.kind="init",i.type="Property"),i;}isValidLVal(e,t,s){return"Property"===e?"value":super.isValidLVal(e,t,s);}isAssignable(e,t){return null!=e&&this.isObjectProperty(e)?this.isAssignable(e.value,t):super.isAssignable(e,t);}toAssignable(e,t=!1){if(null!=e&&this.isObjectProperty(e)){let{key:s,value:r}=e;this.isPrivateName(s)&&this.classScope.usePrivateName(this.getPrivateNameSV(s),s.loc.start),this.toAssignable(r,t);}else super.toAssignable(e,t);}toAssignableObjectExpressionProp(e,t,s){"Property"===e.type&&("get"===e.kind||"set"===e.kind)?this.raise(c.PatternHasAccessor,e.key):"Property"===e.type&&e.method?this.raise(c.PatternHasMethod,e.key):super.toAssignableObjectExpressionProp(e,t,s);}finishCallExpression(e,t){let s=super.finishCallExpression(e,t);if("Import"===s.callee.type){var r,i;s.type="ImportExpression",s.source=s.arguments[0],s.options=null!=(r=s.arguments[1])?r:null,s.attributes=null!=(i=s.arguments[1])?i:null,delete s.arguments,delete s.callee;}return s;}toReferencedArguments(e){"ImportExpression"!==e.type&&super.toReferencedArguments(e);}parseExport(e,t){let s=this.state.lastTokStartLoc,r=super.parseExport(e,t);switch(r.type){case"ExportAllDeclaration":r.exported=null;break;case"ExportNamedDeclaration":1===r.specifiers.length&&"ExportNamespaceSpecifier"===r.specifiers[0].type&&(r.type="ExportAllDeclaration",r.exported=r.specifiers[0].exported,delete r.specifiers);case"ExportDefaultDeclaration":{var i;let{declaration:e}=r;(null==e?void 0:e.type)==="ClassDeclaration"&&(null==(i=e.decorators)?void 0:i.length)>0&&e.start===r.start&&this.resetStartLocation(r,s);}}return r;}parseSubscript(e,t,s,r){let i=super.parseSubscript(e,t,s,r);if(r.optionalChainMember){if(("OptionalMemberExpression"===i.type||"OptionalCallExpression"===i.type)&&(i.type=i.type.substring(8)),r.stop){let e=this.startNodeAtNode(i);return e.expression=i,this.finishNode(e,"ChainExpression");}}else("MemberExpression"===i.type||"CallExpression"===i.type)&&(i.optional=!1);return i;}isOptionalMemberExpression(e){return"ChainExpression"===e.type?"MemberExpression"===e.expression.type:super.isOptionalMemberExpression(e);}hasPropertyAsPrivateName(e){return"ChainExpression"===e.type&&(e=e.expression),super.hasPropertyAsPrivateName(e);}isObjectProperty(e){return"Property"===e.type&&"init"===e.kind&&!e.method;}isObjectMethod(e){return"Property"===e.type&&(e.method||"get"===e.kind||"set"===e.kind);}finishNodeAt(e,t,s){return m(super.finishNodeAt(e,t,s));}resetStartLocation(e,t){super.resetStartLocation(e,t),m(e);}resetEndLocation(e,t=this.state.lastTokEndLoc){super.resetEndLocation(e,t),m(e);}},jsx:e=>class extends e{jsxReadToken(){let e="",t=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(e$.UnterminatedJsxContent,this.state.startLoc);let s=this.input.charCodeAt(this.state.pos);switch(s){case 60:case 123:if(this.state.pos===this.state.start){60===s&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(143)):super.getTokenFromCode(s);return;}e+=this.input.slice(t,this.state.pos),this.finishToken(142,e);return;case 38:e+=this.input.slice(t,this.state.pos)+this.jsxReadEntity(),t=this.state.pos;break;default:ep(s)?(e+=this.input.slice(t,this.state.pos)+this.jsxReadNewLine(!0),t=this.state.pos):++this.state.pos;}}}jsxReadNewLine(e){let t=this.input.charCodeAt(this.state.pos),s;return++this.state.pos,13===t&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,s=e?`
`:`\r
`):s=String.fromCharCode(t),++this.state.curLine,this.state.lineStart=this.state.pos,s;}jsxReadString(e){let t="",s=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(c.UnterminatedString,this.state.startLoc);let r=this.input.charCodeAt(this.state.pos);if(r===e)break;38===r?(t+=this.input.slice(s,this.state.pos)+this.jsxReadEntity(),s=this.state.pos):ep(r)?(t+=this.input.slice(s,this.state.pos)+this.jsxReadNewLine(!1),s=this.state.pos):++this.state.pos;}t+=this.input.slice(s,this.state.pos++),this.finishToken(134,t);}jsxReadEntity(){let e=++this.state.pos;if(35===this.codePointAtPos(this.state.pos)){++this.state.pos;let e=10;120===this.codePointAtPos(this.state.pos)&&(e=16,++this.state.pos);let t=this.readInt(e,void 0,!1,"bail");if(null!==t&&59===this.codePointAtPos(this.state.pos))return++this.state.pos,String.fromCodePoint(t);}else{let t=0,s=!1;for(;t++<10&&this.state.pos<this.length&&!(s=59===this.codePointAtPos(this.state.pos));)++this.state.pos;if(s){let t;if(this.input.slice(e,this.state.pos),++this.state.pos,t)return t;}}return this.state.pos=e,"&";}jsxReadWord(){let e,t=this.state.pos;do e=this.input.charCodeAt(++this.state.pos);while(W(e)||45===e)this.finishToken(141,this.input.slice(t,this.state.pos));}jsxParseIdentifier(){let e=this.startNode();return this.match(141)?e.name=this.state.value:R(this.state.type)?e.name=E[this.state.type]:this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier");}jsxParseNamespacedName(){let e=this.state.startLoc,t=this.jsxParseIdentifier();if(!this.eat(14))return t;let s=this.startNodeAt(e);return s.namespace=t,s.name=this.jsxParseIdentifier(),this.finishNode(s,"JSXNamespacedName");}jsxParseElementName(){let e=this.state.startLoc,t=this.jsxParseNamespacedName();if("JSXNamespacedName"===t.type)return t;for(;this.eat(16);){let s=this.startNodeAt(e);s.object=t,s.property=this.jsxParseIdentifier(),t=this.finishNode(s,"JSXMemberExpression");}return t;}jsxParseAttributeValue(){let e;switch(this.state.type){case 5:return e=this.startNode(),this.setContext(g.brace),this.next(),"JSXEmptyExpression"===(e=this.jsxParseExpressionContainer(e,g.j_oTag)).expression.type&&this.raise(e$.AttributeIsEmpty,e),e;case 143:case 134:return this.parseExprAtom();default:throw this.raise(e$.UnsupportedJsxValue,this.state.startLoc);}}jsxParseEmptyExpression(){let e=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.state.startLoc);}jsxParseSpreadChild(e){return this.next(),e.expression=this.parseExpression(),this.setContext(g.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadChild");}jsxParseExpressionContainer(e,t){if(this.match(8))e.expression=this.jsxParseEmptyExpression();else{let t=this.parseExpression();e.expression=t;}return this.setContext(t),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXExpressionContainer");}jsxParseAttribute(){let e=this.startNode();return this.match(5)?(this.setContext(g.brace),this.next(),this.expect(21),e.argument=this.parseMaybeAssignAllowIn(),this.setContext(g.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsxParseNamespacedName(),e.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(e,"JSXAttribute"));}jsxParseOpeningElementAt(e){let t=this.startNodeAt(e);return this.eat(144)?this.finishNode(t,"JSXOpeningFragment"):(t.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(t));}jsxParseOpeningElementAfterName(e){let t=[];for(;!this.match(56)&&!this.match(144);)t.push(this.jsxParseAttribute());return e.attributes=t,e.selfClosing=this.eat(56),this.expect(144),this.finishNode(e,"JSXOpeningElement");}jsxParseClosingElementAt(e){let t=this.startNodeAt(e);return this.eat(144)?this.finishNode(t,"JSXClosingFragment"):(t.name=this.jsxParseElementName(),this.expect(144),this.finishNode(t,"JSXClosingElement"));}jsxParseElementAt(e){let t=this.startNodeAt(e),s=[],r=this.jsxParseOpeningElementAt(e),i=null;if(!r.selfClosing){e:for(;;)switch(this.state.type){case 143:if(e=this.state.startLoc,this.next(),this.eat(56)){i=this.jsxParseClosingElementAt(e);break e;}s.push(this.jsxParseElementAt(e));break;case 142:s.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{let e=this.startNode();this.setContext(g.brace),this.next(),this.match(21)?s.push(this.jsxParseSpreadChild(e)):s.push(this.jsxParseExpressionContainer(e,g.j_expr));break;}default:this.unexpected();}eH(r)&&!eH(i)&&null!==i?this.raise(e$.MissingClosingTagFragment,i):!eH(r)&&eH(i)?this.raise(e$.MissingClosingTagElement,i,{openingTagName:ez(r.name)}):eH(r)||eH(i)||ez(i.name)===ez(r.name)||this.raise(e$.MissingClosingTagElement,i,{openingTagName:ez(r.name)});}if(eH(r)?(t.openingFragment=r,t.closingFragment=i):(t.openingElement=r,t.closingElement=i),t.children=s,this.match(47))throw this.raise(e$.UnwrappedAdjacentJSXElements,this.state.startLoc);return eH(r)?this.finishNode(t,"JSXFragment"):this.finishNode(t,"JSXElement");}jsxParseElement(){let e=this.state.startLoc;return this.next(),this.jsxParseElementAt(e);}setContext(e){let{context:t}=this.state;t[t.length-1]=e;}parseExprAtom(e){return this.match(143)?this.jsxParseElement():this.match(47)&&33!==this.input.charCodeAt(this.state.pos)?(this.replaceToken(143),this.jsxParseElement()):super.parseExprAtom(e);}skipSpace(){this.curContext().preserveSpace||super.skipSpace();}getTokenFromCode(e){let t=this.curContext();if(t===g.j_expr){this.jsxReadToken();return;}if(t===g.j_oTag||t===g.j_cTag){if(z(e)){this.jsxReadWord();return;}if(62===e){++this.state.pos,this.finishToken(144);return;}if((34===e||39===e)&&t===g.j_oTag){this.jsxReadString(e);return;}}if(60===e&&this.state.canStartJSXElement&&33!==this.input.charCodeAt(this.state.pos+1)){++this.state.pos,this.finishToken(143);return;}super.getTokenFromCode(e);}updateContext(e){let{context:t,type:s}=this.state;if(56===s&&143===e)t.splice(-2,2,g.j_cTag),this.state.canStartJSXElement=!1;else if(143===s)t.push(g.j_oTag);else if(144===s){let s=t[t.length-1];s===g.j_oTag&&56===e||s===g.j_cTag?(t.pop(),this.state.canStartJSXElement=t[t.length-1]===g.j_expr):(this.setContext(g.j_expr),this.state.canStartJSXElement=!0);}else this.state.canStartJSXElement=S[s];}},flow:e=>class extends e{constructor(...e){super(...e),this.flowPragma=void 0;}getScopeHandler(){return er;}shouldParseTypes(){return this.getPluginOption("flow","all")||"flow"===this.flowPragma;}finishToken(e,t){134!==e&&13!==e&&28!==e&&void 0===this.flowPragma&&(this.flowPragma=null),super.finishToken(e,t);}addComment(e){if(void 0===this.flowPragma){let t=eq.exec(e.value);if(t){if("flow"===t[1])this.flowPragma="flow";else if("noflow"===t[1])this.flowPragma="noflow";else throw Error("Unexpected flow pragma");}}super.addComment(e);}flowParseTypeInitialiser(e){let t=this.state.inType;this.state.inType=!0,this.expect(e||14);let s=this.flowParseType();return this.state.inType=t,s;}flowParsePredicate(){let e=this.startNode(),t=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>t.index+1&&this.raise(eV.UnexpectedSpaceBetweenModuloChecks,t),this.eat(10)?(e.value=super.parseExpression(),this.expect(11),this.finishNode(e,"DeclaredPredicate")):this.finishNode(e,"InferredPredicate");}flowParseTypeAndPredicateInitialiser(){let e=this.state.inType;this.state.inType=!0,this.expect(14);let t=null,s=null;return this.match(54)?(this.state.inType=e,s=this.flowParsePredicate()):(t=this.flowParseType(),this.state.inType=e,this.match(54)&&(s=this.flowParsePredicate())),[t,s];}flowParseDeclareClass(e){return this.next(),this.flowParseInterfaceish(e,!0),this.finishNode(e,"DeclareClass");}flowParseDeclareFunction(e){this.next();let t=e.id=this.parseIdentifier(),s=this.startNode(),r=this.startNode();this.match(47)?s.typeParameters=this.flowParseTypeParameterDeclaration():s.typeParameters=null,this.expect(10);let i=this.flowParseFunctionTypeParams();return s.params=i.params,s.rest=i.rest,s.this=i._this,this.expect(11),[s.returnType,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),r.typeAnnotation=this.finishNode(s,"FunctionTypeAnnotation"),t.typeAnnotation=this.finishNode(r,"TypeAnnotation"),this.resetEndLocation(t),this.semicolon(),this.scope.declareName(e.id.name,2048,e.id.loc.start),this.finishNode(e,"DeclareFunction");}flowParseDeclare(e,t){return this.match(80)?this.flowParseDeclareClass(e):this.match(68)?this.flowParseDeclareFunction(e):this.match(74)?this.flowParseDeclareVariable(e):this.eatContextual(127)?this.match(16)?this.flowParseDeclareModuleExports(e):(t&&this.raise(eV.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(e)):this.isContextual(130)?this.flowParseDeclareTypeAlias(e):this.isContextual(131)?this.flowParseDeclareOpaqueType(e):this.isContextual(129)?this.flowParseDeclareInterface(e):this.match(82)?this.flowParseDeclareExportDeclaration(e,t):void this.unexpected();}flowParseDeclareVariable(e){return this.next(),e.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(e.id.name,5,e.id.loc.start),this.semicolon(),this.finishNode(e,"DeclareVariable");}flowParseDeclareModule(e){this.scope.enter(0),this.match(134)?e.id=super.parseExprAtom():e.id=this.parseIdentifier();let t=e.body=this.startNode(),s=t.body=[];for(this.expect(5);!this.match(8);){let e=this.startNode();this.match(83)?(this.next(),this.isContextual(130)||this.match(87)||this.raise(eV.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),super.parseImport(e)):(this.expectContextual(125,eV.UnsupportedStatementInDeclareModule),e=this.flowParseDeclare(e,!0)),s.push(e);}this.scope.exit(),this.expect(8),this.finishNode(t,"BlockStatement");let r=null,i=!1;return s.forEach(e=>{"DeclareExportAllDeclaration"!==e.type&&("DeclareExportDeclaration"!==e.type||e.declaration&&("TypeAlias"===e.declaration.type||"InterfaceDeclaration"===e.declaration.type))?"DeclareModuleExports"===e.type&&(i&&this.raise(eV.DuplicateDeclareModuleExports,e),"ES"===r&&this.raise(eV.AmbiguousDeclareModuleKind,e),r="CommonJS",i=!0):("CommonJS"===r&&this.raise(eV.AmbiguousDeclareModuleKind,e),r="ES");}),e.kind=r||"CommonJS",this.finishNode(e,"DeclareModule");}flowParseDeclareExportDeclaration(e,t){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?e.declaration=this.flowParseDeclare(this.startNode()):(e.declaration=this.flowParseType(),this.semicolon()),e.default=!0,this.finishNode(e,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!t){let e=this.state.value;throw this.raise(eV.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:e,suggestion:eU[e]});}return this.match(74)||this.match(68)||this.match(80)||this.isContextual(131)?(e.declaration=this.flowParseDeclare(this.startNode()),e.default=!1,this.finishNode(e,"DeclareExportDeclaration")):this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131)?("ExportNamedDeclaration"===(e=this.parseExport(e,null)).type&&(e.type="ExportDeclaration",e.default=!1,delete e.exportKind),e.type="Declare"+e.type,e):void this.unexpected();}flowParseDeclareModuleExports(e){return this.next(),this.expectContextual(111),e.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(e,"DeclareModuleExports");}flowParseDeclareTypeAlias(e){this.next();let t=this.flowParseTypeAlias(e);return t.type="DeclareTypeAlias",t;}flowParseDeclareOpaqueType(e){this.next();let t=this.flowParseOpaqueType(e,!0);return t.type="DeclareOpaqueType",t;}flowParseDeclareInterface(e){return this.next(),this.flowParseInterfaceish(e,!1),this.finishNode(e,"DeclareInterface");}flowParseInterfaceish(e,t){if(e.id=this.flowParseRestrictedIdentifier(!t,!0),this.scope.declareName(e.id.name,t?17:8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.extends=[],this.eat(81))do e.extends.push(this.flowParseInterfaceExtends());while(!t&&this.eat(12))if(t){if(e.implements=[],e.mixins=[],this.eatContextual(117))do e.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12))if(this.eatContextual(113))do e.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}e.body=this.flowParseObjectType({allowStatic:t,allowExact:!1,allowSpread:!1,allowProto:t,allowInexact:!1});}flowParseInterfaceExtends(){let e=this.startNode();return e.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,this.finishNode(e,"InterfaceExtends");}flowParseInterface(e){return this.flowParseInterfaceish(e,!1),this.finishNode(e,"InterfaceDeclaration");}checkNotUnderscore(e){"_"===e&&this.raise(eV.UnexpectedReservedUnderscore,this.state.startLoc);}checkReservedType(e,t,s){ej.has(e)&&this.raise(s?eV.AssignReservedType:eV.UnexpectedReservedType,t,{reservedType:e});}flowParseRestrictedIdentifier(e,t){return this.checkReservedType(this.state.value,this.state.startLoc,t),this.parseIdentifier(e);}flowParseTypeAlias(e){return e.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(e,"TypeAlias");}flowParseOpaqueType(e,t){return this.expectContextual(130),e.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.supertype=null,this.match(14)&&(e.supertype=this.flowParseTypeInitialiser(14)),e.impltype=null,t||(e.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(e,"OpaqueType");}flowParseTypeParameter(e=!1){let t=this.state.startLoc,s=this.startNode(),r=this.flowParseVariance(),i=this.flowParseTypeAnnotatableIdentifier();return s.name=i.name,s.variance=r,s.bound=i.typeAnnotation,this.match(29)?(this.eat(29),s.default=this.flowParseType()):e&&this.raise(eV.MissingTypeParamDefault,t),this.finishNode(s,"TypeParameter");}flowParseTypeParameterDeclaration(){let e=this.state.inType,t=this.startNode();t.params=[],this.state.inType=!0,this.match(47)||this.match(143)?this.next():this.unexpected();let s=!1;do{let e=this.flowParseTypeParameter(s);t.params.push(e),e.default&&(s=!0),this.match(48)||this.expect(12);}while(!this.match(48))return this.expect(48),this.state.inType=e,this.finishNode(t,"TypeParameterDeclaration");}flowInTopLevelContext(e){if(this.curContext()===g.brace)return e();{let t=this.state.context;this.state.context=[t[0]];try{return e();}finally{this.state.context=t;}}}flowParseTypeParameterInstantiationInExpression(){if(47===this.reScan_lt())return this.flowParseTypeParameterInstantiation();}flowParseTypeParameterInstantiation(){let e=this.startNode(),t=this.state.inType;return this.state.inType=!0,e.params=[],this.flowInTopLevelContext(()=>{this.expect(47);let t=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)e.params.push(this.flowParseType()),this.match(48)||this.expect(12);this.state.noAnonFunctionType=t;}),this.state.inType=t,this.state.inType||this.curContext()!==g.brace||this.reScan_lt_gt(),this.expect(48),this.finishNode(e,"TypeParameterInstantiation");}flowParseTypeParameterInstantiationCallOrNew(){if(47!==this.reScan_lt())return;let e=this.startNode(),t=this.state.inType;for(e.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)e.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation");}flowParseInterfaceType(){let e=this.startNode();if(this.expectContextual(129),e.extends=[],this.eat(81))do e.extends.push(this.flowParseInterfaceExtends());while(this.eat(12))return e.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(e,"InterfaceTypeAnnotation");}flowParseObjectPropertyKey(){return this.match(135)||this.match(134)?super.parseExprAtom():this.parseIdentifier(!0);}flowParseObjectTypeIndexer(e,t,s){return e.static=t,14===this.lookahead().type?(e.id=this.flowParseObjectPropertyKey(),e.key=this.flowParseTypeInitialiser()):(e.id=null,e.key=this.flowParseType()),this.expect(3),e.value=this.flowParseTypeInitialiser(),e.variance=s,this.finishNode(e,"ObjectTypeIndexer");}flowParseObjectTypeInternalSlot(e,t){return e.static=t,e.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(e.method=!0,e.optional=!1,e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start))):(e.method=!1,this.eat(17)&&(e.optional=!0),e.value=this.flowParseTypeInitialiser()),this.finishNode(e,"ObjectTypeInternalSlot");}flowParseObjectTypeMethodish(e){for(e.params=[],e.rest=null,e.typeParameters=null,e.this=null,this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(e.this=this.flowParseFunctionTypeParam(!0),e.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(e.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),e.returnType=this.flowParseTypeInitialiser(),this.finishNode(e,"FunctionTypeAnnotation");}flowParseObjectTypeCallProperty(e,t){let s=this.startNode();return e.static=t,e.value=this.flowParseObjectTypeMethodish(s),this.finishNode(e,"ObjectTypeCallProperty");}flowParseObjectType({allowStatic:e,allowExact:t,allowSpread:s,allowProto:r,allowInexact:i}){let a=this.state.inType;this.state.inType=!0;let n=this.startNode();n.callProperties=[],n.properties=[],n.indexers=[],n.internalSlots=[];let o,l,h=!1;for(t&&this.match(6)?(this.expect(6),o=9,l=!0):(this.expect(5),o=8,l=!1),n.exact=l;!this.match(o);){let t=!1,a=null,o=null,p=this.startNode();if(r&&this.isContextual(118)){let t=this.lookahead();14!==t.type&&17!==t.type&&(this.next(),a=this.state.startLoc,e=!1);}if(e&&this.isContextual(106)){let e=this.lookahead();14!==e.type&&17!==e.type&&(this.next(),t=!0);}let u=this.flowParseVariance();if(this.eat(0))null!=a&&this.unexpected(a),this.eat(0)?(u&&this.unexpected(u.loc.start),n.internalSlots.push(this.flowParseObjectTypeInternalSlot(p,t))):n.indexers.push(this.flowParseObjectTypeIndexer(p,t,u));else if(this.match(10)||this.match(47))null!=a&&this.unexpected(a),u&&this.unexpected(u.loc.start),n.callProperties.push(this.flowParseObjectTypeCallProperty(p,t));else{let e="init";(this.isContextual(99)||this.isContextual(104))&&O(this.lookahead().type)&&(e=this.state.value,this.next());let r=this.flowParseObjectTypeProperty(p,t,a,u,e,s,i??!l);null===r?(h=!0,o=this.state.lastTokStartLoc):n.properties.push(r);}this.flowObjectTypeSemicolon(),!o||this.match(8)||this.match(9)||this.raise(eV.UnexpectedExplicitInexactInObject,o);}this.expect(o),s&&(n.inexact=h);let p=this.finishNode(n,"ObjectTypeAnnotation");return this.state.inType=a,p;}flowParseObjectTypeProperty(e,t,s,r,i,a,n){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(a?n||this.raise(eV.InexactInsideExact,this.state.lastTokStartLoc):this.raise(eV.InexactInsideNonObject,this.state.lastTokStartLoc),r&&this.raise(eV.InexactVariance,r),null):(a||this.raise(eV.UnexpectedSpreadType,this.state.lastTokStartLoc),null!=s&&this.unexpected(s),r&&this.raise(eV.SpreadVariance,r),e.argument=this.flowParseType(),this.finishNode(e,"ObjectTypeSpreadProperty"));{e.key=this.flowParseObjectPropertyKey(),e.static=t,e.proto=null!=s,e.kind=i;let n=!1;return this.match(47)||this.match(10)?(e.method=!0,null!=s&&this.unexpected(s),r&&this.unexpected(r.loc.start),e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start)),("get"===i||"set"===i)&&this.flowCheckGetterSetterParams(e),!a&&"constructor"===e.key.name&&e.value.this&&this.raise(eV.ThisParamBannedInConstructor,e.value.this)):("init"!==i&&this.unexpected(),e.method=!1,this.eat(17)&&(n=!0),e.value=this.flowParseTypeInitialiser(),e.variance=r),e.optional=n,this.finishNode(e,"ObjectTypeProperty");}}flowCheckGetterSetterParams(e){let t="get"===e.kind?0:1,s=e.value.params.length+(e.value.rest?1:0);e.value.this&&this.raise("get"===e.kind?eV.GetterMayNotHaveThisParam:eV.SetterMayNotHaveThisParam,e.value.this),s!==t&&this.raise("get"===e.kind?c.BadGetterArity:c.BadSetterArity,e),"set"===e.kind&&e.value.rest&&this.raise(c.BadSetterRestParameter,e);}flowObjectTypeSemicolon(){this.eat(13)||this.eat(12)||this.match(8)||this.match(9)||this.unexpected();}flowParseQualifiedTypeIdentifier(e,t){null!=e||(e=this.state.startLoc);let s=t||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){let t=this.startNodeAt(e);t.qualification=s,t.id=this.flowParseRestrictedIdentifier(!0),s=this.finishNode(t,"QualifiedTypeIdentifier");}return s;}flowParseGenericType(e,t){let s=this.startNodeAt(e);return s.typeParameters=null,s.id=this.flowParseQualifiedTypeIdentifier(e,t),this.match(47)&&(s.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(s,"GenericTypeAnnotation");}flowParseTypeofType(){let e=this.startNode();return this.expect(87),e.argument=this.flowParsePrimaryType(),this.finishNode(e,"TypeofTypeAnnotation");}flowParseTupleType(){let e=this.startNode();for(e.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(e.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(e,"TupleTypeAnnotation");}flowParseFunctionTypeParam(e){let t=null,s=!1,r=null,i=this.startNode(),a=this.lookahead(),n=78===this.state.type;return 14===a.type||17===a.type?(n&&!e&&this.raise(eV.ThisParamMustBeFirst,i),t=this.parseIdentifier(n),this.eat(17)&&(s=!0,n&&this.raise(eV.ThisParamMayNotBeOptional,i)),r=this.flowParseTypeInitialiser()):r=this.flowParseType(),i.name=t,i.optional=s,i.typeAnnotation=r,this.finishNode(i,"FunctionTypeParam");}reinterpretTypeAsFunctionTypeParam(e){let t=this.startNodeAt(e.loc.start);return t.name=null,t.optional=!1,t.typeAnnotation=e,this.finishNode(t,"FunctionTypeParam");}flowParseFunctionTypeParams(e=[]){let t=null,s=null;for(this.match(78)&&((s=this.flowParseFunctionTypeParam(!0)).name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t=this.flowParseFunctionTypeParam(!1)),{params:e,rest:t,_this:s};}flowIdentToTypeAnnotation(e,t,s){switch(s.name){case"any":return this.finishNode(t,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(t,"BooleanTypeAnnotation");case"mixed":return this.finishNode(t,"MixedTypeAnnotation");case"empty":return this.finishNode(t,"EmptyTypeAnnotation");case"number":return this.finishNode(t,"NumberTypeAnnotation");case"string":return this.finishNode(t,"StringTypeAnnotation");case"symbol":return this.finishNode(t,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(s.name),this.flowParseGenericType(e,s);}}flowParsePrimaryType(){let e=this.state.startLoc,t=this.startNode(),s,r,i=!1,a=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,r=this.flowParseTupleType(),this.state.noAnonFunctionType=a,r;case 47:{let e=this.startNode();return e.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),s=this.flowParseFunctionTypeParams(),e.params=s.params,e.rest=s.rest,e.this=s._this,this.expect(11),this.expect(19),e.returnType=this.flowParseType(),this.finishNode(e,"FunctionTypeAnnotation");}case 10:{let e=this.startNode();if(this.next(),!this.match(11)&&!this.match(21)){if(L(this.state.type)||this.match(78)){let e=this.lookahead().type;i=17!==e&&14!==e;}else i=!0;}if(i){if(this.state.noAnonFunctionType=!1,r=this.flowParseType(),this.state.noAnonFunctionType=a,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&19===this.lookahead().type))return this.expect(11),r;this.eat(12);}return s=r?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(r)]):this.flowParseFunctionTypeParams(),e.params=s.params,e.rest=s.rest,e.this=s._this,this.expect(11),this.expect(19),e.returnType=this.flowParseType(),e.typeParameters=null,this.finishNode(e,"FunctionTypeAnnotation");}case 134:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return t.value=this.match(85),this.next(),this.finishNode(t,"BooleanLiteralTypeAnnotation");case 53:if("-"===this.state.value){if(this.next(),this.match(135))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",t);if(this.match(136))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",t);throw this.raise(eV.UnexpectedSubtractionOperand,this.state.startLoc);}this.unexpected();return;case 135:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 136:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(t,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(t,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(t,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(t,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(R(this.state.type)){let e=E[this.state.type];return this.next(),super.createIdentifier(t,e);}if(L(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(e,t,this.parseIdentifier());}this.unexpected();}flowParsePostfixType(){let e=this.state.startLoc,t=this.flowParsePrimaryType(),s=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){let r=this.startNodeAt(e),i=this.eat(18);s=s||i,this.expect(0),!i&&this.match(3)?(r.elementType=t,this.next(),t=this.finishNode(r,"ArrayTypeAnnotation")):(r.objectType=t,r.indexType=this.flowParseType(),this.expect(3),s?(r.optional=i,t=this.finishNode(r,"OptionalIndexedAccessType")):t=this.finishNode(r,"IndexedAccessType"));}return t;}flowParsePrefixType(){let e=this.startNode();return this.eat(17)?(e.typeAnnotation=this.flowParsePrefixType(),this.finishNode(e,"NullableTypeAnnotation")):this.flowParsePostfixType();}flowParseAnonFunctionWithoutParens(){let e=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){let t=this.startNodeAt(e.loc.start);return t.params=[this.reinterpretTypeAsFunctionTypeParam(e)],t.rest=null,t.this=null,t.returnType=this.flowParseType(),t.typeParameters=null,this.finishNode(t,"FunctionTypeAnnotation");}return e;}flowParseIntersectionType(){let e=this.startNode();this.eat(45);let t=this.flowParseAnonFunctionWithoutParens();for(e.types=[t];this.eat(45);)e.types.push(this.flowParseAnonFunctionWithoutParens());return 1===e.types.length?t:this.finishNode(e,"IntersectionTypeAnnotation");}flowParseUnionType(){let e=this.startNode();this.eat(43);let t=this.flowParseIntersectionType();for(e.types=[t];this.eat(43);)e.types.push(this.flowParseIntersectionType());return 1===e.types.length?t:this.finishNode(e,"UnionTypeAnnotation");}flowParseType(){let e=this.state.inType;this.state.inType=!0;let t=this.flowParseUnionType();return this.state.inType=e,t;}flowParseTypeOrImplicitInstantiation(){if(132!==this.state.type||"_"!==this.state.value)return this.flowParseType();{let e=this.state.startLoc,t=this.parseIdentifier();return this.flowParseGenericType(e,t);}}flowParseTypeAnnotation(){let e=this.startNode();return e.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(e,"TypeAnnotation");}flowParseTypeAnnotatableIdentifier(e){let t=e?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t)),t;}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression;}flowParseVariance(){let e=null;return this.match(53)?(e=this.startNode(),"+"===this.state.value?e.kind="plus":e.kind="minus",this.next(),this.finishNode(e,"Variance")):e;}parseFunctionBody(e,t,s=!1){if(t){this.forwardNoArrowParamsConversionAt(e,()=>super.parseFunctionBody(e,!0,s));return;}super.parseFunctionBody(e,!1,s);}parseFunctionBodyAndFinish(e,t,s=!1){if(this.match(14)){let t=this.startNode();[t.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),e.returnType=t.typeAnnotation?this.finishNode(t,"TypeAnnotation"):null;}return super.parseFunctionBodyAndFinish(e,t,s);}parseStatementLike(e){if(this.state.strict&&this.isContextual(129)){if(M(this.lookahead().type)){let e=this.startNode();return this.next(),this.flowParseInterface(e);}}else if(this.isContextual(126)){let e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e);}let t=super.parseStatementLike(e);return void 0!==this.flowPragma||this.isValidDirective(t)||(this.flowPragma=null),t;}parseExpressionStatement(e,t,s){if("Identifier"===t.type){if("declare"===t.name){if(this.match(80)||L(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(e);}else if(L(this.state.type)){if("interface"===t.name)return this.flowParseInterface(e);if("type"===t.name)return this.flowParseTypeAlias(e);if("opaque"===t.name)return this.flowParseOpaqueType(e,!1);}}return super.parseExpressionStatement(e,t,s);}shouldParseExportDeclaration(){let{type:e}=this.state;return 126===e||D(e)?!this.state.containsEsc:super.shouldParseExportDeclaration();}isExportDefaultSpecifier(){let{type:e}=this.state;return 126===e||D(e)?this.state.containsEsc:super.isExportDefaultSpecifier();}parseExportDefaultExpression(){if(this.isContextual(126)){let e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e);}return super.parseExportDefaultExpression();}parseConditional(e,t,s){if(!this.match(17))return e;if(this.state.maybeInArrowParameters){let t=this.lookaheadCharCode();if(44===t||61===t||58===t||41===t)return this.setOptionalParametersError(s),e;}this.expect(17);let r=this.state.clone(),i=this.state.noArrowAt,a=this.startNodeAt(t),{consequent:n,failed:o}=this.tryParseConditionalConsequent(),[l,h]=this.getArrowLikeExpressions(n);if(o||h.length>0){let e=[...i];if(h.length>0){this.state=r,this.state.noArrowAt=e;for(let t=0;t<h.length;t++)e.push(h[t].start);({consequent:n,failed:o}=this.tryParseConditionalConsequent()),[l,h]=this.getArrowLikeExpressions(n);}o&&l.length>1&&this.raise(eV.AmbiguousConditionalArrow,r.startLoc),o&&1===l.length&&(this.state=r,e.push(l[0].start),this.state.noArrowAt=e,{consequent:n,failed:o}=this.tryParseConditionalConsequent());}return this.getArrowLikeExpressions(n,!0),this.state.noArrowAt=i,this.expect(14),a.test=e,a.consequent=n,a.alternate=this.forwardNoArrowParamsConversionAt(a,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(a,"ConditionalExpression");}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);let e=this.parseMaybeAssignAllowIn(),t=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:e,failed:t};}getArrowLikeExpressions(e,t){let s=[e],r=[];for(;0!==s.length;){let e=s.pop();"ArrowFunctionExpression"===e.type&&"BlockStatement"!==e.body.type?(e.typeParameters||!e.returnType?this.finishArrowValidation(e):r.push(e),s.push(e.body)):"ConditionalExpression"===e.type&&(s.push(e.consequent),s.push(e.alternate));}return t?(r.forEach(e=>this.finishArrowValidation(e)),[r,[]]):function(e,t){let s=[],r=[];for(let i=0;i<e.length;i++)(t(e[i],i,e)?s:r).push(e[i]);return[s,r];}(r,e=>e.params.every(e=>this.isAssignable(e,!0)));}finishArrowValidation(e){var t;this.toAssignableList(e.params,null==(t=e.extra)?void 0:t.trailingCommaLoc,!1),this.scope.enter(6),super.checkParams(e,!1,!0),this.scope.exit();}forwardNoArrowParamsConversionAt(e,t){let s;return this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))?(this.state.noArrowParamsConversionAt.push(this.state.start),s=t(),this.state.noArrowParamsConversionAt.pop()):s=t(),s;}parseParenItem(e,t){let s=super.parseParenItem(e,t);if(this.eat(17)&&(s.optional=!0,this.resetEndLocation(e)),this.match(14)){let e=this.startNodeAt(t);return e.expression=s,e.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(e,"TypeCastExpression");}return s;}assertModuleNodeAllowed(e){"ImportDeclaration"===e.type&&("type"===e.importKind||"typeof"===e.importKind)||"ExportNamedDeclaration"===e.type&&"type"===e.exportKind||"ExportAllDeclaration"===e.type&&"type"===e.exportKind||super.assertModuleNodeAllowed(e);}parseExportDeclaration(e){if(this.isContextual(130)){e.exportKind="type";let t=this.startNode();return this.next(),this.match(5)?(e.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(e),null):this.flowParseTypeAlias(t);}if(this.isContextual(131)){e.exportKind="type";let t=this.startNode();return this.next(),this.flowParseOpaqueType(t,!1);}if(this.isContextual(129)){e.exportKind="type";let t=this.startNode();return this.next(),this.flowParseInterface(t);}if(!this.isContextual(126))return super.parseExportDeclaration(e);{e.exportKind="value";let t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t);}}eatExportStar(e){return!!super.eatExportStar(e)||!!this.isContextual(130)&&55===this.lookahead().type&&(e.exportKind="type",this.next(),this.next(),!0);}maybeParseExportNamespaceSpecifier(e){let{startLoc:t}=this.state,s=super.maybeParseExportNamespaceSpecifier(e);return s&&"type"===e.exportKind&&this.unexpected(t),s;}parseClassId(e,t,s){super.parseClassId(e,t,s),this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration());}parseClassMember(e,t,s){let{startLoc:r}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(e,t))return;t.declare=!0;}super.parseClassMember(e,t,s),t.declare&&("ClassProperty"!==t.type&&"ClassPrivateProperty"!==t.type&&"PropertyDefinition"!==t.type?this.raise(eV.DeclareClassElement,r):t.value&&this.raise(eV.DeclareClassFieldInitializer,t.value));}isIterator(e){return"iterator"===e||"asyncIterator"===e;}readIterator(){let e=super.readWord1(),t="@@"+e;this.isIterator(e)&&this.state.inType||this.raise(c.InvalidIdentifier,this.state.curPosition(),{identifierName:t}),this.finishToken(132,t);}getTokenFromCode(e){var t;let s=this.input.charCodeAt(this.state.pos+1);123===e&&124===s?this.finishOp(6,2):this.state.inType&&(62===e||60===e)?this.finishOp(62===e?48:47,1):this.state.inType&&63===e?46===s?this.finishOp(18,2):this.finishOp(17,1):(t=this.input.charCodeAt(this.state.pos+2),64===e&&64===s&&z(t))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(e);}isAssignable(e,t){return"TypeCastExpression"===e.type?this.isAssignable(e.expression,t):super.isAssignable(e,t);}toAssignable(e,t=!1){t||"AssignmentExpression"!==e.type||"TypeCastExpression"!==e.left.type||(e.left=this.typeCastToParameter(e.left)),super.toAssignable(e,t);}toAssignableList(e,t,s){for(let t=0;t<e.length;t++){let s=e[t];(null==s?void 0:s.type)==="TypeCastExpression"&&(e[t]=this.typeCastToParameter(s));}super.toAssignableList(e,t,s);}toReferencedList(e,t){for(let r=0;r<e.length;r++){var s;let i=e[r];i&&"TypeCastExpression"===i.type&&!(null!=(s=i.extra)&&s.parenthesized)&&(e.length>1||!t)&&this.raise(eV.TypeCastInPattern,i.typeAnnotation);}return e;}parseArrayLike(e,t,s,r){let i=super.parseArrayLike(e,t,s,r);return t&&!this.state.maybeInArrowParameters&&this.toReferencedList(i.elements),i;}isValidLVal(e,t,s){return"TypeCastExpression"===e||super.isValidLVal(e,t,s);}parseClassProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(e);}parseClassPrivateProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(e);}isClassMethod(){return this.match(47)||super.isClassMethod();}isClassProperty(){return this.match(14)||super.isClassProperty();}isNonstaticConstructor(e){return!this.match(14)&&super.isNonstaticConstructor(e);}pushClassMethod(e,t,s,r,i,a){if(t.variance&&this.unexpected(t.variance.loc.start),delete t.variance,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(e,t,s,r,i,a),t.params&&i){let e=t.params;e.length>0&&this.isThisParam(e[0])&&this.raise(eV.ThisParamBannedInConstructor,t);}else if("MethodDefinition"===t.type&&i&&t.value.params){let e=t.value.params;e.length>0&&this.isThisParam(e[0])&&this.raise(eV.ThisParamBannedInConstructor,t);}}pushClassPrivateMethod(e,t,s,r){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(e,t,s,r);}parseClassSuper(e){if(super.parseClassSuper(e),e.superClass&&(this.match(47)||this.match(51))&&(e.superTypeParameters=this.flowParseTypeParameterInstantiationInExpression()),this.isContextual(113)){this.next();let t=e.implements=[];do{let e=this.startNode();e.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,t.push(this.finishNode(e,"ClassImplements"));}while(this.eat(12))}}checkGetterSetterParams(e){super.checkGetterSetterParams(e);let t=this.getObjectOrClassMethodParams(e);if(t.length>0){let s=t[0];this.isThisParam(s)&&"get"===e.kind?this.raise(eV.GetterMayNotHaveThisParam,s):this.isThisParam(s)&&this.raise(eV.SetterMayNotHaveThisParam,s);}}parsePropertyNamePrefixOperator(e){e.variance=this.flowParseVariance();}parseObjPropValue(e,t,s,r,i,a,n){let o;e.variance&&this.unexpected(e.variance.loc.start),delete e.variance,this.match(47)&&!a&&(o=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());let l=super.parseObjPropValue(e,t,s,r,i,a,n);return o&&((l.value||l).typeParameters=o),l;}parseFunctionParamType(e){return this.eat(17)&&("Identifier"!==e.type&&this.raise(eV.PatternIsOptional,e),this.isThisParam(e)&&this.raise(eV.ThisParamMayNotBeOptional,e),e.optional=!0),this.match(14)?e.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(e)&&this.raise(eV.ThisParamAnnotationRequired,e),this.match(29)&&this.isThisParam(e)&&this.raise(eV.ThisParamNoDefault,e),this.resetEndLocation(e),e;}parseMaybeDefault(e,t){let s=super.parseMaybeDefault(e,t);return"AssignmentPattern"===s.type&&s.typeAnnotation&&s.right.start<s.typeAnnotation.start&&this.raise(eV.TypeBeforeInitializer,s.typeAnnotation),s;}checkImportReflection(e){super.checkImportReflection(e),e.module&&"value"!==e.importKind&&this.raise(eV.ImportReflectionHasImportType,e.specifiers[0].loc.start);}parseImportSpecifierLocal(e,t,s){t.local=e_(e)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,s));}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){if(!e)return!0;let t=this.lookaheadCharCode();return 123===t||42===t;}return!e&&this.isContextual(87);}applyImportPhase(e,t,s,r){(super.applyImportPhase(e,t,s,r),t)?!s&&this.match(65)||(e.exportKind="type"===s?s:"value"):("type"===s&&this.match(55)&&this.unexpected(),e.importKind="type"===s||"typeof"===s?s:"value");}parseImportSpecifier(e,t,s,r,i){let a=e.imported,n=null;"Identifier"===a.type&&("type"===a.name?n="type":"typeof"===a.name&&(n="typeof"));let o=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){let t=this.parseIdentifier(!0);null===n||M(this.state.type)?(e.imported=a,e.importKind=null,e.local=this.parseIdentifier()):(e.imported=t,e.importKind=n,e.local=eR(t));}else{if(null!==n&&M(this.state.type))e.imported=this.parseIdentifier(!0),e.importKind=n;else{if(t)throw this.raise(c.ImportBindingIsString,e,{importName:a.value});e.imported=a,e.importKind=null;}this.eatContextual(93)?e.local=this.parseIdentifier():(o=!0,e.local=eR(e.imported));}let l=e_(e);return s&&l&&this.raise(eV.ImportTypeShorthandOnlyInPureImport,e),(s||l)&&this.checkReservedType(e.local.name,e.local.loc.start,!0),!o||s||l||this.checkReservedWord(e.local.name,e.loc.start,!0,!0),this.finishImportSpecifier(e,"ImportSpecifier");}parseBindingAtom(){return 78===this.state.type?this.parseIdentifier(!0):super.parseBindingAtom();}parseFunctionParams(e,t){let s=e.kind;"get"!==s&&"set"!==s&&this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(e,t);}parseVarId(e,t){super.parseVarId(e,t),this.match(14)&&(e.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(e.id));}parseAsyncArrowFromCallExpression(e,t){if(this.match(14)){let t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,e.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=t;}return super.parseAsyncArrowFromCallExpression(e,t);}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow();}parseMaybeAssign(e,t){var s,r,i;let a=null,n;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(a=this.state.clone(),!(n=this.tryParse(()=>super.parseMaybeAssign(e,t),a)).error)return n.node;let{context:s}=this.state,r=s[s.length-1];(r===g.j_oTag||r===g.j_expr)&&s.pop();}if(null!=(s=n)&&s.error||this.match(47)){a=a||this.state.clone();let s,o=this.tryParse(r=>{var i;s=this.flowParseTypeParameterDeclaration();let a=this.forwardNoArrowParamsConversionAt(s,()=>{let r=super.parseMaybeAssign(e,t);return this.resetStartLocationFromNode(r,s),r;});null!=(i=a.extra)&&i.parenthesized&&r();let n=this.maybeUnwrapTypeCastExpression(a);return"ArrowFunctionExpression"!==n.type&&r(),n.typeParameters=s,this.resetStartLocationFromNode(n,s),a;},a),l=null;if(o.node&&"ArrowFunctionExpression"===this.maybeUnwrapTypeCastExpression(o.node).type){if(!o.error&&!o.aborted)return o.node.async&&this.raise(eV.UnexpectedTypeParameterBeforeAsyncArrowFunction,s),o.node;l=o.node;}if(null!=(r=n)&&r.node)return this.state=n.failState,n.node;if(l)return this.state=o.failState,l;throw null!=(i=n)&&i.thrown?n.error:o.thrown?o.error:this.raise(eV.UnexpectedTokenAfterTypeParameter,s);}return super.parseMaybeAssign(e,t);}parseArrow(e){if(this.match(14)){let t=this.tryParse(()=>{let t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;let s=this.startNode();return[s.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=t,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),s;});if(t.thrown)return null;t.error&&(this.state=t.failState),e.returnType=t.node.typeAnnotation?this.finishNode(t.node,"TypeAnnotation"):null;}return super.parseArrow(e);}shouldParseArrow(e){return this.match(14)||super.shouldParseArrow(e);}setArrowFunctionParameters(e,t){this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))?e.params=t:super.setArrowFunctionParameters(e,t);}checkParams(e,t,s,r=!0){if(!(s&&this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start)))){for(let t=0;t<e.params.length;t++)this.isThisParam(e.params[t])&&t>0&&this.raise(eV.ThisParamMustBeFirst,e.params[t]);super.checkParams(e,t,s,r);}}parseParenAndDistinguishExpression(e){return super.parseParenAndDistinguishExpression(e&&!this.state.noArrowAt.includes(this.sourceToOffsetPos(this.state.start)));}parseSubscripts(e,t,s){if("Identifier"===e.type&&"async"===e.name&&this.state.noArrowAt.includes(t.index)){this.next();let s=this.startNodeAt(t);s.callee=e,s.arguments=super.parseCallExpressionArguments(11),e=this.finishNode(s,"CallExpression");}else if("Identifier"===e.type&&"async"===e.name&&this.match(47)){let r=this.state.clone(),i=this.tryParse(e=>this.parseAsyncArrowWithTypeParameters(t)||e(),r);if(!i.error&&!i.aborted)return i.node;let a=this.tryParse(()=>super.parseSubscripts(e,t,s),r);if(a.node&&!a.error)return a.node;if(i.node)return this.state=i.failState,i.node;if(a.node)return this.state=a.failState,a.node;throw i.error||a.error;}return super.parseSubscripts(e,t,s);}parseSubscript(e,t,s,r){if(this.match(18)&&this.isLookaheadToken_lt()){if(r.optionalChainMember=!0,s)return r.stop=!0,e;this.next();let i=this.startNodeAt(t);return i.callee=e,i.typeArguments=this.flowParseTypeParameterInstantiationInExpression(),this.expect(10),i.arguments=this.parseCallExpressionArguments(11),i.optional=!0,this.finishCallExpression(i,!0);}if(!s&&this.shouldParseTypes()&&(this.match(47)||this.match(51))){let s=this.startNodeAt(t);s.callee=e;let i=this.tryParse(()=>(s.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),s.arguments=super.parseCallExpressionArguments(11),r.optionalChainMember&&(s.optional=!1),this.finishCallExpression(s,r.optionalChainMember)));if(i.node)return i.error&&(this.state=i.failState),i.node;}return super.parseSubscript(e,t,s,r);}parseNewCallee(e){super.parseNewCallee(e);let t=null;this.shouldParseTypes()&&this.match(47)&&(t=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),e.typeArguments=t;}parseAsyncArrowWithTypeParameters(e){let t=this.startNodeAt(e);if(this.parseFunctionParams(t,!1),this.parseArrow(t))return super.parseArrowExpression(t,void 0,!0);}readToken_mult_modulo(e){let t=this.input.charCodeAt(this.state.pos+1);if(42===e&&47===t&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return;}super.readToken_mult_modulo(e);}readToken_pipe_amp(e){let t=this.input.charCodeAt(this.state.pos+1);if(124===e&&125===t){this.finishOp(9,2);return;}super.readToken_pipe_amp(e);}parseTopLevel(e,t){let s=super.parseTopLevel(e,t);return this.state.hasFlowComment&&this.raise(eV.UnterminatedFlowComment,this.state.curPosition()),s;}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(eV.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();let e=this.skipFlowComment();e&&(this.state.pos+=e,this.state.hasFlowComment=!0);return;}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/");}skipFlowComment(){let{pos:e}=this.state,t=2;for(;[32,9].includes(this.input.charCodeAt(e+t));)t++;let s=this.input.charCodeAt(t+e),r=this.input.charCodeAt(t+e+1);return 58===s&&58===r?t+2:"flow-include"===this.input.slice(t+e,t+e+12)?t+12:58===s&&58!==r&&t;}hasFlowCommentCompletion(){if(-1===this.input.indexOf("*/",this.state.pos))throw this.raise(c.UnterminatedComment,this.state.curPosition());}flowEnumErrorBooleanMemberNotInitialized(e,{enumName:t,memberName:s}){this.raise(eV.EnumBooleanMemberNotInitialized,e,{memberName:s,enumName:t});}flowEnumErrorInvalidMemberInitializer(e,t){return this.raise(t.explicitType?"symbol"===t.explicitType?eV.EnumInvalidMemberInitializerSymbolType:eV.EnumInvalidMemberInitializerPrimaryType:eV.EnumInvalidMemberInitializerUnknownType,e,t);}flowEnumErrorNumberMemberNotInitialized(e,t){this.raise(eV.EnumNumberMemberNotInitialized,e,t);}flowEnumErrorStringMemberInconsistentlyInitialized(e,t){this.raise(eV.EnumStringMemberInconsistentlyInitialized,e,t);}flowEnumMemberInit(){let e=this.state.startLoc,t=()=>this.match(12)||this.match(8);switch(this.state.type){case 135:{let s=this.parseNumericLiteral(this.state.value);return t()?{type:"number",loc:s.loc.start,value:s}:{type:"invalid",loc:e};}case 134:{let s=this.parseStringLiteral(this.state.value);return t()?{type:"string",loc:s.loc.start,value:s}:{type:"invalid",loc:e};}case 85:case 86:{let s=this.parseBooleanLiteral(this.match(85));return t()?{type:"boolean",loc:s.loc.start,value:s}:{type:"invalid",loc:e};}default:return{type:"invalid",loc:e};}}flowEnumMemberRaw(){let e=this.state.startLoc;return{id:this.parseIdentifier(!0),init:this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:e}};}flowEnumCheckExplicitTypeMismatch(e,t,s){let{explicitType:r}=t;null!==r&&r!==s&&this.flowEnumErrorInvalidMemberInitializer(e,t);}flowEnumMembers({enumName:e,explicitType:t}){let s=new Set,r={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]},i=!1;for(;!this.match(8);){if(this.eat(21)){i=!0;break;}let a=this.startNode(),{id:n,init:o}=this.flowEnumMemberRaw(),l=n.name;if(""===l)continue;/^[a-z]/.test(l)&&this.raise(eV.EnumInvalidMemberName,n,{memberName:l,suggestion:l[0].toUpperCase()+l.slice(1),enumName:e}),s.has(l)&&this.raise(eV.EnumDuplicateMemberName,n,{memberName:l,enumName:e}),s.add(l);let h={enumName:e,explicitType:t,memberName:l};switch(a.id=n,o.type){case"boolean":this.flowEnumCheckExplicitTypeMismatch(o.loc,h,"boolean"),a.init=o.value,r.booleanMembers.push(this.finishNode(a,"EnumBooleanMember"));break;case"number":this.flowEnumCheckExplicitTypeMismatch(o.loc,h,"number"),a.init=o.value,r.numberMembers.push(this.finishNode(a,"EnumNumberMember"));break;case"string":this.flowEnumCheckExplicitTypeMismatch(o.loc,h,"string"),a.init=o.value,r.stringMembers.push(this.finishNode(a,"EnumStringMember"));break;case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(o.loc,h);case"none":switch(t){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(o.loc,h);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(o.loc,h);break;default:r.defaultedMembers.push(this.finishNode(a,"EnumDefaultedMember"));}}this.match(8)||this.expect(12);}return{members:r,hasUnknownMembers:i};}flowEnumStringMembers(e,t,{enumName:s}){if(0===e.length)return t;if(0===t.length)return e;if(t.length>e.length){for(let t of e)this.flowEnumErrorStringMemberInconsistentlyInitialized(t,{enumName:s});return t;}for(let e of t)this.flowEnumErrorStringMemberInconsistentlyInitialized(e,{enumName:s});return e;}flowEnumParseExplicitType({enumName:e}){if(!this.eatContextual(102))return null;if(!L(this.state.type))throw this.raise(eV.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:e});let{value:t}=this.state;return this.next(),"boolean"!==t&&"number"!==t&&"string"!==t&&"symbol"!==t&&this.raise(eV.EnumInvalidExplicitType,this.state.startLoc,{enumName:e,invalidEnumType:t}),t;}flowEnumBody(e,t){let s=t.name,r=t.loc.start,i=this.flowEnumParseExplicitType({enumName:s});this.expect(5);let{members:a,hasUnknownMembers:n}=this.flowEnumMembers({enumName:s,explicitType:i});switch(e.hasUnknownMembers=n,i){case"boolean":return e.explicitType=!0,e.members=a.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody");case"number":return e.explicitType=!0,e.members=a.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody");case"string":return e.explicitType=!0,e.members=this.flowEnumStringMembers(a.stringMembers,a.defaultedMembers,{enumName:s}),this.expect(8),this.finishNode(e,"EnumStringBody");case"symbol":return e.members=a.defaultedMembers,this.expect(8),this.finishNode(e,"EnumSymbolBody");default:{let t=()=>(e.members=[],this.expect(8),this.finishNode(e,"EnumStringBody"));e.explicitType=!1;let i=a.booleanMembers.length,n=a.numberMembers.length,o=a.stringMembers.length,l=a.defaultedMembers.length;if(!i&&!n&&!o&&!l)return t();if(!i&&!n)return e.members=this.flowEnumStringMembers(a.stringMembers,a.defaultedMembers,{enumName:s}),this.expect(8),this.finishNode(e,"EnumStringBody");if(n||o||!(i>=l)){if(i||o||!(n>=l))return this.raise(eV.EnumInconsistentMemberValues,r,{enumName:s}),t();for(let e of a.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(e.loc.start,{enumName:s,memberName:e.id.name});return e.members=a.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody");}for(let e of a.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(e.loc.start,{enumName:s,memberName:e.id.name});return e.members=a.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody");}}}flowParseEnumDeclaration(e){let t=this.parseIdentifier();return e.id=t,e.body=this.flowEnumBody(this.startNode(),t),this.finishNode(e,"EnumDeclaration");}jsxParseOpeningElementAfterName(e){return this.shouldParseTypes()&&(this.match(47)||this.match(51))&&(e.typeArguments=this.flowParseTypeParameterInstantiationInExpression()),super.jsxParseOpeningElementAfterName(e);}isLookaheadToken_lt(){let e=this.nextTokenStart();if(60===this.input.charCodeAt(e)){let t=this.input.charCodeAt(e+1);return 60!==t&&61!==t;}return!1;}reScan_lt_gt(){let{type:e}=this.state;47===e?(this.state.pos-=1,this.readToken_lt()):48===e&&(this.state.pos-=1,this.readToken_gt());}reScan_lt(){let{type:e}=this.state;return 51===e?(this.state.pos-=2,this.finishOp(47,1),47):e;}maybeUnwrapTypeCastExpression(e){return"TypeCastExpression"===e.type?e.expression:e;}},typescript:e=>class extends e{constructor(...e){super(...e),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:eY.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:eY.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:eY.InvalidModifierOnTypeParameter});}getScopeHandler(){return eK;}tsIsIdentifier(){return L(this.state.type);}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(139)||this.isLiteralPropertyName();}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),!this.hasPrecedingLineBreak()&&this.tsTokenCanFollowModifier();}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier();}tsParseModifier(e,t){if(!L(this.state.type)&&58!==this.state.type&&75!==this.state.type)return;let s=this.state.value;if(e.includes(s)){if(t&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return s;}}tsParseModifiers({allowedModifiers:e,disallowedModifiers:t,stopOnStartOfClassStaticBlock:s,errorTemplate:r=eY.InvalidModifierOnTypeMember},i){let a=(e,t,s,r)=>{t===s&&i[r]&&this.raise(eY.InvalidModifiersOrder,e,{orderedModifiers:[s,r]});},n=(e,t,s,r)=>{(i[s]&&t===r||i[r]&&t===s)&&this.raise(eY.IncompatibleModifiers,e,{modifiers:[s,r]});};for(;;){let{startLoc:o}=this.state,l=this.tsParseModifier(e.concat(t??[]),s);if(!l)break;eQ(l)?i.accessibility?this.raise(eY.DuplicateAccessibilityModifier,o,{modifier:l}):(a(o,l,l,"override"),a(o,l,l,"static"),a(o,l,l,"readonly"),i.accessibility=l):"in"===l||"out"===l?(i[l]&&this.raise(eY.DuplicateModifier,o,{modifier:l}),i[l]=!0,a(o,l,"in","out")):(hasOwnProperty.call(i,l)?this.raise(eY.DuplicateModifier,o,{modifier:l}):(a(o,l,"static","readonly"),a(o,l,"static","override"),a(o,l,"override","readonly"),a(o,l,"abstract","override"),n(o,l,"declare","override"),n(o,l,"static","abstract")),i[l]=!0),null!=t&&t.includes(l)&&this.raise(r,o,{modifier:l});}}tsIsListTerminator(e){switch(e){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48);}}tsParseList(e,t){let s=[];for(;!this.tsIsListTerminator(e);)s.push(t());return s;}tsParseDelimitedList(e,t,s){return function(e){if(null==e)throw Error(`Unexpected ${e} value.`);return e;}(this.tsParseDelimitedListWorker(e,t,!0,s));}tsParseDelimitedListWorker(e,t,s,r){let i=[],a=-1;for(;!this.tsIsListTerminator(e);){a=-1;let r=t();if(null==r)return;if(i.push(r),this.eat(12)){a=this.state.lastTokStartLoc.index;continue;}if(this.tsIsListTerminator(e))break;s&&this.expect(12);return;}return r&&(r.value=a),i;}tsParseBracketedList(e,t,s,r,i){r||(s?this.expect(0):this.expect(47));let a=this.tsParseDelimitedList(e,t,i);return s?this.expect(3):this.expect(48),a;}tsParseImportType(){let e=this.startNode();return this.expect(83),this.expect(10),this.match(134)?e.argument=this.parseStringLiteral(this.state.value):(this.raise(eY.UnsupportedImportTypeArgument,this.state.startLoc),e.argument=super.parseExprAtom()),this.eat(12)&&!this.match(11)?(e.options=super.parseMaybeAssignAllowIn(),this.eat(12)):e.options=null,this.expect(11),this.eat(16)&&(e.qualifier=this.tsParseEntityName(3)),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSImportType");}tsParseEntityName(e){let t;if(1&e&&this.match(78)){if(2&e)t=this.parseIdentifier(!0);else{let e=this.startNode();this.next(),t=this.finishNode(e,"ThisExpression");}}else t=this.parseIdentifier(!!(1&e));for(;this.eat(16);){let s=this.startNodeAtNode(t);s.left=t,s.right=this.parseIdentifier(!!(1&e)),t=this.finishNode(s,"TSQualifiedName");}return t;}tsParseTypeReference(){let e=this.startNode();return e.typeName=this.tsParseEntityName(1),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeReference");}tsParseThisTypePredicate(e){this.next();let t=this.startNodeAtNode(e);return t.parameterName=e,t.typeAnnotation=this.tsParseTypeAnnotation(!1),t.asserts=!1,this.finishNode(t,"TSTypePredicate");}tsParseThisTypeNode(){let e=this.startNode();return this.next(),this.finishNode(e,"TSThisType");}tsParseTypeQuery(){let e=this.startNode();return this.expect(87),this.match(83)?e.exprName=this.tsParseImportType():e.exprName=this.tsParseEntityName(3),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeQuery");}tsParseTypeParameter(e){let t=this.startNode();return e(t),t.name=this.tsParseTypeParameterName(),t.constraint=this.tsEatThenParseType(81),t.default=this.tsEatThenParseType(29),this.finishNode(t,"TSTypeParameter");}tsTryParseTypeParameters(e){if(this.match(47))return this.tsParseTypeParameters(e);}tsParseTypeParameters(e){let t=this.startNode();this.match(47)||this.match(143)?this.next():this.unexpected();let s={value:-1};return t.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,e),!1,!0,s),0===t.params.length&&this.raise(eY.EmptyTypeParameters,t),-1!==s.value&&this.addExtra(t,"trailingComma",s.value),this.finishNode(t,"TSTypeParameterDeclaration");}tsFillSignature(e,t){let s=19===e,r="typeAnnotation";t.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),t.parameters=this.tsParseBindingListForSignature(),s?t[r]=this.tsParseTypeOrTypePredicateAnnotation(e):this.match(e)&&(t[r]=this.tsParseTypeOrTypePredicateAnnotation(e));}tsParseBindingListForSignature(){let e=super.parseBindingList(11,41,2);for(let t of e){let{type:e}=t;("AssignmentPattern"===e||"TSParameterProperty"===e)&&this.raise(eY.UnsupportedSignatureParameterKind,t,{type:e});}return e;}tsParseTypeMemberSemicolon(){this.eat(12)||this.isLineTerminator()||this.expect(13);}tsParseSignatureMember(e,t){return this.tsFillSignature(14,t),this.tsParseTypeMemberSemicolon(),this.finishNode(t,e);}tsIsUnambiguouslyIndexSignature(){return this.next(),!!L(this.state.type)&&(this.next(),this.match(14));}tsTryParseIndexSignature(e){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);let t=this.parseIdentifier();t.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(t),this.expect(3),e.parameters=[t];let s=this.tsTryParseTypeAnnotation();return s&&(e.typeAnnotation=s),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSIndexSignature");}tsParsePropertyOrMethodSignature(e,t){if(this.eat(17)&&(e.optional=!0),this.match(10)||this.match(47)){t&&this.raise(eY.ReadonlyForMethodSignature,e),e.kind&&this.match(47)&&this.raise(eY.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,e),this.tsParseTypeMemberSemicolon();let s="parameters",r="typeAnnotation";if("get"===e.kind)e[s].length>0&&(this.raise(c.BadGetterArity,this.state.curPosition()),this.isThisParam(e[s][0])&&this.raise(eY.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if("set"===e.kind){if(1!==e[s].length)this.raise(c.BadSetterArity,this.state.curPosition());else{let t=e[s][0];this.isThisParam(t)&&this.raise(eY.AccessorCannotDeclareThisParameter,this.state.curPosition()),"Identifier"===t.type&&t.optional&&this.raise(eY.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),"RestElement"===t.type&&this.raise(eY.SetAccessorCannotHaveRestParameter,this.state.curPosition());}e[r]&&this.raise(eY.SetAccessorCannotHaveReturnType,e[r]);}else e.kind="method";return this.finishNode(e,"TSMethodSignature");}{t&&(e.readonly=!0);let s=this.tsTryParseTypeAnnotation();return s&&(e.typeAnnotation=s),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSPropertySignature");}}tsParseTypeMember(){let e=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",e);if(this.match(77)){let t=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",e):(e.key=this.createIdentifier(t,"new"),this.tsParsePropertyOrMethodSignature(e,!1));}return this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},e),this.tsTryParseIndexSignature(e)||(super.parsePropertyName(e),!e.computed&&"Identifier"===e.key.type&&("get"===e.key.name||"set"===e.key.name)&&this.tsTokenCanFollowModifier()&&(e.kind=e.key.name,super.parsePropertyName(e)),this.tsParsePropertyOrMethodSignature(e,!!e.readonly));}tsParseTypeLiteral(){let e=this.startNode();return e.members=this.tsParseObjectTypeMembers(),this.finishNode(e,"TSTypeLiteral");}tsParseObjectTypeMembers(){this.expect(5);let e=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),e;}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!!(this.match(0)&&(this.next(),this.tsIsIdentifier()))&&(this.next(),this.match(58)));}tsParseMappedType(){let e=this.startNode();this.expect(5),this.match(53)?(e.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(e.readonly=!0),this.expect(0);{let t=this.startNode();t.name=this.tsParseTypeParameterName(),t.constraint=this.tsExpectThenParseType(58),e.typeParameter=this.finishNode(t,"TSTypeParameter");}return e.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(e.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(e.optional=!0),e.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(e,"TSMappedType");}tsParseTupleType(){let e=this.startNode();e.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let t=!1;return e.elementTypes.forEach(e=>{let{type:s}=e;t&&"TSRestType"!==s&&"TSOptionalType"!==s&&!("TSNamedTupleMember"===s&&e.optional)&&this.raise(eY.OptionalTypeBeforeRequired,e),t||(t="TSNamedTupleMember"===s&&e.optional||"TSOptionalType"===s);}),this.finishNode(e,"TSTupleType");}tsParseTupleElementType(){let e=this.state.startLoc,t=this.eat(21),{startLoc:s}=this.state,r,i,a,n,o=M(this.state.type)?this.lookaheadCharCode():null;if(58===o)r=!0,a=!1,i=this.parseIdentifier(!0),this.expect(14),n=this.tsParseType();else if(63===o){a=!0;let e=this.state.value,t=this.tsParseNonArrayType();58===this.lookaheadCharCode()?(r=!0,i=this.createIdentifier(this.startNodeAt(s),e),this.expect(17),this.expect(14),n=this.tsParseType()):(r=!1,n=t,this.expect(17));}else n=this.tsParseType(),a=this.eat(17),r=this.eat(14);if(r){let e;i?((e=this.startNodeAt(s)).optional=a,e.label=i,e.elementType=n,this.eat(17)&&(e.optional=!0,this.raise(eY.TupleOptionalAfterType,this.state.lastTokStartLoc))):((e=this.startNodeAt(s)).optional=a,this.raise(eY.InvalidTupleMemberLabel,n),e.label=n,e.elementType=this.tsParseType()),n=this.finishNode(e,"TSNamedTupleMember");}else if(a){let e=this.startNodeAt(s);e.typeAnnotation=n,n=this.finishNode(e,"TSOptionalType");}if(t){let t=this.startNodeAt(e);t.typeAnnotation=n,n=this.finishNode(t,"TSRestType");}return n;}tsParseParenthesizedType(){let e=this.startNode();return this.expect(10),e.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(e,"TSParenthesizedType");}tsParseFunctionOrConstructorType(e,t){let s=this.startNode();return"TSConstructorType"===e&&(s.abstract=!!t,t&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,s)),this.finishNode(s,e);}tsParseLiteralTypeNode(){let e=this.startNode();switch(this.state.type){case 135:case 136:case 134:case 85:case 86:e.literal=super.parseExprAtom();break;default:this.unexpected();}return this.finishNode(e,"TSLiteralType");}tsParseTemplateLiteralType(){{let e=this.startNode();return e.literal=super.parseTemplate(!1),this.finishNode(e,"TSLiteralType");}}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution();}tsParseThisTypeOrThisTypePredicate(){let e=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(e):e;}tsParseNonArrayType(){switch(this.state.type){case 134:case 135:case 136:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if("-"===this.state.value){let e=this.startNode(),t=this.lookahead();return 135!==t.type&&136!==t.type&&this.unexpected(),e.literal=this.parseMaybeUnary(),this.finishNode(e,"TSLiteralType");}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{let{type:e}=this.state;if(L(e)||88===e||84===e){let t=88===e?"TSVoidKeyword":84===e?"TSNullKeyword":function(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return;}}(this.state.value);if(void 0!==t&&46!==this.lookaheadCharCode()){let e=this.startNode();return this.next(),this.finishNode(e,t);}return this.tsParseTypeReference();}}}this.unexpected();}tsParseArrayTypeOrHigher(){let{startLoc:e}=this.state,t=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){let s=this.startNodeAt(e);s.elementType=t,this.expect(3),t=this.finishNode(s,"TSArrayType");}else{let s=this.startNodeAt(e);s.objectType=t,s.indexType=this.tsParseType(),this.expect(3),t=this.finishNode(s,"TSIndexedAccessType");}return t;}tsParseTypeOperator(){let e=this.startNode(),t=this.state.value;return this.next(),e.operator=t,e.typeAnnotation=this.tsParseTypeOperatorOrHigher(),"readonly"===t&&this.tsCheckTypeAnnotationForReadOnly(e),this.finishNode(e,"TSTypeOperator");}tsCheckTypeAnnotationForReadOnly(e){switch(e.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(eY.UnexpectedReadonly,e);}}tsParseInferType(){let e=this.startNode();this.expectContextual(115);let t=this.startNode();return t.name=this.tsParseTypeParameterName(),t.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),e.typeParameter=this.finishNode(t,"TSTypeParameter"),this.finishNode(e,"TSInferType");}tsParseConstraintForInferType(){if(this.eat(81)){let e=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return e;}}tsParseTypeOperatorOrHigher(){var e;return(e=this.state.type)>=121&&e<=123&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher());}tsParseUnionOrIntersectionType(e,t,s){let r=this.startNode(),i=this.eat(s),a=[];do a.push(t());while(this.eat(s))return 1!==a.length||i?(r.types=a,this.finishNode(r,e)):a[0];}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45);}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43);}tsIsStartOfFunctionType(){return!!this.match(47)||this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this));}tsSkipParameterStart(){if(L(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){let{errors:e}=this.state,t=e.length;try{return this.parseObjectLike(8,!0),e.length===t;}catch{return!1;}}if(this.match(0)){this.next();let{errors:e}=this.state,t=e.length;try{return super.parseBindingList(3,93,1),e.length===t;}catch{}}return!1;}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))));}tsParseTypeOrTypePredicateAnnotation(e){return this.tsInType(()=>{let t=this.startNode();this.expect(e);let s=this.startNode(),r=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(r&&this.match(78)){let e=this.tsParseThisTypeOrThisTypePredicate();return"TSThisType"===e.type?(s.parameterName=e,s.asserts=!0,s.typeAnnotation=null,e=this.finishNode(s,"TSTypePredicate")):(this.resetStartLocationFromNode(e,s),e.asserts=!0),t.typeAnnotation=e,this.finishNode(t,"TSTypeAnnotation");}let i=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!i)return r?(s.parameterName=this.parseIdentifier(),s.asserts=r,s.typeAnnotation=null,t.typeAnnotation=this.finishNode(s,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,t);let a=this.tsParseTypeAnnotation(!1);return s.parameterName=i,s.typeAnnotation=a,s.asserts=r,t.typeAnnotation=this.finishNode(s,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation");});}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14);}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation();}tsTryParseType(){return this.tsEatThenParseType(14);}tsParseTypePredicatePrefix(){let e=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),e;}tsParseTypePredicateAsserts(){if(109!==this.state.type)return!1;let e=this.state.containsEsc;return this.next(),!!(L(this.state.type)||this.match(78))&&(e&&this.raise(c.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),!0);}tsParseTypeAnnotation(e=!0,t=this.startNode()){return this.tsInType(()=>{e&&this.expect(14),t.typeAnnotation=this.tsParseType();}),this.finishNode(t,"TSTypeAnnotation");}tsParseType(){eG(this.state.inType);let e=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return e;let t=this.startNodeAtNode(e);return t.checkType=e,t.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),t.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),t.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(t,"TSConditionalType");}isAbstractConstructorSignature(){return this.isContextual(124)&&77===this.lookahead().type;}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher();}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(eY.ReservedTypeAssertion,this.state.startLoc);let e=this.startNode();return e.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),e.expression=this.parseMaybeUnary(),this.finishNode(e,"TSTypeAssertion");}tsParseHeritageClause(e){let t=this.state.startLoc,s=this.tsParseDelimitedList("HeritageClauseElement",()=>{let e=this.startNode();return e.expression=this.tsParseEntityName(3),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSExpressionWithTypeArguments");});return s.length||this.raise(eY.EmptyHeritageClauseType,t,{token:e}),s;}tsParseInterfaceDeclaration(e,t={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),t.declare&&(e.declare=!0),L(this.state.type)?(e.id=this.parseIdentifier(),this.checkIdentifier(e.id,130)):(e.id=null,this.raise(eY.MissingInterfaceName,this.state.startLoc)),e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(e.extends=this.tsParseHeritageClause("extends"));let s=this.startNode();return s.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),e.body=this.finishNode(s,"TSInterfaceBody"),this.finishNode(e,"TSInterfaceDeclaration");}tsParseTypeAliasDeclaration(e){return e.id=this.parseIdentifier(),this.checkIdentifier(e.id,2),e.typeAnnotation=this.tsInType(()=>{if(e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&16!==this.lookahead().type){let e=this.startNode();return this.next(),this.finishNode(e,"TSIntrinsicKeyword");}return this.tsParseType();}),this.semicolon(),this.finishNode(e,"TSTypeAliasDeclaration");}tsInTopLevelContext(e){if(this.curContext()===g.brace)return e();{let t=this.state.context;this.state.context=[t[0]];try{return e();}finally{this.state.context=t;}}}tsInType(e){let t=this.state.inType;this.state.inType=!0;try{return e();}finally{this.state.inType=t;}}tsInDisallowConditionalTypesContext(e){let t=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return e();}finally{this.state.inDisallowConditionalTypesContext=t;}}tsInAllowConditionalTypesContext(e){let t=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return e();}finally{this.state.inDisallowConditionalTypesContext=t;}}tsEatThenParseType(e){if(this.match(e))return this.tsNextThenParseType();}tsExpectThenParseType(e){return this.tsInType(()=>(this.expect(e),this.tsParseType()));}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()));}tsParseEnumMember(){let e=this.startNode();return e.id=this.match(134)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(e.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(e,"TSEnumMember");}tsParseEnumDeclaration(e,t={}){return t.const&&(e.const=!0),t.declare&&(e.declare=!0),this.expectContextual(126),e.id=this.parseIdentifier(),this.checkIdentifier(e.id,e.const?8971:8459),this.expect(5),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(e,"TSEnumDeclaration");}tsParseEnumBody(){let e=this.startNode();return this.expect(5),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(e,"TSEnumBody");}tsParseModuleBlock(){let e=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(e.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(e,"TSModuleBlock");}tsParseModuleOrNamespaceDeclaration(e,t=!1){if(e.id=this.parseIdentifier(),t||this.checkIdentifier(e.id,1024),this.eat(16)){let t=this.startNode();this.tsParseModuleOrNamespaceDeclaration(t,!0),e.body=t;}else this.scope.enter(256),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(e,"TSModuleDeclaration");}tsParseAmbientExternalModuleDeclaration(e){return this.isContextual(112)?(e.kind="global",e.global=!0,e.id=this.parseIdentifier()):this.match(134)?(e.kind="module",e.id=super.parseStringLiteral(this.state.value)):this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(e,"TSModuleDeclaration");}tsParseImportEqualsDeclaration(e,t,s){e.isExport=s||!1,e.id=t||this.parseIdentifier(),this.checkIdentifier(e.id,4096),this.expect(29);let r=this.tsParseModuleReference();return"type"===e.importKind&&"TSExternalModuleReference"!==r.type&&this.raise(eY.ImportAliasHasImportType,r),e.moduleReference=r,this.semicolon(),this.finishNode(e,"TSImportEqualsDeclaration");}tsIsExternalModuleReference(){return this.isContextual(119)&&40===this.lookaheadCharCode();}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(0);}tsParseExternalModuleReference(){let e=this.startNode();return this.expectContextual(119),this.expect(10),this.match(134)||this.unexpected(),e.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(e,"TSExternalModuleReference");}tsLookAhead(e){let t=this.state.clone(),s=e();return this.state=t,s;}tsTryParseAndCatch(e){let t=this.tryParse(t=>e()||t());if(!(t.aborted||!t.node))return t.error&&(this.state=t.failState),t.node;}tsTryParse(e){let t=this.state.clone(),s=e();if(void 0!==s&&!1!==s)return s;this.state=t;}tsTryParseDeclare(e){if(this.isLineTerminator())return;let t=this.state.type,s;return this.isContextual(100)&&(t=74,s="let"),this.tsInAmbientContext(()=>{switch(t){case 68:return e.declare=!0,super.parseFunctionStatement(e,!1,!1);case 80:return e.declare=!0,this.parseClass(e,!0,!1);case 126:return this.tsParseEnumDeclaration(e,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(e);case 75:case 74:return this.match(75)&&this.isLookaheadContextual("enum")?(this.expect(75),this.tsParseEnumDeclaration(e,{const:!0,declare:!0})):(e.declare=!0,this.parseVarStatement(e,s||this.state.value,!0));case 129:{let t=this.tsParseInterfaceDeclaration(e,{declare:!0});if(t)return t;}default:if(L(t))return this.tsParseDeclaration(e,this.state.value,!0,null);}});}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null);}tsParseExpressionStatement(e,t,s){switch(t.name){case"declare":{let t=this.tsTryParseDeclare(e);return t&&(t.declare=!0),t;}case"global":if(this.match(5))return this.scope.enter(256),this.prodParam.enter(0),e.kind="global",e.global=!0,e.id=t,e.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(e,"TSModuleDeclaration");break;default:return this.tsParseDeclaration(e,t.name,!1,s);}}tsParseDeclaration(e,t,s,r){switch(t){case"abstract":if(this.tsCheckLineTerminator(s)&&(this.match(80)||L(this.state.type)))return this.tsParseAbstractDeclaration(e,r);break;case"module":if(this.tsCheckLineTerminator(s)){if(this.match(134))return this.tsParseAmbientExternalModuleDeclaration(e);if(L(this.state.type))return e.kind="module",this.tsParseModuleOrNamespaceDeclaration(e);}break;case"namespace":if(this.tsCheckLineTerminator(s)&&L(this.state.type))return e.kind="namespace",this.tsParseModuleOrNamespaceDeclaration(e);break;case"type":if(this.tsCheckLineTerminator(s)&&L(this.state.type))return this.tsParseTypeAliasDeclaration(e);}}tsCheckLineTerminator(e){return e?!this.hasFollowingLineBreak()&&(this.next(),!0):!this.isLineTerminator();}tsTryParseGenericAsyncArrowFunction(e){if(!this.match(47))return;let t=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;let s=this.tsTryParseAndCatch(()=>{let t=this.startNodeAt(e);return t.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(t),t.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),t;});if(this.state.maybeInArrowParameters=t,s)return super.parseArrowExpression(s,null,!0);}tsParseTypeArgumentsInExpression(){if(47===this.reScan_lt())return this.tsParseTypeArguments();}tsParseTypeArguments(){let e=this.startNode();return e.params=this.tsInType(()=>this.tsInTopLevelContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),0===e.params.length?this.raise(eY.EmptyTypeArguments,e):this.state.inType||this.curContext()!==g.brace||this.reScan_lt_gt(),this.expect(48),this.finishNode(e,"TSTypeParameterInstantiation");}tsIsDeclarationStart(){var e;return(e=this.state.type)>=124&&e<=130;}isExportDefaultSpecifier(){return!this.tsIsDeclarationStart()&&super.isExportDefaultSpecifier();}parseAssignableListItem(e,t){let s=this.state.startLoc,r={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},r);let i=r.accessibility,a=r.override,n=r.readonly;!(4&e)&&(i||n||a)&&this.raise(eY.UnexpectedParameterModifier,s);let o=this.parseMaybeDefault();2&e&&this.parseFunctionParamType(o);let l=this.parseMaybeDefault(o.loc.start,o);if(i||n||a){let e=this.startNodeAt(s);return t.length&&(e.decorators=t),i&&(e.accessibility=i),n&&(e.readonly=n),a&&(e.override=a),"Identifier"!==l.type&&"AssignmentPattern"!==l.type&&this.raise(eY.UnsupportedParameterPropertyKind,e),e.parameter=l,this.finishNode(e,"TSParameterProperty");}return t.length&&(o.decorators=t),l;}isSimpleParameter(e){return"TSParameterProperty"===e.type&&super.isSimpleParameter(e.parameter)||super.isSimpleParameter(e);}tsDisallowOptionalPattern(e){for(let t of e.params)"Identifier"!==t.type&&t.optional&&!this.state.isAmbientContext&&this.raise(eY.PatternIsOptional,t);}setArrowFunctionParameters(e,t,s){super.setArrowFunctionParameters(e,t,s),this.tsDisallowOptionalPattern(e);}parseFunctionBodyAndFinish(e,t,s=!1){this.match(14)&&(e.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));let r="FunctionDeclaration"===t?"TSDeclareFunction":"ClassMethod"===t||"ClassPrivateMethod"===t?"TSDeclareMethod":void 0;return r&&!this.match(5)&&this.isLineTerminator()?this.finishNode(e,r):"TSDeclareFunction"===r&&this.state.isAmbientContext&&(this.raise(eY.DeclareFunctionHasImplementation,e),e.declare)?super.parseFunctionBodyAndFinish(e,r,s):(this.tsDisallowOptionalPattern(e),super.parseFunctionBodyAndFinish(e,t,s));}registerFunctionStatementId(e){!e.body&&e.id?this.checkIdentifier(e.id,1024):super.registerFunctionStatementId(e);}tsCheckForInvalidTypeCasts(e){e.forEach(e=>{(null==e?void 0:e.type)==="TSTypeCastExpression"&&this.raise(eY.UnexpectedTypeAnnotation,e.typeAnnotation);});}toReferencedList(e,t){return this.tsCheckForInvalidTypeCasts(e),e;}parseArrayLike(e,t,s,r){let i=super.parseArrayLike(e,t,s,r);return"ArrayExpression"===i.type&&this.tsCheckForInvalidTypeCasts(i.elements),i;}parseSubscript(e,t,s,r){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();let s=this.startNodeAt(t);return s.expression=e,this.finishNode(s,"TSNonNullExpression");}let i=!1;if(this.match(18)&&60===this.lookaheadCharCode()){if(s)return r.stop=!0,e;r.optionalChainMember=i=!0,this.next();}if(this.match(47)||this.match(51)){let a,n=this.tsTryParseAndCatch(()=>{if(!s&&this.atPossibleAsyncArrow(e)){let e=this.tsTryParseGenericAsyncArrowFunction(t);if(e)return e;}let n=this.tsParseTypeArgumentsInExpression();if(!n)return;if(i&&!this.match(10)){a=this.state.curPosition();return;}if(B(this.state.type)){let s=super.parseTaggedTemplateExpression(e,t,r);return s.typeParameters=n,s;}if(!s&&this.eat(10)){let s=this.startNodeAt(t);return s.callee=e,s.arguments=this.parseCallExpressionArguments(11),this.tsCheckForInvalidTypeCasts(s.arguments),s.typeParameters=n,r.optionalChainMember&&(s.optional=i),this.finishCallExpression(s,r.optionalChainMember);}let o=this.state.type;if(48===o||52===o||10!==o&&C[o]&&!this.hasPrecedingLineBreak())return;let l=this.startNodeAt(t);return l.expression=e,l.typeParameters=n,this.finishNode(l,"TSInstantiationExpression");});if(a&&this.unexpected(a,10),n)return"TSInstantiationExpression"===n.type&&(this.match(16)||this.match(18)&&40!==this.lookaheadCharCode())&&this.raise(eY.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),n;}return super.parseSubscript(e,t,s,r);}parseNewCallee(e){var t;super.parseNewCallee(e);let{callee:s}=e;"TSInstantiationExpression"!==s.type||null!=(t=s.extra)&&t.parenthesized||(e.typeParameters=s.typeParameters,e.callee=s.expression);}parseExprOp(e,t,s){let r;if(w[58]>s&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(r=this.isContextual(120)))){let i=this.startNodeAt(t);return i.expression=e,i.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(r&&this.raise(c.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(i,r?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(i,t,s);}return super.parseExprOp(e,t,s);}checkReservedWord(e,t,s,r){this.state.isAmbientContext||super.checkReservedWord(e,t,s,r);}checkImportReflection(e){super.checkImportReflection(e),e.module&&"value"!==e.importKind&&this.raise(eY.ImportReflectionHasImportType,e.specifiers[0].loc.start);}checkDuplicateExports(){}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){let t=this.lookaheadCharCode();return e?123===t||42===t:61!==t;}return!e&&this.isContextual(87);}applyImportPhase(e,t,s,r){super.applyImportPhase(e,t,s,r),t?e.exportKind="type"===s?"type":"value":e.importKind="type"===s||"typeof"===s?s:"value";}parseImport(e){let t;if(this.match(134))return e.importKind="value",super.parseImport(e);if(L(this.state.type)&&61===this.lookaheadCharCode())return e.importKind="value",this.tsParseImportEqualsDeclaration(e);if(this.isContextual(130)){let s=this.parseMaybeImportPhase(e,!1);if(61===this.lookaheadCharCode())return this.tsParseImportEqualsDeclaration(e,s);t=super.parseImportSpecifiersAndAfter(e,s);}else t=super.parseImport(e);return"type"===t.importKind&&t.specifiers.length>1&&"ImportDefaultSpecifier"===t.specifiers[0].type&&this.raise(eY.TypeImportCannotSpecifyDefaultAndNamed,t),t;}parseExport(e,t){if(this.match(83)){this.next();let t=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?t=this.parseMaybeImportPhase(e,!1):e.importKind="value",this.tsParseImportEqualsDeclaration(e,t,!0);}return this.eat(29)?(e.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(e,"TSExportAssignment")):this.eatContextual(93)?(this.expectContextual(128),e.id=this.parseIdentifier(),this.semicolon(),this.finishNode(e,"TSNamespaceExportDeclaration")):super.parseExport(e,t);}isAbstractClass(){return this.isContextual(124)&&80===this.lookahead().type;}parseExportDefaultExpression(){if(this.isAbstractClass()){let e=this.startNode();return this.next(),e.abstract=!0,this.parseClass(e,!0,!0);}if(this.match(129)){let e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e;}return super.parseExportDefaultExpression();}parseVarStatement(e,t,s=!1){let{isAmbientContext:r}=this.state,i=super.parseVarStatement(e,t,s||r);if(!r)return i;for(let{id:e,init:s}of i.declarations)s&&("const"!==t||e.typeAnnotation?this.raise(eY.InitializerNotAllowedInAmbientContext,s):function(e,t){var s;let{type:r}=e;if(null!=(s=e.extra)&&s.parenthesized)return!1;if(t){if("Literal"===r){let{value:t}=e;if("string"==typeof t||"boolean"==typeof t)return!0;}}else if("StringLiteral"===r||"BooleanLiteral"===r)return!0;return!!(eZ(e,t)||function(e,t){if("UnaryExpression"===e.type){let{operator:s,argument:r}=e;if("-"===s&&eZ(r,t))return!0;}return!1;}(e,t)||"TemplateLiteral"===r&&0===e.expressions.length||function(e){if("MemberExpression"!==e.type)return!1;let{computed:t,property:s}=e;return(!t||"StringLiteral"===s.type||"TemplateLiteral"===s.type&&!(s.expressions.length>0))&&function e(t){return"Identifier"===t.type||"MemberExpression"===t.type&&!t.computed&&e(t.object);}(e.object);}(e));}(s,this.hasPlugin("estree"))||this.raise(eY.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,s));return i;}parseStatementContent(e,t){if(this.match(75)&&this.isLookaheadContextual("enum")){let e=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(e,{const:!0});}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){let e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e;}return super.parseStatementContent(e,t);}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"]);}tsHasSomeModifiers(e,t){return t.some(t=>eQ(t)?e.accessibility===t:!!e[t]);}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&123===this.lookaheadCharCode();}parseClassMember(e,t,s){let r=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:r,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:eY.InvalidModifierOnTypeParameterPositions},t);let i=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(t,r)&&this.raise(eY.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(e,t)):this.parseClassMemberWithIsStatic(e,t,s,!!t.static);};t.declare?this.tsInAmbientContext(i):i();}parseClassMemberWithIsStatic(e,t,s,r){let i=this.tsTryParseIndexSignature(t);if(i){e.body.push(i),t.abstract&&this.raise(eY.IndexSignatureHasAbstract,t),t.accessibility&&this.raise(eY.IndexSignatureHasAccessibility,t,{modifier:t.accessibility}),t.declare&&this.raise(eY.IndexSignatureHasDeclare,t),t.override&&this.raise(eY.IndexSignatureHasOverride,t);return;}!this.state.inAbstractClass&&t.abstract&&this.raise(eY.NonAbstractClassHasAbstractMethod,t),t.override&&(s.hadSuperClass||this.raise(eY.OverrideNotInSubClass,t)),super.parseClassMemberWithIsStatic(e,t,s,r);}parsePostMemberNameModifiers(e){this.eat(17)&&(e.optional=!0),e.readonly&&this.match(10)&&this.raise(eY.ClassMethodHasReadonly,e),e.declare&&this.match(10)&&this.raise(eY.ClassMethodHasDeclare,e);}parseExpressionStatement(e,t,s){return("Identifier"===t.type?this.tsParseExpressionStatement(e,t,s):void 0)||super.parseExpressionStatement(e,t,s);}shouldParseExportDeclaration(){return!!this.tsIsDeclarationStart()||super.shouldParseExportDeclaration();}parseConditional(e,t,s){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(e,t,s);let r=this.tryParse(()=>super.parseConditional(e,t));return r.node?(r.error&&(this.state=r.failState),r.node):(r.error&&super.setOptionalParametersError(s,r.error),e);}parseParenItem(e,t){let s=super.parseParenItem(e,t);if(this.eat(17)&&(s.optional=!0,this.resetEndLocation(e)),this.match(14)){let s=this.startNodeAt(t);return s.expression=e,s.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(s,"TSTypeCastExpression");}return e;}parseExportDeclaration(e){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(e));let t=this.state.startLoc,s=this.eatContextual(125);if(s&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(eY.ExpectedAmbientAfterExportDeclare,this.state.startLoc);let r=L(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(e);return r?(("TSInterfaceDeclaration"===r.type||"TSTypeAliasDeclaration"===r.type||s)&&(e.exportKind="type"),s&&"TSImportEqualsDeclaration"!==r.type&&(this.resetStartLocation(r,t),r.declare=!0),r):null;}parseClassId(e,t,s,r){if((!t||s)&&this.isContextual(113))return;super.parseClassId(e,t,s,e.declare?1024:8331);let i=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);i&&(e.typeParameters=i);}parseClassPropertyAnnotation(e){e.optional||(this.eat(35)?e.definite=!0:this.eat(17)&&(e.optional=!0));let t=this.tsTryParseTypeAnnotation();t&&(e.typeAnnotation=t);}parseClassProperty(e){if(this.parseClassPropertyAnnotation(e),this.state.isAmbientContext&&!(e.readonly&&!e.typeAnnotation)&&this.match(29)&&this.raise(eY.DeclareClassFieldHasInitializer,this.state.startLoc),e.abstract&&this.match(29)){let{key:t}=e;this.raise(eY.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:"Identifier"!==t.type||e.computed?`[${this.input.slice(this.offsetToSourcePos(t.start),this.offsetToSourcePos(t.end))}]`:t.name});}return super.parseClassProperty(e);}parseClassPrivateProperty(e){return e.abstract&&this.raise(eY.PrivateElementHasAbstract,e),e.accessibility&&this.raise(eY.PrivateElementHasAccessibility,e,{modifier:e.accessibility}),this.parseClassPropertyAnnotation(e),super.parseClassPrivateProperty(e);}parseClassAccessorProperty(e){return this.parseClassPropertyAnnotation(e),e.optional&&this.raise(eY.AccessorCannotBeOptional,e),super.parseClassAccessorProperty(e);}pushClassMethod(e,t,s,r,i,a){let n=this.tsTryParseTypeParameters(this.tsParseConstModifier);n&&i&&this.raise(eY.ConstructorHasTypeParameters,n);let{declare:o=!1,kind:l}=t;o&&("get"===l||"set"===l)&&this.raise(eY.DeclareAccessor,t,{kind:l}),n&&(t.typeParameters=n),super.pushClassMethod(e,t,s,r,i,a);}pushClassPrivateMethod(e,t,s,r){let i=this.tsTryParseTypeParameters(this.tsParseConstModifier);i&&(t.typeParameters=i),super.pushClassPrivateMethod(e,t,s,r);}declareClassPrivateMethodInScope(e,t){"TSDeclareMethod"===e.type||("MethodDefinition"!==e.type||hasOwnProperty.call(e.value,"body"))&&super.declareClassPrivateMethodInScope(e,t);}parseClassSuper(e){super.parseClassSuper(e),e.superClass&&(this.match(47)||this.match(51))&&(e.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(e.implements=this.tsParseHeritageClause("implements"));}parseObjPropValue(e,t,s,r,i,a,n){let o=this.tsTryParseTypeParameters(this.tsParseConstModifier);return o&&(e.typeParameters=o),super.parseObjPropValue(e,t,s,r,i,a,n);}parseFunctionParams(e,t){let s=this.tsTryParseTypeParameters(this.tsParseConstModifier);s&&(e.typeParameters=s),super.parseFunctionParams(e,t);}parseVarId(e,t){super.parseVarId(e,t),"Identifier"===e.id.type&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(e.definite=!0);let s=this.tsTryParseTypeAnnotation();s&&(e.id.typeAnnotation=s,this.resetEndLocation(e.id));}parseAsyncArrowFromCallExpression(e,t){return this.match(14)&&(e.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(e,t);}parseMaybeAssign(e,t){var s,r,i,a,n;let o,l,h;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(o=this.state.clone(),!(l=this.tryParse(()=>super.parseMaybeAssign(e,t),o)).error)return l.node;let{context:s}=this.state,r=s[s.length-1];(r===g.j_oTag||r===g.j_expr)&&s.pop();}if(!(null!=(s=l)&&s.error)&&!this.match(47))return super.parseMaybeAssign(e,t);o&&o!==this.state||(o=this.state.clone());let p,u=this.tryParse(s=>{var r,i;p=this.tsParseTypeParameters(this.tsParseConstModifier);let a=super.parseMaybeAssign(e,t);return("ArrowFunctionExpression"!==a.type||null!=(r=a.extra)&&r.parenthesized)&&s(),(null==(i=p)?void 0:i.params.length)!==0&&this.resetStartLocationFromNode(a,p),a.typeParameters=p,a;},o);if(!u.error&&!u.aborted)return p&&this.reportReservedArrowTypeParam(p),u.node;if(!l&&(eG(!this.hasPlugin("jsx")),!(h=this.tryParse(()=>super.parseMaybeAssign(e,t),o)).error))return h.node;if(null!=(r=l)&&r.node)return this.state=l.failState,l.node;if(u.node)return this.state=u.failState,p&&this.reportReservedArrowTypeParam(p),u.node;if(null!=(i=h)&&i.node)return this.state=h.failState,h.node;throw(null==(a=l)?void 0:a.error)||u.error||(null==(n=h)?void 0:n.error);}reportReservedArrowTypeParam(e){var t;1===e.params.length&&!e.params[0].constraint&&!(null!=(t=e.extra)&&t.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(eY.ReservedArrowTypeParam,e);}parseMaybeUnary(e,t){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(e,t);}parseArrow(e){if(this.match(14)){let t=this.tryParse(e=>{let t=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&e(),t;});if(t.aborted)return;t.thrown||(t.error&&(this.state=t.failState),e.returnType=t.node);}return super.parseArrow(e);}parseFunctionParamType(e){this.eat(17)&&(e.optional=!0);let t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t),this.resetEndLocation(e),e;}isAssignable(e,t){switch(e.type){case"TSTypeCastExpression":return this.isAssignable(e.expression,t);case"TSParameterProperty":return!0;default:return super.isAssignable(e,t);}}toAssignable(e,t=!1){switch(e.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(e,t);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":t?this.expressionScope.recordArrowParameterBindingError(eY.UnexpectedTypeCastInParameter,e):this.raise(eY.UnexpectedTypeCastInParameter,e),this.toAssignable(e.expression,t);break;case"AssignmentExpression":t||"TSTypeCastExpression"!==e.left.type||(e.left=this.typeCastToParameter(e.left));default:super.toAssignable(e,t);}}toAssignableParenthesizedExpression(e,t){switch(e.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(e.expression,t);break;default:super.toAssignable(e,t);}}checkToRestConversion(e,t){switch(e.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(e.expression,!1);break;default:super.checkToRestConversion(e,t);}}isValidLVal(e,t,s){switch(e){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":case"TSInstantiationExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(64!==s||!t)&&["expression",!0];default:return super.isValidLVal(e,t,s);}}parseBindingAtom(){return 78===this.state.type?this.parseIdentifier(!0):super.parseBindingAtom();}parseMaybeDecoratorArguments(e,t){if(this.match(47)||this.match(51)){let s=this.tsParseTypeArgumentsInExpression();if(this.match(10)){let r=super.parseMaybeDecoratorArguments(e,t);return r.typeParameters=s,r;}this.unexpected(null,10);}return super.parseMaybeDecoratorArguments(e,t);}checkCommaAfterRest(e){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===e?(this.next(),!1):super.checkCommaAfterRest(e);}isClassMethod(){return this.match(47)||super.isClassMethod();}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty();}parseMaybeDefault(e,t){let s=super.parseMaybeDefault(e,t);return"AssignmentPattern"===s.type&&s.typeAnnotation&&s.right.start<s.typeAnnotation.start&&this.raise(eY.TypeAnnotationAfterAssign,s.typeAnnotation),s;}getTokenFromCode(e){if(this.state.inType){if(62===e){this.finishOp(48,1);return;}if(60===e){this.finishOp(47,1);return;}}super.getTokenFromCode(e);}reScan_lt_gt(){let{type:e}=this.state;47===e?(this.state.pos-=1,this.readToken_lt()):48===e&&(this.state.pos-=1,this.readToken_gt());}reScan_lt(){let{type:e}=this.state;return 51===e?(this.state.pos-=2,this.finishOp(47,1),47):e;}toAssignableList(e,t,s){for(let t=0;t<e.length;t++){let s=e[t];(null==s?void 0:s.type)==="TSTypeCastExpression"&&(e[t]=this.typeCastToParameter(s));}super.toAssignableList(e,t,s);}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression;}shouldParseArrow(e){return this.match(14)?e.every(e=>this.isAssignable(e,!0)):super.shouldParseArrow(e);}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow();}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass();}jsxParseOpeningElementAfterName(e){if(this.match(47)||this.match(51)){let t=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());t&&(e.typeParameters=t);}return super.jsxParseOpeningElementAfterName(e);}getGetterSetterExpectedParamCount(e){let t=super.getGetterSetterExpectedParamCount(e),s=this.getObjectOrClassMethodParams(e)[0];return s&&this.isThisParam(s)?t+1:t;}parseCatchClauseParam(){let e=super.parseCatchClauseParam(),t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t,this.resetEndLocation(e)),e;}tsInAmbientContext(e){let{isAmbientContext:t,strict:s}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return e();}finally{this.state.isAmbientContext=t,this.state.strict=s;}}parseClass(e,t,s){let r=this.state.inAbstractClass;this.state.inAbstractClass=!!e.abstract;try{return super.parseClass(e,t,s);}finally{this.state.inAbstractClass=r;}}tsParseAbstractDeclaration(e,t){if(this.match(80))return e.abstract=!0,this.maybeTakeDecorators(t,this.parseClass(e,!0,!1));if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return e.abstract=!0,this.raise(eY.NonClassMethodPropertyHasAbstractModifer,e),this.tsParseInterfaceDeclaration(e);}else this.unexpected(null,80);}parseMethod(e,t,s,r,i,a,n){let o=super.parseMethod(e,t,s,r,i,a,n);if(o.abstract&&(this.hasPlugin("estree")?o.value:o).body){let{key:e}=o;this.raise(eY.AbstractMethodHasImplementation,o,{methodName:"Identifier"!==e.type||o.computed?`[${this.input.slice(this.offsetToSourcePos(e.start),this.offsetToSourcePos(e.end))}]`:e.name});}return o;}tsParseTypeParameterName(){return this.parseIdentifier().name;}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts");}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse();}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression();}parseExportSpecifier(e,t,s,r){return!t&&r?(this.parseTypeOnlyImportExportSpecifier(e,!1,s),this.finishNode(e,"ExportSpecifier")):(e.exportKind="value",super.parseExportSpecifier(e,t,s,r));}parseImportSpecifier(e,t,s,r,i){return!t&&r?(this.parseTypeOnlyImportExportSpecifier(e,!0,s),this.finishNode(e,"ImportSpecifier")):(e.importKind="value",super.parseImportSpecifier(e,t,s,r,s?4098:4096));}parseTypeOnlyImportExportSpecifier(e,t,s){let r=t?"imported":"local",i=t?"local":"exported",a=e[r],n,o=!1,l=!0,h=a.loc.start;if(this.isContextual(93)){let e=this.parseIdentifier();if(this.isContextual(93)){let s=this.parseIdentifier();M(this.state.type)?(o=!0,a=e,n=t?this.parseIdentifier():this.parseModuleExportName()):n=s,l=!1;}else M(this.state.type)?(l=!1,n=t?this.parseIdentifier():this.parseModuleExportName()):(o=!0,a=e);}else M(this.state.type)&&(o=!0,t?(a=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(a.name,a.loc.start,!0,!0)):a=this.parseModuleExportName());o&&s&&this.raise(t?eY.TypeModifierIsUsedInTypeImports:eY.TypeModifierIsUsedInTypeExports,h),e[r]=a,e[i]=n,e[t?"importKind":"exportKind"]=o?"type":"value",l&&this.eatContextual(93)&&(e[i]=t?this.parseIdentifier():this.parseModuleExportName()),e[i]||(e[i]=eR(e[r])),t&&this.checkIdentifier(e[i],o?4098:4096);}},v8intrinsic:e=>class extends e{parseV8Intrinsic(){if(this.match(54)){let e=this.state.startLoc,t=this.startNode();if(this.next(),L(this.state.type)){let e=this.parseIdentifierName(),s=this.createIdentifier(t,e);if(s.type="V8IntrinsicIdentifier",this.match(10))return s;}this.unexpected(e);}}parseExprAtom(e){return this.parseV8Intrinsic()||super.parseExprAtom(e);}},placeholders:e=>class extends e{parsePlaceholder(e){if(this.match(133)){let t=this.startNode();return this.next(),this.assertNoSpace(),t.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(133),this.finishPlaceholder(t,e);}}finishPlaceholder(e,t){let s=e;return s.expectedNode&&s.type||(s=this.finishNode(s,"Placeholder")),s.expectedNode=t,s;}getTokenFromCode(e){37===e&&37===this.input.charCodeAt(this.state.pos+1)?this.finishOp(133,2):super.getTokenFromCode(e);}parseExprAtom(e){return this.parsePlaceholder("Expression")||super.parseExprAtom(e);}parseIdentifier(e){return this.parsePlaceholder("Identifier")||super.parseIdentifier(e);}checkReservedWord(e,t,s,r){void 0!==e&&super.checkReservedWord(e,t,s,r);}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom();}isValidLVal(e,t,s){return"Placeholder"===e||super.isValidLVal(e,t,s);}toAssignable(e,t){e&&"Placeholder"===e.type&&"Expression"===e.expectedNode?e.expectedNode="Pattern":super.toAssignable(e,t);}chStartsBindingIdentifier(e,t){return!!(super.chStartsBindingIdentifier(e,t)||133===this.lookahead().type);}verifyBreakContinue(e,t){e.label&&"Placeholder"===e.label.type||super.verifyBreakContinue(e,t);}parseExpressionStatement(e,t){var s;return"Placeholder"!==t.type||null!=(s=t.extra)&&s.parenthesized?super.parseExpressionStatement(e,t):this.match(14)?(e.label=this.finishPlaceholder(t,"Identifier"),this.next(),e.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(e,"LabeledStatement")):(this.semicolon(),e.name=t.name,this.finishPlaceholder(e,"Statement"));}parseBlock(e,t,s){return this.parsePlaceholder("BlockStatement")||super.parseBlock(e,t,s);}parseFunctionId(e){return this.parsePlaceholder("Identifier")||super.parseFunctionId(e);}parseClass(e,t,s){let r=t?"ClassDeclaration":"ClassExpression";this.next();let i=this.state.strict,a=this.parsePlaceholder("Identifier");if(a){if(this.match(81)||this.match(133)||this.match(5))e.id=a;else{if(s||!t)return e.id=null,e.body=this.finishPlaceholder(a,"ClassBody"),this.finishNode(e,r);throw this.raise(e0.ClassNameIsRequired,this.state.startLoc);}}else this.parseClassId(e,t,s);return super.parseClassSuper(e),e.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!e.superClass,i),this.finishNode(e,r);}parseExport(e,t){let s=this.parsePlaceholder("Identifier");if(!s)return super.parseExport(e,t);if(!this.isContextual(98)&&!this.match(12))return e.specifiers=[],e.source=null,e.declaration=this.finishPlaceholder(s,"Declaration"),this.finishNode(e,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");let r=this.startNode();return r.exported=s,e.specifiers=[this.finishNode(r,"ExportDefaultSpecifier")],super.parseExport(e,t);}isExportDefaultSpecifier(){if(this.match(65)){let e=this.nextTokenStart();if(this.isUnparsedContextual(e,"from")&&this.input.startsWith(E[133],this.nextTokenStartSince(e+4)))return!0;}return super.isExportDefaultSpecifier();}maybeParseExportDefaultSpecifier(e,t){var s;return null!=(s=e.specifiers)&&!!s.length||super.maybeParseExportDefaultSpecifier(e,t);}checkExport(e){let{specifiers:t}=e;null!=t&&t.length&&(e.specifiers=t.filter(e=>"Placeholder"===e.exported.type)),super.checkExport(e),e.specifiers=t;}parseImport(e){let t=this.parsePlaceholder("Identifier");if(!t)return super.parseImport(e);if(e.specifiers=[],!this.isContextual(98)&&!this.match(12))return e.source=this.finishPlaceholder(t,"StringLiteral"),this.semicolon(),this.finishNode(e,"ImportDeclaration");let s=this.startNodeAtNode(t);return s.local=t,e.specifiers.push(this.finishNode(s,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(e)||this.parseNamedImportSpecifiers(e)),this.expectContextual(98),e.source=this.parseImportSource(),this.semicolon(),this.finishNode(e,"ImportDeclaration");}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource();}assertNoSpace(){this.state.start>this.offsetToSourcePos(this.state.lastTokEndLoc.index)&&this.raise(e0.UnexpectedSpace,this.state.lastTokEndLoc);}}},e3=Object.keys(e4),e5=class extends eX{checkProto(e,t,s,r){if("SpreadElement"===e.type||this.isObjectMethod(e)||e.computed||e.shorthand)return;let i=e.key;if(("Identifier"===i.type?i.name:i.value)==="__proto__"){if(t){this.raise(c.RecordNoProto,i);return;}s.used&&(r?null===r.doubleProtoLoc&&(r.doubleProtoLoc=i.loc.start):this.raise(c.DuplicateProto,i)),s.used=!0;}}shouldExitDescending(e,t){return"ArrowFunctionExpression"===e.type&&this.offsetToSourcePos(e.start)===t;}getExpression(){this.enterInitialScopes(),this.nextToken();let e=this.parseExpression();return this.match(140)||this.unexpected(),this.finalizeRemainingComments(),e.comments=this.comments,e.errors=this.state.errors,128&this.optionFlags&&(e.tokens=this.tokens),e;}parseExpression(e,t){return e?this.disallowInAnd(()=>this.parseExpressionBase(t)):this.allowInAnd(()=>this.parseExpressionBase(t));}parseExpressionBase(e){let t=this.state.startLoc,s=this.parseMaybeAssign(e);if(this.match(12)){let r=this.startNodeAt(t);for(r.expressions=[s];this.eat(12);)r.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(r.expressions),this.finishNode(r,"SequenceExpression");}return s;}parseMaybeAssignDisallowIn(e,t){return this.disallowInAnd(()=>this.parseMaybeAssign(e,t));}parseMaybeAssignAllowIn(e,t){return this.allowInAnd(()=>this.parseMaybeAssign(e,t));}setOptionalParametersError(e,t){var s;e.optionalParametersLoc=null!=(s=null==t?void 0:t.loc)?s:this.state.startLoc;}parseMaybeAssign(e,t){var s;let r,i=this.state.startLoc;if(this.isContextual(108)&&this.prodParam.hasYield){let e=this.parseYield();return t&&(e=t.call(this,e,i)),e;}e?r=!1:(e=new eM,r=!0);let{type:a}=this.state;(10===a||L(a))&&(this.state.potentialArrowAt=this.state.start);let n=this.parseMaybeConditional(e);if(t&&(n=t.call(this,n,i)),(s=this.state.type)>=29&&s<=33){let t=this.startNodeAt(i),s=this.state.value;if(t.operator=s,this.match(29)){this.toAssignable(n,!0),t.left=n;let s=i.index;null!=e.doubleProtoLoc&&e.doubleProtoLoc.index>=s&&(e.doubleProtoLoc=null),null!=e.shorthandAssignLoc&&e.shorthandAssignLoc.index>=s&&(e.shorthandAssignLoc=null),null!=e.privateKeyLoc&&e.privateKeyLoc.index>=s&&(this.checkDestructuringPrivate(e),e.privateKeyLoc=null);}else t.left=n;return this.next(),t.right=this.parseMaybeAssign(),this.checkLVal(n,this.finishNode(t,"AssignmentExpression")),t;}return r&&this.checkExpressionErrors(e,!0),n;}parseMaybeConditional(e){let t=this.state.startLoc,s=this.state.potentialArrowAt,r=this.parseExprOps(e);return this.shouldExitDescending(r,s)?r:this.parseConditional(r,t,e);}parseConditional(e,t,s){if(this.eat(17)){let s=this.startNodeAt(t);return s.test=e,s.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),s.alternate=this.parseMaybeAssign(),this.finishNode(s,"ConditionalExpression");}return e;}parseMaybeUnaryOrPrivate(e){return this.match(139)?this.parsePrivateName():this.parseMaybeUnary(e);}parseExprOps(e){let t=this.state.startLoc,s=this.state.potentialArrowAt,r=this.parseMaybeUnaryOrPrivate(e);return this.shouldExitDescending(r,s)?r:this.parseExprOp(r,t,-1);}parseExprOp(e,t,s){if(this.isPrivateName(e)){let t=this.getPrivateNameSV(e);!(s>=w[58])&&this.prodParam.hasIn&&this.match(58)||this.raise(c.PrivateInExpectedIn,e,{identifierName:t}),this.classScope.usePrivateName(t,e.loc.start);}let r=this.state.type;if(r>=39&&r<=59&&(this.prodParam.hasIn||!this.match(58))){let i=w[r];if(i>s){if(39===r){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.checkPipelineAtInfixOperator(e,t);}let a=this.startNodeAt(t);a.left=e,a.operator=this.state.value;let n=41===r||42===r,o=40===r;if(o&&(i=w[42]),this.next(),39===r&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&96===this.state.type&&this.prodParam.hasAwait)throw this.raise(c.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);a.right=this.parseExprOpRightExpr(r,i);let l=this.finishNode(a,n||o?"LogicalExpression":"BinaryExpression"),h=this.state.type;if(o&&(41===h||42===h)||n&&40===h)throw this.raise(c.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(l,t,s);}}return e;}parseExprOpRightExpr(e,t){let s=this.state.startLoc;if(39===e){switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(t));}if("smart"===this.getPluginOption("pipelineOperator","proposal"))return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(c.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(e,t),s);});}return this.parseExprOpBaseRightExpr(e,t);}parseExprOpBaseRightExpr(e,t){let s=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),s,57===e?t-1:t);}parseHackPipeBody(){var e;let{startLoc:t}=this.state,s=this.parseMaybeAssign();return o.has(s.type)&&!(null!=(e=s.extra)&&e.parenthesized)&&this.raise(c.PipeUnparenthesizedBody,t,{type:s.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(c.PipeTopicUnused,t),s;}checkExponentialAfterUnary(e){this.match(57)&&this.raise(c.UnexpectedTokenUnaryExponentiation,e.argument);}parseMaybeUnary(e,t){let s=this.state.startLoc,r=this.isContextual(96);if(r&&this.recordAwaitIfAllowed()){this.next();let e=this.parseAwait(s);return t||this.checkExponentialAfterUnary(e),e;}let i=this.match(34),a=this.startNode();if(I[this.state.type]){a.operator=this.state.value,a.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");let s=this.match(89);if(this.next(),a.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),this.state.strict&&s){let e=a.argument;"Identifier"===e.type?this.raise(c.StrictDelete,a):this.hasPropertyAsPrivateName(e)&&this.raise(c.DeletePrivateField,a);}if(!i)return t||this.checkExponentialAfterUnary(a),this.finishNode(a,"UnaryExpression");}let n=this.parseUpdate(a,i,e);if(r){let{type:e}=this.state;if((this.hasPlugin("v8intrinsic")?C[e]:C[e]&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(c.AwaitNotInAsyncContext,s),this.parseAwait(s);}return n;}parseUpdate(e,t,s){if(t)return this.checkLVal(e.argument,this.finishNode(e,"UpdateExpression")),e;let r=this.state.startLoc,i=this.parseExprSubscripts(s);if(this.checkExpressionErrors(s,!1))return i;for(;34===this.state.type&&!this.canInsertSemicolon();){let e=this.startNodeAt(r);e.operator=this.state.value,e.prefix=!1,e.argument=i,this.next(),this.checkLVal(i,i=this.finishNode(e,"UpdateExpression"));}return i;}parseExprSubscripts(e){let t=this.state.startLoc,s=this.state.potentialArrowAt,r=this.parseExprAtom(e);return this.shouldExitDescending(r,s)?r:this.parseSubscripts(r,t);}parseSubscripts(e,t,s){let r={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do e=this.parseSubscript(e,t,s,r),r.maybeAsyncArrow=!1;while(!r.stop)return e;}parseSubscript(e,t,s,r){let{type:i}=this.state;if(!s&&15===i)return this.parseBind(e,t,s,r);if(B(i))return this.parseTaggedTemplateExpression(e,t,r);let a=!1;if(18===i){if(s&&(this.raise(c.OptionalChainingNoNew,this.state.startLoc),40===this.lookaheadCharCode()))return r.stop=!0,e;r.optionalChainMember=a=!0,this.next();}if(!s&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(e,t,r,a);{let s=this.eat(0);return s||a||this.eat(16)?this.parseMember(e,t,r,s,a):(r.stop=!0,e);}}parseMember(e,t,s,r,i){let a=this.startNodeAt(t);return a.object=e,a.computed=r,r?(a.property=this.parseExpression(),this.expect(3)):this.match(139)?("Super"===e.type&&this.raise(c.SuperPrivateField,t),this.classScope.usePrivateName(this.state.value,this.state.startLoc),a.property=this.parsePrivateName()):a.property=this.parseIdentifier(!0),s.optionalChainMember?(a.optional=i,this.finishNode(a,"OptionalMemberExpression")):this.finishNode(a,"MemberExpression");}parseBind(e,t,s,r){let i=this.startNodeAt(t);return i.object=e,this.next(),i.callee=this.parseNoCallExpr(),r.stop=!0,this.parseSubscripts(this.finishNode(i,"BindExpression"),t,s);}parseCoverCallAndAsyncArrowHead(e,t,s,r){let i=this.state.maybeInArrowParameters,a=null;this.state.maybeInArrowParameters=!0,this.next();let n=this.startNodeAt(t);n.callee=e;let{maybeAsyncArrow:o,optionalChainMember:l}=s;o&&(this.expressionScope.enter(new eI(2)),a=new eM),l&&(n.optional=r),r?n.arguments=this.parseCallExpressionArguments(11):n.arguments=this.parseCallExpressionArguments(11,"Super"!==e.type,n,a);let h=this.finishCallExpression(n,l);return o&&this.shouldParseAsyncArrow()&&!r?(s.stop=!0,this.checkDestructuringPrivate(a),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),h=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t),h)):(o&&(this.checkExpressionErrors(a,!0),this.expressionScope.exit()),this.toReferencedArguments(h)),this.state.maybeInArrowParameters=i,h;}toReferencedArguments(e,t){this.toReferencedListDeep(e.arguments,t);}parseTaggedTemplateExpression(e,t,s){let r=this.startNodeAt(t);return r.tag=e,r.quasi=this.parseTemplate(!0),s.optionalChainMember&&this.raise(c.OptionalChainingNoTemplate,t),this.finishNode(r,"TaggedTemplateExpression");}atPossibleAsyncArrow(e){return"Identifier"===e.type&&"async"===e.name&&this.state.lastTokEndLoc.index===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.offsetToSourcePos(e.start)===this.state.potentialArrowAt;}finishCallExpression(e,t){if("Import"===e.callee.type){if(0===e.arguments.length||e.arguments.length>2)this.raise(c.ImportCallArity,e);else for(let t of e.arguments)"SpreadElement"===t.type&&this.raise(c.ImportCallSpreadArgument,t);}return this.finishNode(e,t?"OptionalCallExpression":"CallExpression");}parseCallExpressionArguments(e,t,s,r){let i=[],a=!0,n=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(e);){if(a)a=!1;else if(this.expect(12),this.match(e)){s&&this.addTrailingCommaExtraToNode(s),this.next();break;}i.push(this.parseExprListItem(!1,r,t));}return this.state.inFSharpPipelineDirectBody=n,i;}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon();}parseAsyncArrowFromCallExpression(e,t){var s;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(e,t.arguments,!0,null==(s=t.extra)?void 0:s.trailingCommaLoc),t.innerComments&&en(e,t.innerComments),t.callee.trailingComments&&en(e,t.callee.trailingComments),e;}parseNoCallExpr(){let e=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,!0);}parseExprAtom(e){let t,s=null,{type:r}=this.state;switch(r){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(t):this.match(10)?256&this.optionFlags?this.parseImportCall(t):this.finishNode(t,"Import"):(this.raise(c.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 135:return this.parseNumericLiteral(this.state.value);case 136:return this.parseBigIntLiteral(this.state.value);case 134:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{let e=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(e);}case 2:case 1:return this.parseArrayLike(2===this.state.type?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,e);case 6:case 7:return this.parseObjectLike(6===this.state.type?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,e);case 68:return this.parseFunctionOrFunctionSent();case 26:s=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(s,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;let e=t.callee=this.parseNoCallExpr();if("MemberExpression"===e.type)return this.finishNode(t,"BindExpression");throw this.raise(c.UnsupportedBind,e);}case 139:return this.raise(c.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{let e=this.getPluginOption("pipelineOperator","proposal");if(e)return this.parseTopicReference(e);this.unexpected();break;}case 47:{let e=this.input.codePointAt(this.nextTokenStart());z(e)||62===e?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break;}default:if(137===r)return this.parseDecimalLiteral(this.state.value);if(L(r)){if(this.isContextual(127)&&123===this.lookaheadInLineCharCode())return this.parseModuleExpression();let e=this.state.potentialArrowAt===this.state.start,t=this.state.containsEsc,s=this.parseIdentifier();if(!t&&"async"===s.name&&!this.canInsertSemicolon()){let{type:e}=this.state;if(68===e)return this.resetPreviousNodeTrailingComments(s),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(s));if(L(e))return 61===this.lookaheadCharCode()?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(s)):s;if(90===e)return this.resetPreviousNodeTrailingComments(s),this.parseDo(this.startNodeAtNode(s),!0);}return e&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(s),[s],!1)):s;}this.unexpected();}}parseTopicReferenceThenEqualsSign(e,t){let s=this.getPluginOption("pipelineOperator","proposal");if(s)return this.state.type=e,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=r(this.state.endLoc,-1),this.parseTopicReference(s);this.unexpected();}parseTopicReference(e){let t=this.startNode(),s=this.state.startLoc,r=this.state.type;return this.next(),this.finishTopicReference(t,s,e,r);}finishTopicReference(e,t,s,r){if(this.testTopicReferenceConfiguration(s,t,r))return"hack"===s?(this.topicReferenceIsAllowedInCurrentContext()||this.raise(c.PipeTopicUnbound,t),this.registerTopicReference(),this.finishNode(e,"TopicReference")):(this.topicReferenceIsAllowedInCurrentContext()||this.raise(c.PrimaryTopicNotAllowed,t),this.registerTopicReference(),this.finishNode(e,"PipelinePrimaryTopicReference"));throw this.raise(c.PipeTopicUnconfiguredToken,t,{token:E[r]});}testTopicReferenceConfiguration(e,t,s){switch(e){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:E[s]}]);case"smart":return 27===s;default:throw this.raise(c.PipeTopicRequiresHackPipes,t);}}parseAsyncArrowUnaryFunction(e){this.prodParam.enter(eF(!0,this.prodParam.hasYield));let t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(c.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(e,t,!0);}parseDo(e,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),e.async=t,this.next();let s=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),e.body=this.parseBlock(),this.prodParam.exit()):e.body=this.parseBlock(),this.state.labels=s,this.finishNode(e,"DoExpression");}parseSuper(){let e=this.startNode();return this.next(),!this.match(10)||this.scope.allowDirectSuper||16&this.optionFlags?this.scope.allowSuper||16&this.optionFlags||this.raise(c.UnexpectedSuper,e):this.raise(c.SuperNotAllowed,e),this.match(10)||this.match(0)||this.match(16)||this.raise(c.UnsupportedSuper,e),this.finishNode(e,"Super");}parsePrivateName(){let e=this.startNode(),t=this.startNodeAt(r(this.state.startLoc,1)),s=this.state.value;return this.next(),e.id=this.createIdentifier(t,s),this.finishNode(e,"PrivateName");}parseFunctionOrFunctionSent(){let e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){let t=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(e,t,"sent");}return this.parseFunction(e);}parseMetaProperty(e,t,s){e.meta=t;let r=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==s||r)&&this.raise(c.UnsupportedMetaProperty,e.property,{target:t.name,onlyValidPropertyName:s}),this.finishNode(e,"MetaProperty");}parseImportMetaProperty(e){let t=this.createIdentifier(this.startNodeAtNode(e),"import");if(this.next(),this.isContextual(101))this.inModule||this.raise(c.ImportMetaOutsideModule,t),this.sawUnambiguousESM=!0;else if(this.isContextual(105)||this.isContextual(97)){let t=this.isContextual(105);if(this.expectPlugin(t?"sourcePhaseImports":"deferredImportEvaluation"),!(256&this.optionFlags))throw this.raise(c.DynamicImportPhaseRequiresImportExpressions,this.state.startLoc,{phase:this.state.value});return this.next(),e.phase=t?"source":"defer",this.parseImportCall(e);}return this.parseMetaProperty(e,t,"meta");}parseLiteralAtNode(e,t,s){return this.addExtra(s,"rawValue",e),this.addExtra(s,"raw",this.input.slice(this.offsetToSourcePos(s.start),this.state.end)),s.value=e,this.next(),this.finishNode(s,t);}parseLiteral(e,t){let s=this.startNode();return this.parseLiteralAtNode(e,t,s);}parseStringLiteral(e){return this.parseLiteral(e,"StringLiteral");}parseNumericLiteral(e){return this.parseLiteral(e,"NumericLiteral");}parseBigIntLiteral(e){return this.parseLiteral(e,"BigIntLiteral");}parseDecimalLiteral(e){return this.parseLiteral(e,"DecimalLiteral");}parseRegExpLiteral(e){let t=this.startNode();return this.addExtra(t,"raw",this.input.slice(this.offsetToSourcePos(t.start),this.state.end)),t.pattern=e.pattern,t.flags=e.flags,this.next(),this.finishNode(t,"RegExpLiteral");}parseBooleanLiteral(e){let t=this.startNode();return t.value=e,this.next(),this.finishNode(t,"BooleanLiteral");}parseNullLiteral(){let e=this.startNode();return this.next(),this.finishNode(e,"NullLiteral");}parseParenAndDistinguishExpression(e){let t=this.state.startLoc,s;this.next(),this.expressionScope.enter(new eI(1));let r=this.state.maybeInArrowParameters,i=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;let a=this.state.startLoc,n=[],o=new eM,l=!0,h,p;for(;!this.match(11);){if(l)l=!1;else if(this.expect(12,null===o.optionalParametersLoc?null:o.optionalParametersLoc),this.match(11)){p=this.state.startLoc;break;}if(this.match(21)){let e=this.state.startLoc;if(h=this.state.startLoc,n.push(this.parseParenItem(this.parseRestBinding(),e)),!this.checkCommaAfterRest(41))break;}else n.push(this.parseMaybeAssignAllowIn(o,this.parseParenItem));}let u=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=r,this.state.inFSharpPipelineDirectBody=i;let c=this.startNodeAt(t);return e&&this.shouldParseArrow(n)&&(c=this.parseArrow(c))?(this.checkDestructuringPrivate(o),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(c,n,!1),c):(this.expressionScope.exit(),n.length||this.unexpected(this.state.lastTokStartLoc),p&&this.unexpected(p),h&&this.unexpected(h),this.checkExpressionErrors(o,!0),this.toReferencedListDeep(n,!0),n.length>1?((s=this.startNodeAt(a)).expressions=n,this.finishNode(s,"SequenceExpression"),this.resetEndLocation(s,u)):s=n[0],this.wrapParenthesis(t,s));}wrapParenthesis(e,t){if(!(512&this.optionFlags))return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",e.index),this.takeSurroundingComments(t,e.index,this.state.lastTokEndLoc.index),t;let s=this.startNodeAt(e);return s.expression=t,this.finishNode(s,"ParenthesizedExpression");}shouldParseArrow(e){return!this.canInsertSemicolon();}parseArrow(e){if(this.eat(19))return e;}parseParenItem(e,t){return e;}parseNewOrNewTarget(){let e=this.startNode();if(this.next(),this.match(16)){let t=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();let s=this.parseMetaProperty(e,t,"target");return this.scope.inNonArrowFunction||this.scope.inClass||4&this.optionFlags||this.raise(c.UnexpectedNewTarget,s),s;}return this.parseNew(e);}parseNew(e){if(this.parseNewCallee(e),this.eat(10)){let t=this.parseExprList(11);this.toReferencedList(t),e.arguments=t;}else e.arguments=[];return this.finishNode(e,"NewExpression");}parseNewCallee(e){let t=this.match(83),s=this.parseNoCallExpr();e.callee=s,t&&("Import"===s.type||"ImportExpression"===s.type)&&this.raise(c.ImportCallNotNewExpression,s);}parseTemplateElement(e){let{start:t,startLoc:s,end:i,value:a}=this.state,n=this.startNodeAt(r(s,1));null===a&&(e||this.raise(c.InvalidEscapeSequenceTemplate,r(this.state.firstInvalidTemplateEscapePos,1)));let o=this.match(24),l=o?-1:-2,h=i+l;n.value={raw:this.input.slice(t+1,h).replace(/\r\n?/g,`
`),cooked:null===a?null:a.slice(1,l)},n.tail=o,this.next();let p=this.finishNode(n,"TemplateElement");return this.resetEndLocation(p,r(this.state.lastTokEndLoc,l)),p;}parseTemplate(e){let t=this.startNode(),s=this.parseTemplateElement(e),r=[s],i=[];for(;!s.tail;)i.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),r.push(s=this.parseTemplateElement(e));return t.expressions=i,t.quasis=r,this.finishNode(t,"TemplateLiteral");}parseTemplateSubstitution(){return this.parseExpression();}parseObjectLike(e,t,s,r){s&&this.expectPlugin("recordAndTuple");let i=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let a=Object.create(null),n=!0,o=this.startNode();for(o.properties=[],this.next();!this.match(e);){let i;if(n)n=!1;else if(this.expect(12),this.match(e)){this.addTrailingCommaExtraToNode(o);break;}t?i=this.parseBindingProperty():(i=this.parsePropertyDefinition(r),this.checkProto(i,s,a,r)),s&&!this.isObjectProperty(i)&&"SpreadElement"!==i.type&&this.raise(c.InvalidRecordProperty,i),i.shorthand&&this.addExtra(i,"shorthand",!0),o.properties.push(i);}this.next(),this.state.inFSharpPipelineDirectBody=i;let l="ObjectExpression";return t?l="ObjectPattern":s&&(l="RecordExpression"),this.finishNode(o,l);}addTrailingCommaExtraToNode(e){this.addExtra(e,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(e,"trailingCommaLoc",this.state.lastTokStartLoc,!1);}maybeAsyncOrAccessorProp(e){return!e.computed&&"Identifier"===e.key.type&&(this.isLiteralPropertyName()||this.match(0)||this.match(55));}parsePropertyDefinition(e){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(c.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)t.push(this.parseDecorator());let s=this.startNode(),r=!1,i=!1,a;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(s.decorators=t,t=[]),s.method=!1,e&&(a=this.state.startLoc);let n=this.eat(55);this.parsePropertyNamePrefixOperator(s);let o=this.state.containsEsc;if(this.parsePropertyName(s,e),!n&&!o&&this.maybeAsyncOrAccessorProp(s)){let{key:e}=s,t=e.name;"async"!==t||this.hasPrecedingLineBreak()||(r=!0,this.resetPreviousNodeTrailingComments(e),n=this.eat(55),this.parsePropertyName(s)),("get"===t||"set"===t)&&(i=!0,this.resetPreviousNodeTrailingComments(e),s.kind=t,this.match(55)&&(n=!0,this.raise(c.AccessorIsGenerator,this.state.curPosition(),{kind:t}),this.next()),this.parsePropertyName(s));}return this.parseObjPropValue(s,a,n,r,!1,i,e);}getGetterSetterExpectedParamCount(e){return"get"===e.kind?0:1;}getObjectOrClassMethodParams(e){return e.params;}checkGetterSetterParams(e){var t;let s=this.getGetterSetterExpectedParamCount(e),r=this.getObjectOrClassMethodParams(e);r.length!==s&&this.raise("get"===e.kind?c.BadGetterArity:c.BadSetterArity,e),"set"===e.kind&&(null==(t=r[r.length-1])?void 0:t.type)==="RestElement"&&this.raise(c.BadSetterRestParameter,e);}parseObjectMethod(e,t,s,r,i){if(i){let s=this.parseMethod(e,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(s),s;}if(s||t||this.match(10))return r&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,s,!1,!1,"ObjectMethod");}parseObjectProperty(e,t,s,r){if(e.shorthand=!1,this.eat(14))return e.value=s?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(r),this.finishNode(e,"ObjectProperty");if(!e.computed&&"Identifier"===e.key.type){if(this.checkReservedWord(e.key.name,e.key.loc.start,!0,!1),s)e.value=this.parseMaybeDefault(t,eR(e.key));else if(this.match(29)){let s=this.state.startLoc;null!=r?null===r.shorthandAssignLoc&&(r.shorthandAssignLoc=s):this.raise(c.InvalidCoverInitializedName,s),e.value=this.parseMaybeDefault(t,eR(e.key));}else e.value=eR(e.key);return e.shorthand=!0,this.finishNode(e,"ObjectProperty");}}parseObjPropValue(e,t,s,r,i,a,n){let o=this.parseObjectMethod(e,s,r,i,a)||this.parseObjectProperty(e,t,i,n);return o||this.unexpected(),o;}parsePropertyName(e,t){if(this.eat(0))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{let{type:s,value:r}=this.state,i;if(M(s))i=this.parseIdentifier(!0);else switch(s){case 135:i=this.parseNumericLiteral(r);break;case 134:i=this.parseStringLiteral(r);break;case 136:i=this.parseBigIntLiteral(r);break;case 139:{let e=this.state.startLoc;null!=t?null===t.privateKeyLoc&&(t.privateKeyLoc=e):this.raise(c.UnexpectedPrivateField,e),i=this.parsePrivateName();break;}default:if(137===s){i=this.parseDecimalLiteral(r);break;}this.unexpected();}e.key=i,139!==s&&(e.computed=!1);}}initFunction(e,t){e.id=null,e.generator=!1,e.async=t;}parseMethod(e,t,s,r,i,a,n=!1){this.initFunction(e,s),e.generator=t,this.scope.enter(18|(n?64:0)|(i?32:0)),this.prodParam.enter(eF(s,e.generator)),this.parseFunctionParams(e,r);let o=this.parseFunctionBodyAndFinish(e,a,!0);return this.prodParam.exit(),this.scope.exit(),o;}parseArrayLike(e,t,s,r){s&&this.expectPlugin("recordAndTuple");let i=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let a=this.startNode();return this.next(),a.elements=this.parseExprList(e,!s,r,a),this.state.inFSharpPipelineDirectBody=i,this.finishNode(a,s?"TupleExpression":"ArrayExpression");}parseArrowExpression(e,t,s,r){this.scope.enter(6);let i=eF(s,!1);!this.match(5)&&this.prodParam.hasIn&&(i|=8),this.prodParam.enter(i),this.initFunction(e,s);let a=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,t,r)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=a,this.finishNode(e,"ArrowFunctionExpression");}setArrowFunctionParameters(e,t,s){this.toAssignableList(t,s,!1),e.params=t;}parseFunctionBodyAndFinish(e,t,s=!1){return this.parseFunctionBody(e,!1,s),this.finishNode(e,t);}parseFunctionBody(e,t,s=!1){let r=t&&!this.match(5);if(this.expressionScope.enter(new eC),r)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,t,!1);else{let r=this.state.strict,i=this.state.labels;this.state.labels=[],this.prodParam.enter(4|this.prodParam.currentFlags()),e.body=this.parseBlock(!0,!1,i=>{let a=!this.isSimpleParamList(e.params);i&&a&&this.raise(c.IllegalLanguageModeDirective,("method"===e.kind||"constructor"===e.kind)&&e.key?e.key.loc.end:e);let n=!r&&this.state.strict;this.checkParams(e,!this.state.strict&&!t&&!s&&!a,t,n),this.state.strict&&e.id&&this.checkIdentifier(e.id,65,n);}),this.prodParam.exit(),this.state.labels=i;}this.expressionScope.exit();}isSimpleParameter(e){return"Identifier"===e.type;}isSimpleParamList(e){for(let t=0,s=e.length;t<s;t++)if(!this.isSimpleParameter(e[t]))return!1;return!0;}checkParams(e,t,s,r=!0){let i=!t&&new Set,a={type:"FormalParameters"};for(let t of e.params)this.checkLVal(t,a,5,i,r);}parseExprList(e,t,s,r){let i=[],a=!0;for(;!this.eat(e);){if(a)a=!1;else if(this.expect(12),this.match(e)){r&&this.addTrailingCommaExtraToNode(r),this.next();break;}i.push(this.parseExprListItem(t,s));}return i;}parseExprListItem(e,t,s){let r;if(this.match(12))e||this.raise(c.UnexpectedToken,this.state.curPosition(),{unexpected:","}),r=null;else if(this.match(21)){let e=this.state.startLoc;r=this.parseParenItem(this.parseSpread(t),e);}else if(this.match(17)){this.expectPlugin("partialApplication"),s||this.raise(c.UnexpectedArgumentPlaceholder,this.state.startLoc);let e=this.startNode();this.next(),r=this.finishNode(e,"ArgumentPlaceholder");}else r=this.parseMaybeAssignAllowIn(t,this.parseParenItem);return r;}parseIdentifier(e){let t=this.startNode(),s=this.parseIdentifierName(e);return this.createIdentifier(t,s);}createIdentifier(e,t){return e.name=t,e.loc.identifierName=t,this.finishNode(e,"Identifier");}parseIdentifierName(e){let t,{startLoc:s,type:r}=this.state;M(r)?t=this.state.value:this.unexpected();let i=r<=92;return e?i&&this.replaceToken(132):this.checkReservedWord(t,s,i,!1),this.next(),t;}checkReservedWord(e,t,s,r){if(!(e.length>10)&&Z.has(e)){if(s&&K.has(e)){this.raise(c.UnexpectedKeyword,t,{keyword:e});return;}if((this.state.strict?r?Q:Y:G)(e,this.inModule)){this.raise(c.UnexpectedReservedWord,t,{reservedWord:e});return;}if("yield"===e){if(this.prodParam.hasYield){this.raise(c.YieldBindingIdentifier,t);return;}}else if("await"===e){if(this.prodParam.hasAwait){this.raise(c.AwaitBindingIdentifier,t);return;}if(this.scope.inStaticBlock){this.raise(c.AwaitBindingIdentifierInStaticBlock,t);return;}this.expressionScope.recordAsyncArrowParametersError(t);}else if("arguments"===e&&this.scope.inClassAndNotInNonArrowFunction){this.raise(c.ArgumentsInClass,t);return;}}}recordAwaitIfAllowed(){let e=this.prodParam.hasAwait||1&this.optionFlags&&!this.scope.inFunction;return e&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),e;}parseAwait(e){let t=this.startNodeAt(e);return this.expressionScope.recordParameterInitializerError(c.AwaitExpressionFormalParameter,t),this.eat(55)&&this.raise(c.ObsoleteAwaitStar,t),this.scope.inFunction||1&this.optionFlags||(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(t.argument=this.parseMaybeUnary(null,!0)),this.finishNode(t,"AwaitExpression");}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;let{type:e}=this.state;return 53===e||10===e||0===e||B(e)||102===e&&!this.state.containsEsc||138===e||56===e||this.hasPlugin("v8intrinsic")&&54===e;}parseYield(){let e=this.startNode();this.expressionScope.recordParameterInitializerError(c.YieldInParameter,e),this.next();let t=!1,s=null;if(!this.hasPrecedingLineBreak())switch(t=this.eat(55),this.state.type){case 13:case 140:case 8:case 11:case 3:case 9:case 14:case 12:if(!t)break;default:s=this.parseMaybeAssign();}return e.delegate=t,e.argument=s,this.finishNode(e,"YieldExpression");}parseImportCall(e){if(this.next(),e.source=this.parseMaybeAssignAllowIn(),e.options=null,this.eat(12)&&!this.match(11)&&(e.options=this.parseMaybeAssignAllowIn(),this.eat(12)&&!this.match(11))){do this.parseMaybeAssignAllowIn();while(this.eat(12)&&!this.match(11))this.raise(c.ImportCallArity,e);}return this.expect(11),this.finishNode(e,"ImportExpression");}checkPipelineAtInfixOperator(e,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&"SequenceExpression"===e.type&&this.raise(c.PipelineHeadSequenceExpression,t);}parseSmartPipelineBodyInStyle(e,t){if(this.isSimpleReference(e)){let s=this.startNodeAt(t);return s.callee=e,this.finishNode(s,"PipelineBareFunction");}{let s=this.startNodeAt(t);return this.checkSmartPipeTopicBodyEarlyErrors(t),s.expression=e,this.finishNode(s,"PipelineTopicExpression");}}isSimpleReference(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1;}}checkSmartPipeTopicBodyEarlyErrors(e){if(this.match(19))throw this.raise(c.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(c.PipelineTopicUnused,e);}withTopicBindingContext(e){let t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e();}finally{this.state.topicContext=t;}}withSmartMixTopicForbiddingContext(e){if(!this.hasPlugin(["pipelineOperator",{proposal:"smart"}]))return e();{let t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e();}finally{this.state.topicContext=t;}}}withSoloAwaitPermittingContext(e){let t=this.state.soloAwait;this.state.soloAwait=!0;try{return e();}finally{this.state.soloAwait=t;}}allowInAnd(e){let t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(8|t);try{return e();}finally{this.prodParam.exit();}}return e();}disallowInAnd(e){let t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(-9&t);try{return e();}finally{this.prodParam.exit();}}return e();}registerTopicReference(){this.state.topicContext.maxTopicIndex=0;}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1;}topicReferenceWasUsedInCurrentContext(){return null!=this.state.topicContext.maxTopicIndex&&this.state.topicContext.maxTopicIndex>=0;}parseFSharpPipelineBody(e){let t=this.state.startLoc;this.state.potentialArrowAt=this.state.start;let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;let r=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,e);return this.state.inFSharpPipelineDirectBody=s,r;}parseModuleExpression(){this.expectPlugin("moduleBlocks");let e=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);let t=this.startNodeAt(this.state.endLoc);this.next();let s=this.initializeScopes(!0);this.enterInitialScopes();try{e.body=this.parseProgram(t,8,"module");}finally{s();}return this.finishNode(e,"ModuleExpression");}parsePropertyNamePrefixOperator(e){}},e6={kind:1},e8={kind:2},e9=/[\uD800-\uDFFF]/u,e7=/in(?:stanceof)?/y,te=class extends e5{parseTopLevel(e,t){return e.program=this.parseProgram(t),e.comments=this.comments,128&this.optionFlags&&(e.tokens=function(e,t,s){for(let i=0;i<e.length;i++){let a=e[i],{type:n}=a;if("number"==typeof n){if(139===n){let{loc:t,start:s,value:n,end:o}=a,l=s+1,h=r(t.start,1);e.splice(i,1,new eA({type:A[27],value:"#",start:s,end:l,startLoc:t.start,endLoc:h}),new eA({type:A[132],value:n,start:l,end:o,startLoc:h,endLoc:t.end})),i++;continue;}if(B(n)){let o,l,h,p,{loc:u,start:c,value:d,end:f}=a,m=c+1,y=r(u.start,1),g;g=new eA(96===t.charCodeAt(c-s)?{type:A[22],value:"`",start:c,end:m,startLoc:u.start,endLoc:y}:{type:A[8],value:"}",start:c,end:m,startLoc:u.start,endLoc:y}),24===n?(l=f-1,h=r(u.end,-1),o=null===d?null:d.slice(1,-1),p=new eA({type:A[22],value:"`",start:l,end:f,startLoc:h,endLoc:u.end})):(l=f-2,h=r(u.end,-2),o=null===d?null:d.slice(1,-2),p=new eA({type:A[23],value:"${",start:l,end:f,startLoc:h,endLoc:u.end})),e.splice(i,1,g,new eA({type:A[20],value:o,start:m,end:l,startLoc:y,endLoc:h}),p),i+=2;continue;}a.type=A[n];}}return e;}(this.tokens,this.input,this.startIndex)),this.finishNode(e,"File");}parseProgram(e,t=140,s=this.options.sourceType){if(e.sourceType=s,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,t),this.inModule){if(!(32&this.optionFlags)&&this.scope.undefinedExports.size>0)for(let[e,t]of Array.from(this.scope.undefinedExports))this.raise(c.ModuleExportUndefined,t,{localName:e});this.addExtra(e,"topLevelAwait",this.state.hasTopLevelAwait);}return 140===t?this.finishNode(e,"Program"):this.finishNodeAt(e,"Program",r(this.state.startLoc,-1));}stmtToDirective(e){e.type="Directive",e.value=e.expression,delete e.expression;let t=e.value,s=t.value,r=this.input.slice(this.offsetToSourcePos(t.start),this.offsetToSourcePos(t.end)),i=t.value=r.slice(1,-1);return this.addExtra(t,"raw",r),this.addExtra(t,"rawValue",i),this.addExtra(t,"expressionValue",s),t.type="DirectiveLiteral",e;}parseInterpreterDirective(){if(!this.match(28))return null;let e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective");}isLet(){return!!this.isContextual(100)&&this.hasFollowingBindingAtom();}chStartsBindingIdentifier(e,t){if(!z(e))return 92===e;if(e7.lastIndex=t,e7.test(this.input)){let e=this.codePointAtPos(e7.lastIndex);if(!W(e)&&92!==e)return!1;}return!0;}chStartsBindingPattern(e){return 91===e||123===e;}hasFollowingBindingAtom(){let e=this.nextTokenStart(),t=this.codePointAtPos(e);return this.chStartsBindingPattern(t)||this.chStartsBindingIdentifier(t,e);}hasInLineFollowingBindingIdentifierOrBrace(){let e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return 123===t||this.chStartsBindingIdentifier(t,e);}startsUsingForOf(){let{type:e,containsEsc:t}=this.lookahead();return(102!==e||!!t)&&(L(e)&&!this.hasFollowingLineBreak()?(this.expectPlugin("explicitResourceManagement"),!0):void 0);}startsAwaitUsing(){let e=this.nextTokenInLineStart();if(this.isUnparsedContextual(e,"using")){e=this.nextTokenInLineStartSince(e+5);let t=this.codePointAtPos(e);if(this.chStartsBindingIdentifier(t,e))return this.expectPlugin("explicitResourceManagement"),!0;}return!1;}parseModuleItem(){return this.parseStatementLike(15);}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8));}parseStatementOrSloppyAnnexBFunctionDeclaration(e=!1){let t=0;return this.options.annexB&&!this.state.strict&&(t|=4,e&&(t|=8)),this.parseStatementLike(t);}parseStatement(){return this.parseStatementLike(0);}parseStatementLike(e){let t=null;return this.match(26)&&(t=this.parseDecorators(!0)),this.parseStatementContent(e,t);}parseStatementContent(e,t){let s=this.state.type,r=this.startNode(),i=!!(2&e),a=!!(4&e),n=1&e;switch(s){case 60:return this.parseBreakContinueStatement(r,!0);case 63:return this.parseBreakContinueStatement(r,!1);case 64:return this.parseDebuggerStatement(r);case 90:return this.parseDoWhileStatement(r);case 91:return this.parseForStatement(r);case 68:if(46===this.lookaheadCharCode())break;return a||this.raise(this.state.strict?c.StrictFunction:this.options.annexB?c.SloppyFunctionAnnexB:c.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(r,!1,!i&&a);case 80:return i||this.unexpected(),this.parseClass(this.maybeTakeDecorators(t,r),!0);case 69:return this.parseIfStatement(r);case 70:return this.parseReturnStatement(r);case 71:return this.parseSwitchStatement(r);case 72:return this.parseThrowStatement(r);case 73:return this.parseTryStatement(r);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.recordAwaitIfAllowed()?i||this.raise(c.UnexpectedLexicalDeclaration,r):this.raise(c.AwaitUsingNotInAsyncContext,r),this.next(),this.parseVarStatement(r,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(c.UnexpectedUsingDeclaration,this.state.startLoc):i||this.raise(c.UnexpectedLexicalDeclaration,this.state.startLoc),this.parseVarStatement(r,"using");case 100:{if(this.state.containsEsc)break;let e=this.nextTokenStart(),t=this.codePointAtPos(e);if(91!==t&&(!i&&this.hasFollowingLineBreak()||!this.chStartsBindingIdentifier(t,e)&&123!==t))break;}case 75:i||this.raise(c.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{let e=this.state.value;return this.parseVarStatement(r,e);}case 92:return this.parseWhileStatement(r);case 76:return this.parseWithStatement(r);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(r);case 83:{let e=this.lookaheadCharCode();if(40===e||46===e)break;}case 82:{let e;return 8&this.optionFlags||n||this.raise(c.UnexpectedImportExport,this.state.startLoc),this.next(),83===s?"ImportDeclaration"!==(e=this.parseImport(r)).type||e.importKind&&"value"!==e.importKind||(this.sawUnambiguousESM=!0):("ExportNamedDeclaration"!==(e=this.parseExport(r,t)).type||e.exportKind&&"value"!==e.exportKind)&&("ExportAllDeclaration"!==e.type||e.exportKind&&"value"!==e.exportKind)&&"ExportDefaultDeclaration"!==e.type||(this.sawUnambiguousESM=!0),this.assertModuleNodeAllowed(e),e;}default:if(this.isAsyncFunction())return i||this.raise(c.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(r,!0,!i&&a);}let o=this.state.value,l=this.parseExpression();return L(s)&&"Identifier"===l.type&&this.eat(14)?this.parseLabeledStatement(r,o,l,e):this.parseExpressionStatement(r,l,t);}assertModuleNodeAllowed(e){8&this.optionFlags||this.inModule||this.raise(c.ImportOutsideModule,e);}decoratorsEnabledBeforeExport(){return!!this.hasPlugin("decorators-legacy")||this.hasPlugin("decorators")&&!1!==this.getPluginOption("decorators","decoratorsBeforeExport");}maybeTakeDecorators(e,t,s){if(e){var r;null!=(r=t.decorators)&&r.length?("boolean"!=typeof this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(c.DecoratorsBeforeAfterExport,t.decorators[0]),t.decorators.unshift(...e)):t.decorators=e,this.resetStartLocationFromNode(t,e[0]),s&&this.resetStartLocationFromNode(s,t);}return t;}canHaveLeadingDecorator(){return this.match(80);}parseDecorators(e){let t=[];do t.push(this.parseDecorator());while(this.match(26))if(this.match(82))e||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(c.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(c.UnexpectedLeadingDecorator,this.state.startLoc);return t;}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);let e=this.startNode();if(this.next(),this.hasPlugin("decorators")){let t=this.state.startLoc,s;if(this.match(10)){let t=this.state.startLoc;this.next(),s=this.parseExpression(),this.expect(11),s=this.wrapParenthesis(t,s);let r=this.state.startLoc;e.expression=this.parseMaybeDecoratorArguments(s,t),!1===this.getPluginOption("decorators","allowCallParenthesized")&&e.expression!==s&&this.raise(c.DecoratorArgumentsOutsideParentheses,r);}else{for(s=this.parseIdentifier(!1);this.eat(16);){let e=this.startNodeAt(t);e.object=s,this.match(139)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),e.property=this.parsePrivateName()):e.property=this.parseIdentifier(!0),e.computed=!1,s=this.finishNode(e,"MemberExpression");}e.expression=this.parseMaybeDecoratorArguments(s,t);}}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator");}parseMaybeDecoratorArguments(e,t){if(this.eat(10)){let s=this.startNodeAt(t);return s.callee=e,s.arguments=this.parseCallExpressionArguments(11),this.toReferencedList(s.arguments),this.finishNode(s,"CallExpression");}return e;}parseBreakContinueStatement(e,t){return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,t),this.finishNode(e,t?"BreakStatement":"ContinueStatement");}verifyBreakContinue(e,t){let s;for(s=0;s<this.state.labels.length;++s){let r=this.state.labels[s];if((null==e.label||r.name===e.label.name)&&(null!=r.kind&&(t||1===r.kind)||e.label&&t))break;}s===this.state.labels.length&&this.raise(c.IllegalBreakContinue,e,{type:t?"BreakStatement":"ContinueStatement"});}parseDebuggerStatement(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement");}parseHeaderExpression(){this.expect(10);let e=this.parseExpression();return this.expect(11),e;}parseDoWhileStatement(e){return this.next(),this.state.labels.push(e6),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),e.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(e,"DoWhileStatement");}parseForStatement(e){this.next(),this.state.labels.push(e6);let t=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(t=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return null!==t&&this.unexpected(t),this.parseFor(e,null);let s=this.isContextual(100);{let r=this.isContextual(96)&&this.startsAwaitUsing(),i=r||this.isContextual(107)&&this.startsUsingForOf(),a=s&&this.hasFollowingBindingAtom()||i;if(this.match(74)||this.match(75)||a){let s=this.startNode(),a;r?(a="await using",this.recordAwaitIfAllowed()||this.raise(c.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):a=this.state.value,this.next(),this.parseVar(s,!0,a);let n=this.finishNode(s,"VariableDeclaration"),o=this.match(58);return o&&i&&this.raise(c.ForInUsing,n),(o||this.isContextual(102))&&1===n.declarations.length?this.parseForIn(e,n,t):(null!==t&&this.unexpected(t),this.parseFor(e,n));}}let r=this.isContextual(95),i=new eM,a=this.parseExpression(!0,i),n=this.isContextual(102);return(n&&(s&&this.raise(c.ForOfLet,a),null===t&&r&&"Identifier"===a.type&&this.raise(c.ForOfAsync,a)),n||this.match(58))?(this.checkDestructuringPrivate(i),this.toAssignable(a,!0),this.checkLVal(a,{type:n?"ForOfStatement":"ForInStatement"}),this.parseForIn(e,a,t)):(this.checkExpressionErrors(i,!0),null!==t&&this.unexpected(t),this.parseFor(e,a));}parseFunctionStatement(e,t,s){return this.next(),this.parseFunction(e,1|(s?2:0)|(t?8:0));}parseIfStatement(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),e.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(e,"IfStatement");}parseReturnStatement(e){return this.prodParam.hasReturn||2&this.optionFlags||this.raise(c.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement");}parseSwitchStatement(e){let t,s;this.next(),e.discriminant=this.parseHeaderExpression();let r=e.cases=[];for(this.expect(5),this.state.labels.push(e8),this.scope.enter(0);!this.match(8);)if(this.match(61)||this.match(65)){let e=this.match(61);t&&this.finishNode(t,"SwitchCase"),r.push(t=this.startNode()),t.consequent=[],this.next(),e?t.test=this.parseExpression():(s&&this.raise(c.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),s=!0,t.test=null),this.expect(14);}else t?t.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement");}parseThrowStatement(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(c.NewlineAfterThrow,this.state.lastTokEndLoc),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement");}parseCatchClauseParam(){let e=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&"Identifier"===e.type?8:0),this.checkLVal(e,{type:"CatchClause"},9),e;}parseTryStatement(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(62)){let t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),e.handler=this.finishNode(t,"CatchClause");}return e.finalizer=this.eat(67)?this.parseBlock():null,e.handler||e.finalizer||this.raise(c.NoCatchOrFinally,e),this.finishNode(e,"TryStatement");}parseVarStatement(e,t,s=!1){return this.next(),this.parseVar(e,!1,t,s),this.semicolon(),this.finishNode(e,"VariableDeclaration");}parseWhileStatement(e){return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push(e6),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(e,"WhileStatement");}parseWithStatement(e){return this.state.strict&&this.raise(c.StrictWith,this.state.startLoc),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(e,"WithStatement");}parseEmptyStatement(e){return this.next(),this.finishNode(e,"EmptyStatement");}parseLabeledStatement(e,t,s,r){var i;for(let e of this.state.labels)e.name===t&&this.raise(c.LabelRedeclaration,s,{labelName:t});let a=(i=this.state.type)>=90&&i<=92?1:this.match(71)?2:null;for(let t=this.state.labels.length-1;t>=0;t--){let s=this.state.labels[t];if(s.statementStart===e.start)s.statementStart=this.sourceToOffsetPos(this.state.start),s.kind=a;else break;}return this.state.labels.push({name:t,kind:a,statementStart:this.sourceToOffsetPos(this.state.start)}),e.body=8&r?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),e.label=s,this.finishNode(e,"LabeledStatement");}parseExpressionStatement(e,t,s){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement");}parseBlock(e=!1,t=!0,s){let r=this.startNode();return e&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(r,e,!1,8,s),t&&this.scope.exit(),this.finishNode(r,"BlockStatement");}isValidDirective(e){return"ExpressionStatement"===e.type&&"StringLiteral"===e.expression.type&&!e.expression.extra.parenthesized;}parseBlockBody(e,t,s,r,i){let a=e.body=[],n=e.directives=[];this.parseBlockOrModuleBlockBody(a,t?n:void 0,s,r,i);}parseBlockOrModuleBlockBody(e,t,s,r,i){let a=this.state.strict,n=!1,o=!1;for(;!this.match(r);){let r=s?this.parseModuleItem():this.parseStatementListItem();if(t&&!o){if(this.isValidDirective(r)){let e=this.stmtToDirective(r);t.push(e),n||"use strict"!==e.value.value||(n=!0,this.setStrict(!0));continue;}o=!0,this.state.strictErrors.clear();}e.push(r);}null==i||i.call(this,n),a||this.setStrict(!1),this.next();}parseFor(e,t){return e.init=t,this.semicolon(!1),e.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),e.update=this.match(11)?null:this.parseExpression(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement");}parseForIn(e,t,s){let r=this.match(58);return this.next(),r?null!==s&&this.unexpected(s):e.await=null!==s,"VariableDeclaration"!==t.type||null==t.declarations[0].init||r&&this.options.annexB&&!this.state.strict&&"var"===t.kind&&"Identifier"===t.declarations[0].id.type||this.raise(c.ForInOfLoopInitializer,t,{type:r?"ForInStatement":"ForOfStatement"}),"AssignmentPattern"===t.type&&this.raise(c.InvalidLhs,t,{ancestor:{type:"ForStatement"}}),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement");}parseVar(e,t,s,r=!1){let i=e.declarations=[];for(e.kind=s;;){let e=this.startNode();if(this.parseVarId(e,s),e.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,null!==e.init||r||("Identifier"===e.id.type||t&&(this.match(58)||this.isContextual(102))?"const"!==s&&"using"!==s&&"await using"!==s||this.match(58)||this.isContextual(102)||this.raise(c.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:s}):this.raise(c.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"})),i.push(this.finishNode(e,"VariableDeclarator")),!this.eat(12))break;}return e;}parseVarId(e,t){let s=this.parseBindingAtom();("using"===t||"await using"===t)&&("ArrayPattern"===s.type||"ObjectPattern"===s.type)&&this.raise(c.UsingDeclarationHasBindingPattern,s.loc.start),this.checkLVal(s,{type:"VariableDeclarator"},"var"===t?5:8201),e.id=s;}parseAsyncFunctionExpression(e){return this.parseFunction(e,8);}parseFunction(e,t=0){let s=2&t,r=!!(1&t),i=!!(8&t);this.initFunction(e,i),this.match(55)&&(s&&this.raise(c.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),e.generator=!0),r&&(e.id=this.parseFunctionId(r&&!(4&t)));let a=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(eF(i,e.generator)),r||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(e,r?"FunctionDeclaration":"FunctionExpression");}),this.prodParam.exit(),this.scope.exit(),r&&!s&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=a,e;}parseFunctionId(e){return e||L(this.state.type)?this.parseIdentifier():null;}parseFunctionParams(e,t){this.expect(10),this.expressionScope.enter(new eC(3)),e.params=this.parseBindingList(11,41,2|(t?4:0)),this.expressionScope.exit();}registerFunctionStatementId(e){e.id&&this.scope.declareName(e.id.name,!this.options.annexB||this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?5:8201:17,e.id.loc.start);}parseClass(e,t,s){this.next();let r=this.state.strict;return this.state.strict=!0,this.parseClassId(e,t,s),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,r),this.finishNode(e,t?"ClassDeclaration":"ClassExpression");}isClassProperty(){return this.match(29)||this.match(13)||this.match(8);}isClassMethod(){return this.match(10);}nameIsConstructor(e){return"Identifier"===e.type&&"constructor"===e.name||"StringLiteral"===e.type&&"constructor"===e.value;}isNonstaticConstructor(e){return!e.computed&&!e.static&&this.nameIsConstructor(e.key);}parseClassBody(e,t){this.classScope.enter();let s={hadConstructor:!1,hadSuperClass:e},r=[],i=this.startNode();if(i.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(r.length>0)throw this.raise(c.DecoratorSemicolon,this.state.lastTokEndLoc);continue;}if(this.match(26)){r.push(this.parseDecorator());continue;}let e=this.startNode();r.length&&(e.decorators=r,this.resetStartLocationFromNode(e,r[0]),r=[]),this.parseClassMember(i,e,s),"constructor"===e.kind&&e.decorators&&e.decorators.length>0&&this.raise(c.DecoratorConstructor,e);}}),this.state.strict=t,this.next(),r.length)throw this.raise(c.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(i,"ClassBody");}parseClassMemberFromModifier(e,t){let s=this.parseIdentifier(!0);return this.isClassMethod()?(t.kind="method",t.computed=!1,t.key=s,t.static=!1,this.pushClassMethod(e,t,!1,!1,!1,!1),!0):this.isClassProperty()?(t.computed=!1,t.key=s,t.static=!1,e.body.push(this.parseClassProperty(t)),!0):(this.resetPreviousNodeTrailingComments(s),!1);}parseClassMember(e,t,s){let r=this.isContextual(106);if(r){if(this.parseClassMemberFromModifier(e,t))return;if(this.eat(5)){this.parseClassStaticBlock(e,t);return;}}this.parseClassMemberWithIsStatic(e,t,s,r);}parseClassMemberWithIsStatic(e,t,s,r){if(t.static=r,this.parsePropertyNamePrefixOperator(t),this.eat(55)){t.kind="method";let s=this.match(139);if(this.parseClassElementName(t),s){this.pushClassPrivateMethod(e,t,!0,!1);return;}this.isNonstaticConstructor(t)&&this.raise(c.ConstructorIsGenerator,t.key),this.pushClassMethod(e,t,!0,!1,!1,!1);return;}let i=!this.state.containsEsc&&L(this.state.type),a=this.parseClassElementName(t),n=i?a.name:null,o=this.isPrivateName(a),l=this.state.startLoc;if(this.parsePostMemberNameModifiers(t),this.isClassMethod()){if(t.kind="method",o){this.pushClassPrivateMethod(e,t,!1,!1);return;}let r=this.isNonstaticConstructor(t),i=!1;r&&(t.kind="constructor",s.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(c.DuplicateConstructor,a),r&&this.hasPlugin("typescript")&&t.override&&this.raise(c.OverrideOnConstructor,a),s.hadConstructor=!0,i=s.hadSuperClass),this.pushClassMethod(e,t,!1,!1,r,i);}else if(this.isClassProperty())o?this.pushClassPrivateProperty(e,t):this.pushClassProperty(e,t);else if("async"!==n||this.isLineTerminator()){if("get"!==n&&"set"!==n||this.match(55)&&this.isLineTerminator()){if("accessor"!==n||this.isLineTerminator())this.isLineTerminator()?o?this.pushClassPrivateProperty(e,t):this.pushClassProperty(e,t):this.unexpected();else{this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(a);let s=this.match(139);this.parseClassElementName(t),this.pushClassAccessorProperty(e,t,s);}}else{this.resetPreviousNodeTrailingComments(a),t.kind=n;let s=this.match(139);this.parseClassElementName(t),s?this.pushClassPrivateMethod(e,t,!1,!1):(this.isNonstaticConstructor(t)&&this.raise(c.ConstructorIsAccessor,t.key),this.pushClassMethod(e,t,!1,!1,!1,!1)),this.checkGetterSetterParams(t);}}else{this.resetPreviousNodeTrailingComments(a);let s=this.eat(55);t.optional&&this.unexpected(l),t.kind="method";let r=this.match(139);this.parseClassElementName(t),this.parsePostMemberNameModifiers(t),r?this.pushClassPrivateMethod(e,t,s,!0):(this.isNonstaticConstructor(t)&&this.raise(c.ConstructorIsAsync,t.key),this.pushClassMethod(e,t,s,!0,!1,!1));}}parseClassElementName(e){let{type:t,value:s}=this.state;if((132===t||134===t)&&e.static&&"prototype"===s&&this.raise(c.StaticPrototype,this.state.startLoc),139===t){"constructor"===s&&this.raise(c.ConstructorClassPrivateField,this.state.startLoc);let t=this.parsePrivateName();return e.key=t,t;}return this.parsePropertyName(e),e.key;}parseClassStaticBlock(e,t){var s;this.scope.enter(208);let r=this.state.labels;this.state.labels=[],this.prodParam.enter(0);let i=t.body=[];this.parseBlockOrModuleBlockBody(i,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=r,e.body.push(this.finishNode(t,"StaticBlock")),null!=(s=t.decorators)&&s.length&&this.raise(c.DecoratorStaticBlock,t);}pushClassProperty(e,t){!t.computed&&this.nameIsConstructor(t.key)&&this.raise(c.ConstructorClassField,t.key),e.body.push(this.parseClassProperty(t));}pushClassPrivateProperty(e,t){let s=this.parseClassPrivateProperty(t);e.body.push(s),this.classScope.declarePrivateName(this.getPrivateNameSV(s.key),0,s.key.loc.start);}pushClassAccessorProperty(e,t,s){!s&&!t.computed&&this.nameIsConstructor(t.key)&&this.raise(c.ConstructorClassField,t.key);let r=this.parseClassAccessorProperty(t);e.body.push(r),s&&this.classScope.declarePrivateName(this.getPrivateNameSV(r.key),0,r.key.loc.start);}pushClassMethod(e,t,s,r,i,a){e.body.push(this.parseMethod(t,s,r,i,a,"ClassMethod",!0));}pushClassPrivateMethod(e,t,s,r){let i=this.parseMethod(t,s,r,!1,!1,"ClassPrivateMethod",!0);e.body.push(i);let a="get"===i.kind?i.static?6:2:"set"===i.kind?i.static?5:1:0;this.declareClassPrivateMethodInScope(i,a);}declareClassPrivateMethodInScope(e,t){this.classScope.declarePrivateName(this.getPrivateNameSV(e.key),t,e.key.loc.start);}parsePostMemberNameModifiers(e){}parseClassPrivateProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassPrivateProperty");}parseClassProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassProperty");}parseClassAccessorProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassAccessorProperty");}parseInitializer(e){this.scope.enter(80),this.expressionScope.enter(new eC),this.prodParam.enter(0),e.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit();}parseClassId(e,t,s,r=8331){if(L(this.state.type))e.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(e.id,r);else if(s||!t)e.id=null;else throw this.raise(c.MissingClassName,this.state.startLoc);}parseClassSuper(e){e.superClass=this.eat(81)?this.parseExprSubscripts():null;}parseExport(e,t){let s,r=this.parseMaybeImportPhase(e,!0),i=this.maybeParseExportDefaultSpecifier(e,r),a=!i||this.eat(12),n=a&&this.eatExportStar(e),o=n&&this.maybeParseExportNamespaceSpecifier(e),l=a&&(!o||this.eat(12)),h=i||n;if(n&&!o){if(i&&this.unexpected(),t)throw this.raise(c.UnsupportedDecoratorExport,e);return this.parseExportFrom(e,!0),this.finishNode(e,"ExportAllDeclaration");}let p=this.maybeParseExportNamedSpecifiers(e);if(i&&a&&!n&&!p&&this.unexpected(null,5),o&&l&&this.unexpected(null,98),h||p){if(s=!1,t)throw this.raise(c.UnsupportedDecoratorExport,e);this.parseExportFrom(e,h);}else s=this.maybeParseExportDeclaration(e);if(h||p||s){var u;if(this.checkExport(e,!0,!1,!!e.source),(null==(u=e.declaration)?void 0:u.type)==="ClassDeclaration")this.maybeTakeDecorators(t,e.declaration,e);else if(t)throw this.raise(c.UnsupportedDecoratorExport,e);return this.finishNode(e,"ExportNamedDeclaration");}if(this.eat(65)){let s=this.parseExportDefaultExpression();if(e.declaration=s,"ClassDeclaration"===s.type)this.maybeTakeDecorators(t,s,e);else if(t)throw this.raise(c.UnsupportedDecoratorExport,e);return this.checkExport(e,!0,!0),this.finishNode(e,"ExportDefaultDeclaration");}this.unexpected(null,5);}eatExportStar(e){return this.eat(55);}maybeParseExportDefaultSpecifier(e,t){if(t||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",null==t?void 0:t.loc.start);let s=t||this.parseIdentifier(!0),r=this.startNodeAtNode(s);return r.exported=s,e.specifiers=[this.finishNode(r,"ExportDefaultSpecifier")],!0;}return!1;}maybeParseExportNamespaceSpecifier(e){if(this.isContextual(93)){null!=e.specifiers||(e.specifiers=[]);let t=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),t.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(t,"ExportNamespaceSpecifier")),!0;}return!1;}maybeParseExportNamedSpecifiers(e){if(this.match(5)){e.specifiers||(e.specifiers=[]);let t="type"===e.exportKind;return e.specifiers.push(...this.parseExportSpecifiers(t)),e.source=null,e.declaration=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),!0;}return!1;}maybeParseExportDeclaration(e){return!!this.shouldParseExportDeclaration()&&(e.specifiers=[],e.source=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),e.declaration=this.parseExportDeclaration(e),!0);}isAsyncFunction(){if(!this.isContextual(95))return!1;let e=this.nextTokenInLineStart();return this.isUnparsedContextual(e,"function");}parseExportDefaultExpression(){let e=this.startNode();if(this.match(68))return this.next(),this.parseFunction(e,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,13);if(this.match(80))return this.parseClass(e,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&!0===this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(c.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(c.UnsupportedDefaultExport,this.state.startLoc);let t=this.parseMaybeAssignAllowIn();return this.semicolon(),t;}parseExportDeclaration(e){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem();}isExportDefaultSpecifier(){let{type:e}=this.state;if(L(e)){if(95===e&&!this.state.containsEsc||100===e)return!1;if((130===e||129===e)&&!this.state.containsEsc){let{type:e}=this.lookahead();if(L(e)&&98!==e||5===e)return this.expectOnePlugin(["flow","typescript"]),!1;}}else if(!this.match(65))return!1;let t=this.nextTokenStart(),s=this.isUnparsedContextual(t,"from");if(44===this.input.charCodeAt(t)||L(this.state.type)&&s)return!0;if(this.match(65)&&s){let e=this.input.charCodeAt(this.nextTokenStartSince(t+4));return 34===e||39===e;}return!1;}parseExportFrom(e,t){this.eatContextual(98)?(e.source=this.parseImportSource(),this.checkExport(e),this.maybeParseImportAttributes(e),this.checkJSONModuleImport(e)):t&&this.unexpected(),this.semicolon();}shouldParseExportDeclaration(){let{type:e}=this.state;return 26===e&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(!0===this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(c.DecoratorBeforeExport,this.state.startLoc),!0):this.isContextual(107)?(this.raise(c.UsingDeclarationExport,this.state.startLoc),!0):this.isContextual(96)&&this.startsAwaitUsing()?(this.raise(c.UsingDeclarationExport,this.state.startLoc),!0):74===e||75===e||68===e||80===e||this.isLet()||this.isAsyncFunction();}checkExport(e,t,s,r){if(t){var i,a;if(s){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){let t=e.declaration;"Identifier"!==t.type||"from"!==t.name||t.end-t.start!=4||null!=(a=t.extra)&&a.parenthesized||this.raise(c.ExportDefaultFromAsIdentifier,t);}}else if(null!=(i=e.specifiers)&&i.length)for(let t of e.specifiers){let{exported:e}=t,s="Identifier"===e.type?e.name:e.value;if(this.checkDuplicateExports(t,s),!r&&t.local){let{local:e}=t;"Identifier"!==e.type?this.raise(c.ExportBindingIsString,t,{localName:e.value,exportName:s}):(this.checkReservedWord(e.name,e.loc.start,!0,!1),this.scope.checkLocalExport(e));}}else if(e.declaration){let t=e.declaration;if("FunctionDeclaration"===t.type||"ClassDeclaration"===t.type){let{id:s}=t;if(!s)throw Error("Assertion failure");this.checkDuplicateExports(e,s.name);}else if("VariableDeclaration"===t.type)for(let e of t.declarations)this.checkDeclaration(e.id);}}}checkDeclaration(e){if("Identifier"===e.type)this.checkDuplicateExports(e,e.name);else if("ObjectPattern"===e.type)for(let t of e.properties)this.checkDeclaration(t);else if("ArrayPattern"===e.type)for(let t of e.elements)t&&this.checkDeclaration(t);else"ObjectProperty"===e.type?this.checkDeclaration(e.value):"RestElement"===e.type?this.checkDeclaration(e.argument):"AssignmentPattern"===e.type&&this.checkDeclaration(e.left);}checkDuplicateExports(e,t){this.exportedIdentifiers.has(t)&&("default"===t?this.raise(c.DuplicateDefaultExport,e):this.raise(c.DuplicateExport,e,{exportName:t})),this.exportedIdentifiers.add(t);}parseExportSpecifiers(e){let t=[],s=!0;for(this.expect(5);!this.eat(8);){if(s)s=!1;else if(this.expect(12),this.eat(8))break;let r=this.isContextual(130),i=this.match(134),a=this.startNode();a.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(a,i,e,r));}return t;}parseExportSpecifier(e,t,s,r){return this.eatContextual(93)?e.exported=this.parseModuleExportName():t?e.exported=function(e){let{type:t,start:s,end:r,loc:i,range:a,extra:n}=e;if("Placeholder"===t)return eR(e);let o=Object.create(eD);return o.type=t,o.start=s,o.end=r,o.loc=i,o.range=a,void 0!==e.raw?o.raw=e.raw:o.extra=n,o.value=e.value,o;}(e.local):e.exported||(e.exported=eR(e.local)),this.finishNode(e,"ExportSpecifier");}parseModuleExportName(){if(this.match(134)){let e=this.parseStringLiteral(this.state.value),t=e9.exec(e.value);return t&&this.raise(c.ModuleExportNameHasLoneSurrogate,e,{surrogateCharCode:t[0].charCodeAt(0)}),e;}return this.parseIdentifier(!0);}isJSONModuleImport(e){return null!=e.assertions&&e.assertions.some(({key:e,value:t})=>"json"===t.value&&("Identifier"===e.type?"type"===e.name:"type"===e.value));}checkImportReflection(e){let{specifiers:t}=e,s=1===t.length?t[0].type:null;if("source"===e.phase)"ImportDefaultSpecifier"!==s&&this.raise(c.SourcePhaseImportRequiresDefault,t[0].loc.start);else if("defer"===e.phase)"ImportNamespaceSpecifier"!==s&&this.raise(c.DeferImportRequiresNamespace,t[0].loc.start);else if(e.module){var r;"ImportDefaultSpecifier"!==s&&this.raise(c.ImportReflectionNotBinding,t[0].loc.start),(null==(r=e.assertions)?void 0:r.length)>0&&this.raise(c.ImportReflectionHasAssertion,t[0].loc.start);}}checkJSONModuleImport(e){if(this.isJSONModuleImport(e)&&"ExportAllDeclaration"!==e.type){let{specifiers:t}=e;if(null!=t){let e=t.find(e=>{let t;if("ExportSpecifier"===e.type?t=e.local:"ImportSpecifier"===e.type&&(t=e.imported),void 0!==t)return"Identifier"===t.type?"default"!==t.name:"default"!==t.value;});void 0!==e&&this.raise(c.ImportJSONBindingNotDefault,e.loc.start);}}}isPotentialImportPhase(e){return!e&&(this.isContextual(105)||this.isContextual(97)||this.isContextual(127));}applyImportPhase(e,t,s,r){t||("module"===s?(this.expectPlugin("importReflection",r),e.module=!0):this.hasPlugin("importReflection")&&(e.module=!1),"source"===s?(this.expectPlugin("sourcePhaseImports",r),e.phase="source"):"defer"===s?(this.expectPlugin("deferredImportEvaluation",r),e.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(e.phase=null));}parseMaybeImportPhase(e,t){if(!this.isPotentialImportPhase(t))return this.applyImportPhase(e,t,null),null;let s=this.parseIdentifier(!0),{type:r}=this.state;return(M(r)?98!==r||102===this.lookaheadCharCode():12!==r)?(this.resetPreviousIdentifierLeadingComments(s),this.applyImportPhase(e,t,s.name,s.loc.start),null):(this.applyImportPhase(e,t,null),s);}isPrecedingIdImportPhase(e){let{type:t}=this.state;return L(t)?98!==t||102===this.lookaheadCharCode():12!==t;}parseImport(e){return this.match(134)?this.parseImportSourceAndAttributes(e):this.parseImportSpecifiersAndAfter(e,this.parseMaybeImportPhase(e,!1));}parseImportSpecifiersAndAfter(e,t){e.specifiers=[];let s=!this.maybeParseDefaultImportSpecifier(e,t)||this.eat(12),r=s&&this.maybeParseStarImportSpecifier(e);return s&&!r&&this.parseNamedImportSpecifiers(e),this.expectContextual(98),this.parseImportSourceAndAttributes(e);}parseImportSourceAndAttributes(e){return null!=e.specifiers||(e.specifiers=[]),e.source=this.parseImportSource(),this.maybeParseImportAttributes(e),this.checkImportReflection(e),this.checkJSONModuleImport(e),this.semicolon(),this.finishNode(e,"ImportDeclaration");}parseImportSource(){return this.match(134)||this.unexpected(),this.parseExprAtom();}parseImportSpecifierLocal(e,t,s){t.local=this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,s));}finishImportSpecifier(e,t,s=8201){return this.checkLVal(e.local,{type:t},s),this.finishNode(e,t);}parseImportAttributes(){this.expect(5);let e=[],t=new Set;do{if(this.match(8))break;let s=this.startNode(),r=this.state.value;if(t.has(r)&&this.raise(c.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:r}),t.add(r),this.match(134)?s.key=this.parseStringLiteral(r):s.key=this.parseIdentifier(!0),this.expect(14),!this.match(134))throw this.raise(c.ModuleAttributeInvalidValue,this.state.startLoc);s.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(s,"ImportAttribute"));}while(this.eat(12))return this.expect(8),e;}parseModuleAttributes(){let e=[],t=new Set;do{let s=this.startNode();if(s.key=this.parseIdentifier(!0),"type"!==s.key.name&&this.raise(c.ModuleAttributeDifferentFromType,s.key),t.has(s.key.name)&&this.raise(c.ModuleAttributesWithDuplicateKeys,s.key,{key:s.key.name}),t.add(s.key.name),this.expect(14),!this.match(134))throw this.raise(c.ModuleAttributeInvalidValue,this.state.startLoc);s.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(s,"ImportAttribute"));}while(this.eat(12))return e;}maybeParseImportAttributes(e){let t;var s=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&40===this.lookaheadCharCode())return;this.next(),t=this.hasPlugin("moduleAttributes")?this.parseModuleAttributes():this.parseImportAttributes(),s=!0;}else this.isContextual(94)&&!this.hasPrecedingLineBreak()?(this.hasPlugin("deprecatedImportAssert")||this.hasPlugin("importAssertions")||this.raise(c.ImportAttributesUseAssert,this.state.startLoc),this.hasPlugin("importAssertions")||this.addExtra(e,"deprecatedAssertSyntax",!0),this.next(),t=this.parseImportAttributes()):t=[];!s&&this.hasPlugin("importAssertions")?e.assertions=t:e.attributes=t;}maybeParseDefaultImportSpecifier(e,t){if(t){let s=this.startNodeAtNode(t);return s.local=t,e.specifiers.push(this.finishImportSpecifier(s,"ImportDefaultSpecifier")),!0;}return!!M(this.state.type)&&(this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier"),!0);}maybeParseStarImportSpecifier(e){if(this.match(55)){let t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(e,t,"ImportNamespaceSpecifier"),!0;}return!1;}parseNamedImportSpecifiers(e){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(c.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break;}let s=this.startNode(),r=this.match(134),i=this.isContextual(130);s.imported=this.parseModuleExportName();let a=this.parseImportSpecifier(s,r,"type"===e.importKind||"typeof"===e.importKind,i,void 0);e.specifiers.push(a);}}parseImportSpecifier(e,t,s,r,i){if(this.eatContextual(93))e.local=this.parseIdentifier();else{let{imported:s}=e;if(t)throw this.raise(c.ImportBindingIsString,e,{importName:s.value});this.checkReservedWord(s.name,e.loc.start,!0,!0),e.local||(e.local=eR(s));}return this.finishImportSpecifier(e,"ImportSpecifier",i);}isThisParam(e){return"Identifier"===e.type&&"this"===e.name;}},tt=class extends te{constructor(e,t,s){super(e=function(e){let t={sourceType:"script",sourceFilename:void 0,startIndex:0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0};if(null==e)return t;if(null!=e.annexB&&!1!==e.annexB)throw Error("The `annexB` option can only be set to `false`.");for(let s of Object.keys(t))null!=e[s]&&(t[s]=e[s]);if(1===t.startLine)null==e.startIndex&&t.startColumn>0?t.startIndex=t.startColumn:null==e.startColumn&&t.startIndex>0&&(t.startColumn=t.startIndex);else if((null==e.startColumn||null==e.startIndex)&&null!=e.startIndex)throw Error("With a `startLine > 1` you must also specify `startIndex` and `startColumn`.");return t;}(e),t),this.options=e,this.initializeScopes(),this.plugins=s,this.filename=e.sourceFilename,this.startIndex=e.startIndex;let r=0;e.allowAwaitOutsideFunction&&(r|=1),e.allowReturnOutsideFunction&&(r|=2),e.allowImportExportEverywhere&&(r|=8),e.allowSuperOutsideMethod&&(r|=16),e.allowUndeclaredExports&&(r|=32),e.allowNewTargetOutsideFunction&&(r|=4),e.ranges&&(r|=64),e.tokens&&(r|=128),e.createImportExpressions&&(r|=256),e.createParenthesizedExpressions&&(r|=512),e.errorRecovery&&(r|=1024),e.attachComment&&(r|=2048),e.annexB&&(r|=4096),this.optionFlags=r;}getScopeHandler(){return et;}parse(){this.enterInitialScopes();let e=this.startNode(),t=this.startNode();return this.nextToken(),e.errors=null,this.parseTopLevel(e,t),e.errors=this.state.errors,e.comments.length=this.state.commentsLen,e;}},ts=function(e){let t={};for(let s of Object.keys(e))t[s]=A[e[s]];return t;}(F);function tr(e,t){let s=tt,r=new Map;if(null!=e&&e.plugins){for(let t of e.plugins){let e,s;"string"==typeof t?e=t:[e,s]=t,r.has(e)||r.set(e,s||{});}(function(e){if(e.has("decorators")){if(e.has("decorators-legacy"))throw Error("Cannot use the decorators and decorators-legacy plugin together");let t=e.get("decorators").decoratorsBeforeExport;if(null!=t&&"boolean"!=typeof t)throw Error("'decoratorsBeforeExport' must be a boolean, if specified.");let s=e.get("decorators").allowCallParenthesized;if(null!=s&&"boolean"!=typeof s)throw Error("'allowCallParenthesized' must be a boolean.");}if(e.has("flow")&&e.has("typescript"))throw Error("Cannot combine flow and typescript plugins.");if(e.has("placeholders")&&e.has("v8intrinsic"))throw Error("Cannot combine placeholders and v8intrinsic plugins.");if(e.has("pipelineOperator")){var t;let s=e.get("pipelineOperator").proposal;if(!e1.includes(s)){let e=e1.map(e=>`"${e}"`).join(", ");throw Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${e}.`);}let r=(null==(t=e.get("recordAndTuple"))?void 0:t.syntaxType)==="hash";if("hack"===s){if(e.has("placeholders"))throw Error("Cannot combine placeholders plugin and Hack-style pipes.");if(e.has("v8intrinsic"))throw Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");let t=e.get("pipelineOperator").topicToken;if(!e2.includes(t)){let e=e2.map(e=>`"${e}"`).join(", ");throw Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${e}.`);}if("#"===t&&r)throw Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`);}else if("smart"===s&&r)throw Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`);}if(e.has("moduleAttributes")){if(e.has("deprecatedImportAssert")||e.has("importAssertions"))throw Error("Cannot combine importAssertions, deprecatedImportAssert and moduleAttributes plugins.");if("may-2020"!==e.get("moduleAttributes").version)throw Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.");}if(e.has("importAssertions")&&e.has("deprecatedImportAssert"))throw Error("Cannot combine importAssertions and deprecatedImportAssert plugins.");if(!e.has("deprecatedImportAssert")&&e.has("importAttributes")&&e.get("importAttributes").deprecatedAssertSyntax&&e.set("deprecatedImportAssert",{}),e.has("recordAndTuple")){let t=e.get("recordAndTuple").syntaxType;if(null!=t){let e=["hash","bar"];if(!e.includes(t))throw Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+e.map(e=>`'${e}'`).join(", "));}}if(e.has("asyncDoExpressions")&&!e.has("doExpressions")){let e=Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw e.missingPlugins="doExpressions",e;}if(e.has("optionalChainingAssign")&&"2023-07"!==e.get("optionalChainingAssign").version)throw Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.");})(r),s=function(e){let t=[];for(let s of e3)e.has(s)&&t.push(s);let s=t.join("|"),r=ti.get(s);if(!r){for(let e of(r=tt,t))r=e4[e](r);ti.set(s,r);}return r;}(r);}return new s(e,t,r);}var ti=new Map;e.parse=function(e,t){var s;if((null==(s=t)?void 0:s.sourceType)!=="unambiguous")return tr(t,e).parse();t=Object.assign({},t);try{t.sourceType="module";let s=tr(t,e),r=s.parse();if(s.sawUnambiguousESM)return r;if(s.ambiguousScriptDifferentAst)try{return t.sourceType="script",tr(t,e).parse();}catch{}else r.program.sourceType="script";return r;}catch(s){try{return t.sourceType="script",tr(t,e).parse();}catch{}throw s;}},e.parseExpression=function(e,t){let s=tr(t,e);return s.options.strictMode&&(s.state.strict=!0),s.getExpression();},e.tokTypes=ts;},()=>(t||e((t={exports:{}}).exports,t),t.exports)),c={};((e,t)=>{for(var s in t)i(e,s,{get:t[s],enumerable:!0});})(c,{parsers:()=>em});var d=p(u(),1);function f(e){return(t,s,r)=>{let i=!!(null!=r&&r.backwards);if(!1===s)return!1;let{length:a}=t,n=s;for(;n>=0&&n<a;){let s=t.charAt(n);if(e instanceof RegExp){if(!e.test(s))return n;}else if(!e.includes(s))return n;i?n--:n++;}return(-1===n||n===a)&&n;};}f(/\s/u);var m=f(" 	"),y=(f(",; 	"),f(/[^\n\r]/u)),g=function(e,t){if(!1===t)return!1;if("/"===e.charAt(t)&&"*"===e.charAt(t+1)){for(let s=t+2;s<e.length;++s)if("*"===e.charAt(s)&&"/"===e.charAt(s+1))return s+2;}return t;},x=function(e,t,s){let r=!!(null!=s&&s.backwards);if(!1===t)return!1;let i=e.charAt(t);if(r){if("\r"===e.charAt(t-1)&&i===`
`)return t-2;if(i===`
`||"\r"===i||"\u2028"===i||"\u2029"===i)return t-1;}else{if("\r"===i&&e.charAt(t+1)===`
`)return t+2;if(i===`
`||"\r"===i||"\u2028"===i||"\u2029"===i)return t+1;}return t;},P=function(e,t){let s=null,r=t;for(;r!==s;){var i;s=r,r=m(e,r),r=g(e,r),r=x(e,r=!1!==(i=r)&&("/"===e.charAt(i)&&"/"===e.charAt(i+1)?y(e,i):i));}return r;},v=function(e){let t=[];for(let s of e)try{return s();}catch(e){t.push(e);}throw Object.assign(Error("All combinations failed"),{errors:t});},b=function(e){if(!e.startsWith("#!"))return"";let t=e.indexOf(`
`);return -1===t?e:e.slice(0,t);},T=(e,t,s)=>{if(!(e&&null==t))return Array.isArray(t)||"string"==typeof t?t[s<0?t.length+s:s]:t.at(s);},A=function(e){return Array.isArray(e)&&e.length>0;};function E(e){var t,s,r;let i=(null==(t=e.range)?void 0:t[0])??e.start,a=null==(r=(null==(s=e.declaration)?void 0:s.decorators)??e.decorators)?void 0:r[0];return a?Math.min(E(a),i):i;}function w(e){var t;return(null==(t=e.range)?void 0:t[1])??e.end;}var S=(s=new Set(["Block","CommentBlock","MultiLine"]),e=>s.has(null==e?void 0:e.type)),C=function(e){let t=`*${e.value}*`.split(`
`);return t.length>1&&t.every(e=>"*"===e.trimStart()[0]);},I=function(e){return S(e)&&"*"===e.value[0]&&/@(?:type|satisfies)\b/u.test(e.value);},N=null;function k(e){if(null!==N&&(N.property,1)){let e=N;return N=k.prototype=null,e;}return N=k.prototype=e??Object.create(null),new k;}for(let e=0;e<=10;e++)k();var F=function(e,t="type"){return k(e),function(s){let r=s[t],i=e[r];if(!Array.isArray(i))throw Object.assign(Error(`Missing visitor keys for '${r}'.`),{node:s});return i;};}({ArrayExpression:["elements"],AssignmentExpression:["left","right"],BinaryExpression:["left","right"],InterpreterDirective:[],Directive:["value"],DirectiveLiteral:[],BlockStatement:["directives","body"],BreakStatement:["label"],CallExpression:["callee","arguments","typeParameters","typeArguments"],CatchClause:["param","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExpressionStatement:["expression"],File:["program"],ForInStatement:["left","right","body"],ForStatement:["init","test","update","body"],FunctionDeclaration:["id","typeParameters","params","predicate","returnType","body"],FunctionExpression:["id","typeParameters","params","returnType","body"],Identifier:["typeAnnotation","decorators"],IfStatement:["test","consequent","alternate"],LabeledStatement:["label","body"],StringLiteral:[],NumericLiteral:[],NullLiteral:[],BooleanLiteral:[],RegExpLiteral:[],LogicalExpression:["left","right"],MemberExpression:["object","property"],NewExpression:["callee","arguments","typeParameters","typeArguments"],Program:["directives","body"],ObjectExpression:["properties"],ObjectMethod:["decorators","key","typeParameters","params","returnType","body"],ObjectProperty:["key","value","decorators"],RestElement:["argument","typeAnnotation","decorators"],ReturnStatement:["argument"],SequenceExpression:["expressions"],ParenthesizedExpression:["expression"],SwitchCase:["test","consequent"],SwitchStatement:["discriminant","cases"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],AssignmentPattern:["left","right","decorators","typeAnnotation"],ArrayPattern:["elements","typeAnnotation","decorators"],ArrowFunctionExpression:["typeParameters","params","predicate","returnType","body"],ClassBody:["body"],ClassExpression:["decorators","id","typeParameters","superClass","superTypeParameters","mixins","implements","body","superTypeArguments"],ClassDeclaration:["decorators","id","typeParameters","superClass","superTypeParameters","mixins","implements","body","superTypeArguments"],ExportAllDeclaration:["source","attributes","exported"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source","attributes"],ExportSpecifier:["local","exported"],ForOfStatement:["left","right","body"],ImportDeclaration:["specifiers","source","attributes"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],ImportExpression:["source","options"],MetaProperty:["meta","property"],ClassMethod:["decorators","key","typeParameters","params","returnType","body"],ObjectPattern:["properties","typeAnnotation","decorators"],SpreadElement:["argument"],Super:[],TaggedTemplateExpression:["tag","typeParameters","quasi","typeArguments"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],YieldExpression:["argument"],AwaitExpression:["argument"],BigIntLiteral:[],ExportNamespaceSpecifier:["exported"],OptionalMemberExpression:["object","property"],OptionalCallExpression:["callee","arguments","typeParameters","typeArguments"],ClassProperty:["decorators","variance","key","typeAnnotation","value"],ClassAccessorProperty:["decorators","key","typeAnnotation","value"],ClassPrivateProperty:["decorators","variance","key","typeAnnotation","value"],ClassPrivateMethod:["decorators","key","typeParameters","params","returnType","body"],PrivateName:["id"],StaticBlock:["body"],AnyTypeAnnotation:[],ArrayTypeAnnotation:["elementType"],BooleanTypeAnnotation:[],BooleanLiteralTypeAnnotation:[],NullLiteralTypeAnnotation:[],ClassImplements:["id","typeParameters"],DeclareClass:["id","typeParameters","extends","mixins","implements","body"],DeclareFunction:["id","predicate"],DeclareInterface:["id","typeParameters","extends","body"],DeclareModule:["id","body"],DeclareModuleExports:["typeAnnotation"],DeclareTypeAlias:["id","typeParameters","right"],DeclareOpaqueType:["id","typeParameters","supertype"],DeclareVariable:["id"],DeclareExportDeclaration:["declaration","specifiers","source","attributes"],DeclareExportAllDeclaration:["source","attributes"],DeclaredPredicate:["value"],ExistsTypeAnnotation:[],FunctionTypeAnnotation:["typeParameters","this","params","rest","returnType"],FunctionTypeParam:["name","typeAnnotation"],GenericTypeAnnotation:["id","typeParameters"],InferredPredicate:[],InterfaceExtends:["id","typeParameters"],InterfaceDeclaration:["id","typeParameters","extends","body"],InterfaceTypeAnnotation:["extends","body"],IntersectionTypeAnnotation:["types"],MixedTypeAnnotation:[],EmptyTypeAnnotation:[],NullableTypeAnnotation:["typeAnnotation"],NumberLiteralTypeAnnotation:[],NumberTypeAnnotation:[],ObjectTypeAnnotation:["properties","indexers","callProperties","internalSlots"],ObjectTypeInternalSlot:["id","value"],ObjectTypeCallProperty:["value"],ObjectTypeIndexer:["variance","id","key","value"],ObjectTypeProperty:["key","value","variance"],ObjectTypeSpreadProperty:["argument"],OpaqueType:["id","typeParameters","supertype","impltype"],QualifiedTypeIdentifier:["qualification","id"],StringLiteralTypeAnnotation:[],StringTypeAnnotation:[],SymbolTypeAnnotation:[],ThisTypeAnnotation:[],TupleTypeAnnotation:["types","elementTypes"],TypeofTypeAnnotation:["argument","typeArguments"],TypeAlias:["id","typeParameters","right"],TypeAnnotation:["typeAnnotation"],TypeCastExpression:["expression","typeAnnotation"],TypeParameter:["bound","default","variance"],TypeParameterDeclaration:["params"],TypeParameterInstantiation:["params"],UnionTypeAnnotation:["types"],Variance:[],VoidTypeAnnotation:[],EnumDeclaration:["id","body"],EnumBooleanBody:["members"],EnumNumberBody:["members"],EnumStringBody:["members"],EnumSymbolBody:["members"],EnumBooleanMember:["id","init"],EnumNumberMember:["id","init"],EnumStringMember:["id","init"],EnumDefaultedMember:["id"],IndexedAccessType:["objectType","indexType"],OptionalIndexedAccessType:["objectType","indexType"],JSXAttribute:["name","value"],JSXClosingElement:["name"],JSXElement:["openingElement","children","closingElement"],JSXEmptyExpression:[],JSXExpressionContainer:["expression"],JSXSpreadChild:["expression"],JSXIdentifier:[],JSXMemberExpression:["object","property"],JSXNamespacedName:["namespace","name"],JSXOpeningElement:["name","typeParameters","typeArguments","attributes"],JSXSpreadAttribute:["argument"],JSXText:[],JSXFragment:["openingFragment","children","closingFragment"],JSXOpeningFragment:[],JSXClosingFragment:[],Noop:[],Placeholder:[],V8IntrinsicIdentifier:[],ArgumentPlaceholder:[],BindExpression:["object","callee"],ImportAttribute:["key","value"],Decorator:["expression"],DoExpression:["body"],ExportDefaultSpecifier:["exported"],RecordExpression:["properties"],TupleExpression:["elements"],ModuleExpression:["body"],TopicReference:[],PipelineTopicExpression:["expression"],PipelineBareFunction:["callee"],PipelinePrimaryTopicReference:[],TSParameterProperty:["parameter","decorators"],TSDeclareFunction:["id","typeParameters","params","returnType","body"],TSDeclareMethod:["decorators","key","typeParameters","params","returnType"],TSQualifiedName:["left","right"],TSCallSignatureDeclaration:["typeParameters","parameters","typeAnnotation","params","returnType"],TSConstructSignatureDeclaration:["typeParameters","parameters","typeAnnotation","params","returnType"],TSPropertySignature:["key","typeAnnotation"],TSMethodSignature:["key","typeParameters","parameters","typeAnnotation","params","returnType"],TSIndexSignature:["parameters","typeAnnotation"],TSAnyKeyword:[],TSBooleanKeyword:[],TSBigIntKeyword:[],TSIntrinsicKeyword:[],TSNeverKeyword:[],TSNullKeyword:[],TSNumberKeyword:[],TSObjectKeyword:[],TSStringKeyword:[],TSSymbolKeyword:[],TSUndefinedKeyword:[],TSUnknownKeyword:[],TSVoidKeyword:[],TSThisType:[],TSFunctionType:["typeParameters","parameters","typeAnnotation","params","returnType"],TSConstructorType:["typeParameters","parameters","typeAnnotation","params","returnType"],TSTypeReference:["typeName","typeParameters","typeArguments"],TSTypePredicate:["parameterName","typeAnnotation"],TSTypeQuery:["exprName","typeParameters","typeArguments"],TSTypeLiteral:["members"],TSArrayType:["elementType"],TSTupleType:["elementTypes"],TSOptionalType:["typeAnnotation"],TSRestType:["typeAnnotation"],TSNamedTupleMember:["label","elementType"],TSUnionType:["types"],TSIntersectionType:["types"],TSConditionalType:["checkType","extendsType","trueType","falseType"],TSInferType:["typeParameter"],TSParenthesizedType:["typeAnnotation"],TSTypeOperator:["typeAnnotation"],TSIndexedAccessType:["objectType","indexType"],TSMappedType:["typeParameter","nameType","typeAnnotation"],TSTemplateLiteralType:["quasis","types"],TSLiteralType:["literal"],TSExpressionWithTypeArguments:["expression","typeParameters"],TSInterfaceDeclaration:["id","typeParameters","extends","body"],TSInterfaceBody:["body"],TSTypeAliasDeclaration:["id","typeParameters","typeAnnotation"],TSInstantiationExpression:["expression","typeParameters","typeArguments"],TSAsExpression:["expression","typeAnnotation"],TSSatisfiesExpression:["expression","typeAnnotation"],TSTypeAssertion:["typeAnnotation","expression"],TSEnumBody:["members"],TSEnumDeclaration:["id","members"],TSEnumMember:["id","initializer"],TSModuleDeclaration:["id","body"],TSModuleBlock:["body"],TSImportType:["argument","options","qualifier","typeParameters","typeArguments"],TSImportEqualsDeclaration:["id","moduleReference"],TSExternalModuleReference:["expression"],TSNonNullExpression:["expression"],TSExportAssignment:["expression"],TSNamespaceExportDeclaration:["id"],TSTypeAnnotation:["typeAnnotation"],TSTypeParameterInstantiation:["params"],TSTypeParameterDeclaration:["params"],TSTypeParameter:["constraint","default","name"],ChainExpression:["expression"],ExperimentalRestProperty:["argument"],ExperimentalSpreadProperty:["argument"],Literal:[],MethodDefinition:["decorators","key","value"],PrivateIdentifier:[],Property:["key","value"],PropertyDefinition:["decorators","key","typeAnnotation","value","variance"],AccessorProperty:["decorators","key","typeAnnotation","value"],TSAbstractAccessorProperty:["decorators","key","typeAnnotation"],TSAbstractKeyword:[],TSAbstractMethodDefinition:["key","value"],TSAbstractPropertyDefinition:["decorators","key","typeAnnotation"],TSAsyncKeyword:[],TSClassImplements:["expression","typeArguments","typeParameters"],TSDeclareKeyword:[],TSEmptyBodyFunctionExpression:["id","typeParameters","params","returnType"],TSExportKeyword:[],TSInterfaceHeritage:["expression","typeArguments","typeParameters"],TSPrivateKeyword:[],TSProtectedKeyword:[],TSPublicKeyword:[],TSReadonlyKeyword:[],TSStaticKeyword:[],AsConstExpression:["expression"],AsExpression:["expression","typeAnnotation"],BigIntLiteralTypeAnnotation:[],BigIntTypeAnnotation:[],ComponentDeclaration:["id","params","body","typeParameters","rendersType"],ComponentParameter:["name","local"],ComponentTypeAnnotation:["params","rest","typeParameters","rendersType"],ComponentTypeParameter:["name","typeAnnotation"],ConditionalTypeAnnotation:["checkType","extendsType","trueType","falseType"],DeclareComponent:["id","params","rest","typeParameters","rendersType"],DeclareEnum:["id","body"],DeclareHook:["id"],DeclareNamespace:["id","body"],EnumBigIntBody:["members"],EnumBigIntMember:["id","init"],HookDeclaration:["id","params","body","typeParameters","returnType"],HookTypeAnnotation:["params","returnType","rest","typeParameters"],InferTypeAnnotation:["typeParameter"],KeyofTypeAnnotation:["argument"],ObjectTypeMappedTypeProperty:["keyTparam","propType","sourceType","variance"],QualifiedTypeofIdentifier:["qualification","id"],TupleTypeLabeledElement:["label","elementType","variance"],TupleTypeSpreadElement:["label","typeAnnotation"],TypeOperator:["typeAnnotation"],TypePredicate:["parameterName","typeAnnotation","asserts"],NGRoot:["node"],NGPipeExpression:["left","right","arguments"],NGChainedExpression:["expressions"],NGEmptyExpression:[],NGMicrosyntax:["body"],NGMicrosyntaxKey:[],NGMicrosyntaxExpression:["expression","alias"],NGMicrosyntaxKeyedExpression:["key","expression"],NGMicrosyntaxLet:["key","value"],NGMicrosyntaxAs:["key","alias"],JsExpressionRoot:["node"],JsonRoot:["node"],TSJSDocAllType:[],TSJSDocUnknownType:[],TSJSDocNullableType:["typeAnnotation"],TSJSDocNonNullableType:["typeAnnotation"],NeverTypeAnnotation:[],UndefinedTypeAnnotation:[],UnknownTypeAnnotation:[],SatisfiesExpression:["expression","typeAnnotation"]}),L=function e(t,s){if(!(null!==t&&"object"==typeof t))return t;if(Array.isArray(t)){for(let r=0;r<t.length;r++)t[r]=e(t[r],s);return t;}let r=F(t);for(let i=0;i<r.length;i++)t[r[i]]=e(t[r[i]],s);return s(t)||t;};function M(e){return"LogicalExpression"===e.type&&"LogicalExpression"===e.right.type&&e.operator===e.right.operator;}var O=function(e,t){let{parser:s,text:r}=t;if("File"===e.type&&e.program.interpreter){let{program:{interpreter:t},comments:s}=e;delete e.program.interpreter,s.unshift(t);}if("babel"===s){let t=new Set;e=L(e,e=>{var s;null!=(s=e.leadingComments)&&s.some(I)&&t.add(E(e));}),e=L(e,e=>{if("ParenthesizedExpression"===e.type){let{expression:s}=e;if("TypeCastExpression"===s.type)return s.range=[...e.range],s;let r=E(e);if(!t.has(r))return s.extra={...s.extra,parenthesized:!0},s;}});}if(A((e=L(e,t=>{switch(t.type){case"LogicalExpression":if(M(t))return function e(t){return M(t)?e({type:"LogicalExpression",operator:t.operator,left:e({type:"LogicalExpression",operator:t.operator,left:t.left,right:t.right.left,range:[E(t.left),w(t.right.left)]}),right:t.right.right,range:[E(t),w(t)]}):t;}(t);break;case"VariableDeclaration":{let e=T(!1,t.declarations,-1);null!=e&&e.init&&";"!==r[w(e)]&&(t.range=[E(t),w(e)]);break;}case"TSParenthesizedType":return t.typeAnnotation;case"TSTypeParameter":if("string"==typeof t.name){let e=E(t);t.name={type:"Identifier",name:t.name,range:[e,e+t.name.length]};}break;case"TopicReference":e.extra={...e.extra,__isUsingHackPipeline:!0};break;case"TSUnionType":case"TSIntersectionType":if(1===t.types.length)return t.types[0];}})).comments)){let t=T(!1,e.comments,-1);for(let s=e.comments.length-2;s>=0;s--){let r=e.comments[s];w(r)===E(t)&&S(r)&&S(t)&&C(r)&&C(t)&&(e.comments.splice(s+1,1),r.value+="*//*"+t.value,r.range=[E(r),w(t)]),t=r;}}return"Program"===e.type&&(e.range=[0,r.length]),e;},D=function(e,t){return Object.assign(SyntaxError(e+" ("+t.loc.start.line+":"+t.loc.start.column+")"),t);},R=function(e){let{message:t,loc:{line:s,column:r},reasonCode:i}=e,a=e;("MissingPlugin"===i||"MissingOneOfPlugins"===i)&&(t="Unexpected token.",a=void 0);let n=` (${s}:${r})`;return t.endsWith(n)&&(t=t.slice(0,-n.length)),D(t,{loc:{start:{line:s,column:r+1}},cause:a});},B=(e,t,s,r)=>{if(!(e&&null==t))return t.replaceAll?t.replaceAll(s,r):s.global?t.replace(s,r):t.split(s).join(r);},j=/\*\/$/,V=/^\/\*\*?/,_=/^\s*(\/\*\*?(.|\r?\n)*?\*\/)/,U=/(^|\s+)\/\/([^\n\r]*)/g,q=/^(\r?\n)+/,$=/(?:^|\r?\n) *(@[^\n\r]*?) *\r?\n *(?![^\n\r@]*\/\/[^]*)([^\s@][^\n\r@]+?) *\r?\n/g,H=/(?:^|\r?\n) *@(\S+) *([^\n\r]*)/g,z=/(\r?\n|^) *\* ?/g,W=[];function K(e){let{pragmas:t}=function(e){let t,s=b(e);s&&(e=e.slice(s.length+1));let{pragmas:r,comments:i}=function(e){let t=`
`;e=B(!1,e.replace(V,"").replace(j,""),z,"$1");let s="";for(;s!==e;)s=e,e=B(!1,e,$,`${t}$1 $2${t}`);e=e.replace(q,"").trimEnd();let r=Object.create(null),i=B(!1,e,H,"").replace(q,"").trimEnd(),a;for(;a=H.exec(e);){let e=B(!1,a[2],U,"");if("string"==typeof r[a[1]]||Array.isArray(r[a[1]])){let t=r[a[1]];r[a[1]]=[...W,...Array.isArray(t)?t:[t],e];}else r[a[1]]=e;}return{comments:i,pragmas:r};}((t=e.match(_))?t[0].trimStart():"");return{shebang:s,text:e,pragmas:r,comments:i};}(e);return Object.prototype.hasOwnProperty.call(t,"prettier")||Object.prototype.hasOwnProperty.call(t,"format");}var J=function(e){return{astFormat:"estree",hasPragma:K,locStart:E,locEnd:w,...e="function"==typeof e?{parse:e}:e};},X=function(e){let{filepath:t}=e;if(t){if((t=t.toLowerCase()).endsWith(".cjs")||t.endsWith(".cts"))return"script";if(t.endsWith(".mjs")||t.endsWith(".mts"))return"module";}},G=function(e,t){let{type:s="JsExpressionRoot",rootMarker:r,text:i}=t,{tokens:a,comments:n}=e;return delete e.tokens,delete e.comments,{tokens:a,comments:n,type:s,node:e,range:[0,i.length],rootMarker:r};},Y=e=>J(function({isExpression:e=!1,optionsCombinations:t}){return(s,r={})=>{if(("babel"===r.parser||"__babel_estree"===r.parser)&&function(e,t){var s;if(null!=(s=t.filepath)&&s.endsWith(".js.flow"))return!0;let r=b(e);r&&(e=e.slice(r.length));let i=P(e,0);return!1!==i&&(e=e.slice(0,i)),es.test(e);}(s,r))return r.parser="babel-flow",eh.parse(s,r);let i=t;(r.__babelSourceType??X(r))==="script"&&(i=i.map(e=>({...e,sourceType:"script"})));let a=/%[A-Z]/u.test(s);s.includes("|>")?i=(a?[...ee,Z]:ee).flatMap(e=>i.map(t=>et([e],t))):a&&(i=i.map(e=>et([Z],e)));let n=e?d.parseExpression:d.parse,o;try{o=v(i.map(e=>()=>(function(e,t,s){let r=e(t,s),i=r.errors.find(e=>!er.has(e.reasonCode));if(i)throw i;return r;})(n,s,e)));}catch({errors:[e]}){throw R(e);}return e&&(o=G(o,{text:s,rootMarker:r.rootMarker})),O(o,{parser:"babel",text:s});};}(e)),Q={sourceType:"module",allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,allowNewTargetOutsideFunction:!0,allowSuperOutsideMethod:!0,allowUndeclaredExports:!0,errorRecovery:!0,createParenthesizedExpressions:!0,createImportExpressions:!0,plugins:["doExpressions","exportDefaultFrom","functionBind","functionSent","throwExpressions","partialApplication","decorators","moduleBlocks","asyncDoExpressions","destructuringPrivate","decoratorAutoAccessors","explicitResourceManagement","sourcePhaseImports","deferredImportEvaluation",["optionalChainingAssign",{version:"2023-07"}],"recordAndTuple"],tokens:!0,ranges:!0},Z="v8intrinsic",ee=[["pipelineOperator",{proposal:"hack",topicToken:"%"}],["pipelineOperator",{proposal:"fsharp"}]],et=(e,t=Q)=>({...t,plugins:[...t.plugins,...e]}),es=/@(?:no)?flow\b/u,er=new Set(["StrictNumericEscape","StrictWith","StrictOctalLiteral","StrictDelete","StrictEvalArguments","StrictEvalArgumentsBinding","StrictFunction","ForInOfLoopInitializer","EmptyTypeArguments","EmptyTypeParameters","ConstructorHasTypeParameters","UnsupportedParameterPropertyKind","DecoratorExportClass","ParamDupe","InvalidDecimal","RestTrailingComma","UnsupportedParameterDecorator","UnterminatedJsxContent","UnexpectedReservedWord","ModuleAttributesWithDuplicateKeys","LineTerminatorBeforeArrow","InvalidEscapeSequenceTemplate","NonAbstractClassHasAbstractMethod","OptionalTypeBeforeRequired","PatternIsOptional","OptionalBindingPattern","DeclareClassFieldHasInitializer","TypeImportCannotSpecifyDefaultAndNamed","ConstructorClassField","VarRedeclaration","InvalidPrivateFieldResolution","DuplicateExport","ImportAttributesUseAssert"]),ei=[et(["jsx"])],ea=Y({optionsCombinations:ei}),en=Y({optionsCombinations:[et(["jsx","typescript"]),et(["typescript"])]}),eo=Y({isExpression:!0,optionsCombinations:[et(["jsx"])]}),el=Y({isExpression:!0,optionsCombinations:[et(["typescript"])]}),eh=Y({optionsCombinations:[et(["jsx",["flow",{all:!0}],"flowComments"])]}),ep=Y({optionsCombinations:ei.map(e=>et(["estree"],e))}),eu=p(u(),1);function ec(e={}){let{allowComments:t=!0}=e;return function(e){let s;try{s=(0,eu.parseExpression)(e,{tokens:!0,ranges:!0,attachComment:!1});}catch(e){throw R(e);}if(!t&&A(s.comments))throw ed(s.comments[0],"Comment");return function e(t){switch(t.type){case"ArrayExpression":for(let s of t.elements)null!==s&&e(s);return;case"ObjectExpression":for(let s of t.properties)e(s);return;case"ObjectProperty":if(t.computed)throw ed(t.key,"Computed key");if(t.shorthand)throw ed(t.key,"Shorthand property");"Identifier"!==t.key.type&&e(t.key),e(t.value);return;case"UnaryExpression":{let{operator:e,argument:s}=t;if("+"!==e&&"-"!==e)throw ed(t,`Operator '${t.operator}'`);if("NumericLiteral"===s.type||"Identifier"===s.type&&("Infinity"===s.name||"NaN"===s.name))return;throw ed(s,`Operator '${e}' before '${s.type}'`);}case"Identifier":if("Infinity"!==t.name&&"NaN"!==t.name&&"undefined"!==t.name)throw ed(t,`Identifier '${t.name}'`);return;case"TemplateLiteral":if(A(t.expressions))throw ed(t.expressions[0],"'TemplateLiteral' with expression");for(let s of t.quasis)e(s);return;case"NullLiteral":case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":case"TemplateElement":return;default:throw ed(t,`'${t.type}'`);}}(s),G(s,{type:"JsonRoot",text:e});};}function ed(e,t){let[s,r]=[e.loc.start,e.loc.end].map(({line:e,column:t})=>({line:e,column:t+1}));return D(`${t} is not allowed in JSON.`,{loc:{start:s,end:r}});}var ef=ec(),em={babel:ea,"babel-flow":eh,"babel-ts":en,__js_expression:eo,__ts_expression:el,__vue_expression:eo,__vue_ts_expression:el,__vue_event_binding:ea,__vue_ts_event_binding:en,__babel_estree:ep,json:J({parse:ef,hasPragma:()=>!0}),json5:J(ef),jsonc:J(ef),"json-stringify":J({parse:ec({allowComments:!1}),astFormat:"estree-json"})};return h(i({},"__esModule",{value:!0}),c);});},79212502:function(e,t,s){e.exports=s("f9b1dc6c");},"7d2e526a":function(e,t,s){"use strict";var r=s("8996239d"),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var s,a,n,o,l,h,p,u,c=!1;t||(t={}),n=t.debug||!1;try{if(l=r(),h=document.createRange(),p=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(s){if(s.stopPropagation(),t.format){if(s.preventDefault(),void 0===s.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=i[t.format]||i.default;window.clipboardData.setData(r,e);}else s.clipboardData.clearData(),s.clipboardData.setData(t.format,e);}t.onCopy&&(s.preventDefault(),t.onCopy(s.clipboardData));}),document.body.appendChild(u),h.selectNodeContents(u),p.addRange(h),!document.execCommand("copy"))throw Error("copy command was unsuccessful");c=!0;}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0;}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),s="message"in t?t.message:"Copy to clipboard: #{key}, Enter",a=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C",o=s.replace(/#{\s*key\s*}/g,a),window.prompt(o,e);}}finally{p&&("function"==typeof p.removeRange?p.removeRange(h):p.removeAllRanges()),u&&document.body.removeChild(u),l();}return c;};},"7d8545d2":function(e,t,s){"use strict";s.d(t,"__esModule",{value:!0}),t.removeSensor=t.getSensor=t.Sensors=void 0;var r,i=(r=s("7e7d7de7"))&&r.__esModule?r:{default:r},a=s("306b13e8"),n=s("65e53614"),o={};function l(e){e&&o[e]&&delete o[e];}t.Sensors=o,t.getSensor=function(e){var t=e.getAttribute(n.SizeSensorId);if(t&&o[t])return o[t];var s=(0,i.default)();e.setAttribute(n.SizeSensorId,s);var r=(0,a.createSensor)(e,function(){return l(s);});return o[s]=r,r;},t.removeSensor=function(e){var t=e.element.getAttribute(n.SizeSensorId);e.destroy(),l(t);};},"7e7d7de7":function(e,t,s){"use strict";s.d(t,"__esModule",{value:!0}),t.default=void 0;var r=1;t.default=function(){return"".concat(r++);};},"8130bd62":function(e,t,s){var r,i,a,n=e.exports={};function o(){throw Error("setTimeout has not been defined");}function l(){throw Error("clearTimeout has not been defined");}function h(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0);}catch(t){try{return r.call(null,e,0);}catch(t){return r.call(this,e,0);}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o;}catch(e){r=o;}try{i="function"==typeof clearTimeout?clearTimeout:l;}catch(e){i=l;}}();var p=[],u=!1,c=-1;function d(){u&&a&&(u=!1,a.length?p=a.concat(p):c=-1,p.length&&f());}function f(){if(!u){var e=h(d);u=!0;for(var t=p.length;t;){for(a=p,p=[];++c<t;)a&&a[c].run();c=-1,t=p.length;}a=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e);}catch(t){try{return i.call(null,e);}catch(t){return i.call(this,e);}}}(e);}}function m(e,t){this.fun=e,this.array=t;}function y(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];p.push(new m(e,t)),1!==p.length||u||h(f);},m.prototype.run=function(){this.fun.apply(null,this.array);},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[];},n.binding=function(e){throw Error("process.binding is not supported");},n.cwd=function(){return"/";},n.chdir=function(e){throw Error("process.chdir is not supported");},n.umask=function(){return 0;};},"8996239d":function(e,t,s){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,s=[],r=0;r<e.rangeCount;r++)s.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||s.forEach(function(t){e.addRange(t);}),t&&t.focus();};};},a0438f29:function(e,t,s){"use strict";t.__esModule=!0,t.getParameters=void 0;var r=s("a98c8089");t.getParameters=r.getParameters;},a30a86ab:function(e,t,s){e.exports=s("5ddb2978");},a98c8089:function(e,t,s){"use strict";s.d(t,"__esModule",{value:!0}),t.getParameters=void 0;var r=s("40bb390b");t.getParameters=function(e){var t;return t=JSON.stringify(e),r.compressToBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");};},b2112d59:function(e,t,s){"use strict";s.d(t,"__esModule",{value:!0}),t.createSensor=void 0;var r,i=(r=s("3a036f97"))&&r.__esModule?r:{default:r},a=s("65e53614");t.createSensor=function(e,t){var s=void 0,r=[],n=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",o),o();},t.style.display="block",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.opacity="0",t.setAttribute("class",a.SensorClassName),t.setAttribute("tabindex",a.SensorTabIndex),t.type="text/html",e.appendChild(t),t.data="about:blank",t;},o=(0,i.default)(function(){r.forEach(function(t){t(e);});}),l=function(){s&&s.parentNode&&(s.contentDocument&&s.contentDocument.defaultView.removeEventListener("resize",o),s.parentNode.removeChild(s),e.removeAttribute(a.SizeSensorId),s=void 0,r=[],t&&t());};return{element:e,bind:function(e){s||(s=n()),-1===r.indexOf(e)&&r.push(e);},destroy:l,unbind:function(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1),0===r.length&&s&&l();}};};},b43f03b4:function(e,t,s){e.exports=s("73ef1892");},b75a1ed4:function(e,t,s){e.exports=s("2bfc2320");},d7f29c7d:function(e,t,s){s.d(t,"__esModule",{value:!0}),s.e(t,{Field:function(){return eB;},FieldContext:function(){return _;},FormProvider:function(){return eJ;},List:function(){return ej;},ListContext:function(){return U;},default:function(){return eZ;},useForm:function(){return eW;},useWatch:function(){return eQ;}});var r,i=s("777fffbe"),a=s("852bbaa9"),n=s("e6ebd2e4"),o=a._(n),l=s("13456666"),h=i._(l),p=s("fa533ee3"),u=i._(p),c=s("dc7a2b0f"),d=i._(c),f=s("06d70a94"),m=i._(f),y=s("a64e94bb"),g=i._(y),x=s("26a5772d"),P=i._(x),v=s("042c89dd"),b=i._(v),T=s("7f566f3d"),A=i._(T),E=s("711e260a"),w=i._(E),S=s("b224b96a"),C=i._(S),I=s("7a70b70c"),N=i._(I),k=s("b69d7ccb"),F=i._(k),L=s("5b346a5c"),M=i._(L),O=s("208189cd"),D=i._(O),R=s("4789f108"),B=i._(R),j="RC_FORM_INTERNAL_HOOKS",V=function(){(0,B.default)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.");},_=o.createContext({getFieldValue:V,getFieldsValue:V,getFieldError:V,getFieldWarning:V,getFieldsError:V,isFieldsTouched:V,isFieldTouched:V,isFieldValidating:V,isFieldsValidating:V,resetFields:V,setFields:V,setFieldValue:V,setFieldsValue:V,validateFields:V,submit:V,getInternalHooks:function(){return V(),{dispatch:V,initEntityValue:V,registerField:V,useSubscribe:V,setInitialValues:V,destroyForm:V,setCallbacks:V,registerWatch:V,getFields:V,setValidateMessages:V,setPreserve:V,getInitialValue:V};}}),U=o.createContext(null);function q(e){return null==e?[]:Array.isArray(e)?e:[e];}var $=s("0cf6cf21");function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);}return e;}).apply(this,arguments);}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e);})(e);}function W(e,t){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e;})(e,t);}function K(e,t,s){return(K=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0;}catch(e){return!1;}}()?function(e,t,s){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return s&&W(i,s.prototype),i;}:Reflect.construct.bind()).apply(null,arguments);}function J(e){var t="function"==typeof Map?new Map:void 0;return(J=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,s);}function s(){return K(e,arguments,z(this).constructor);}return s.prototype=Object.create(e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),W(s,e);})(e);}var X=/%[sdj%]/g;function G(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var s=e.field;t[s]=t[s]||[],t[s].push(e);}),t;}function Y(e){for(var t=arguments.length,s=Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];var i=0,a=s.length;return"function"==typeof e?e.apply(null,s):"string"==typeof e?e.replace(X,function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(s[i++]);case"%d":return Number(s[i++]);case"%j":try{return JSON.stringify(s[i++]);}catch(e){return"[Circular]";}break;default:return e;}}):e;}function Q(e,t){return!!(null==e||"array"===t&&Array.isArray(e)&&!e.length)||("string"===t||"url"===t||"hex"===t||"email"===t||"date"===t||"pattern"===t)&&"string"==typeof e&&!e;}function Z(e,t,s){var r=0,i=e.length;!function a(n){if(n&&n.length){s(n);return;}var o=r;r+=1,o<i?t(e[o],a):s([]);}([]);}void 0!==$&&$.env;var ee=function(e){function t(t,s){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=s,r;}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,W(t,e),t;}(J(Error));function et(e,t){return function(s){var r;return(r=e.fullFields?function(e,t){for(var s=e,r=0;r<t.length&&void 0!=s;r++)s=s[t[r]];return s;}(t,e.fullFields):t[s.field||e.fullField],s&&void 0!==s.message)?(s.field=s.field||e.fullField,s.fieldValue=r,s):{message:"function"==typeof s?s():s,fieldValue:r,field:s.field||e.fullField};};}function es(e,t){if(t){for(var s in t)if(t.hasOwnProperty(s)){var r=t[s];"object"==typeof r&&"object"==typeof e[s]?e[s]=H({},e[s],r):e[s]=r;}}return e;}var er=function(e,t,s,r,i,a){e.required&&(!s.hasOwnProperty(e.field)||Q(t,a||e.type))&&r.push(Y(i.messages.required,e.fullField));},ei=function(){if(r)return r;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":"";},s="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",a=("\n(?:\n(?:"+i+":){7}(?:"+i+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+i+":){6}(?:"+s+"|:"+i+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+i+":){5}(?::"+s+"|(?::"+i+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+i+":){4}(?:(?::"+i+"){0,1}:"+s+"|(?::"+i+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+i+":){3}(?:(?::"+i+"){0,2}:"+s+"|(?::"+i+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+i+":){2}(?:(?::"+i+"){0,3}:"+s+"|(?::"+i+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+i+":){1}(?:(?::"+i+"){0,4}:"+s+"|(?::"+i+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+i+"){0,5}:"+s+"|(?::"+i+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),n=RegExp("(?:^"+s+"$)|(?:^"+a+"$)"),o=RegExp("^"+s+"$"),l=RegExp("^"+a+"$"),h=function(e){return e&&e.exact?n:RegExp("(?:"+t(e)+s+t(e)+")|(?:"+t(e)+a+t(e)+")","g");};return h.v4=function(e){return e&&e.exact?o:RegExp(""+t(e)+s+t(e),"g");},h.v6=function(e){return e&&e.exact?l:RegExp(""+t(e)+a+t(e),"g");},r=RegExp("(?:^"+("(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+h.v4().source+"|")+h.v6().source+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i");},ea={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},en={integer:function(e){return en.number(e)&&parseInt(e,10)===e;},float:function(e){return en.number(e)&&!en.integer(e);},array:function(e){return Array.isArray(e);},regexp:function(e){if(e instanceof RegExp)return!0;try{return new RegExp(e),!0;}catch(e){return!1;}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime());},number:function(e){return!isNaN(e)&&"number"==typeof e;},object:function(e){return"object"==typeof e&&!en.array(e);},method:function(e){return"function"==typeof e;},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(ea.email);},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(ei());},hex:function(e){return"string"==typeof e&&!!e.match(ea.hex);}},eo="enum",el={required:er,whitespace:function(e,t,s,r,i){(/^\s+$/.test(t)||""===t)&&r.push(Y(i.messages.whitespace,e.fullField));},type:function(e,t,s,r,i){if(e.required&&void 0===t){er(e,t,s,r,i);return;}var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?en[a](t)||r.push(Y(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(Y(i.messages.types[a],e.fullField,e.type));},range:function(e,t,s,r,i){var a="number"==typeof e.len,n="number"==typeof e.min,o="number"==typeof e.max,l=t,h=null,p="number"==typeof t,u="string"==typeof t,c=Array.isArray(t);if(p?h="number":u?h="string":c&&(h="array"),!h)return!1;c&&(l=t.length),u&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&r.push(Y(i.messages[h].len,e.fullField,e.len)):n&&!o&&l<e.min?r.push(Y(i.messages[h].min,e.fullField,e.min)):o&&!n&&l>e.max?r.push(Y(i.messages[h].max,e.fullField,e.max)):n&&o&&(l<e.min||l>e.max)&&r.push(Y(i.messages[h].range,e.fullField,e.min,e.max));},enum:function(e,t,s,r,i){e[eo]=Array.isArray(e[eo])?e[eo]:[],-1===e[eo].indexOf(t)&&r.push(Y(i.messages[eo],e.fullField,e[eo].join(", ")));},pattern:function(e,t,s,r,i){!e.pattern||(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Y(i.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"!=typeof e.pattern||new RegExp(e.pattern).test(t)||r.push(Y(i.messages.pattern.mismatch,e.fullField,t,e.pattern)));}},eh=function(e,t,s,r,i){var a=e.type,n=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t,a)&&!e.required)return s();el.required(e,t,r,n,i,a),Q(t,a)||el.type(e,t,r,n,i);}s(n);},ep={string:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t,"string")&&!e.required)return s();el.required(e,t,r,a,i,"string"),Q(t,"string")||(el.type(e,t,r,a,i),el.range(e,t,r,a,i),el.pattern(e,t,r,a,i),!0===e.whitespace&&el.whitespace(e,t,r,a,i));}s(a);},method:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t)&&!e.required)return s();el.required(e,t,r,a,i),void 0!==t&&el.type(e,t,r,a,i);}s(a);},number:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Q(t)&&!e.required)return s();el.required(e,t,r,a,i),void 0!==t&&(el.type(e,t,r,a,i),el.range(e,t,r,a,i));}s(a);},boolean:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t)&&!e.required)return s();el.required(e,t,r,a,i),void 0!==t&&el.type(e,t,r,a,i);}s(a);},regexp:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t)&&!e.required)return s();el.required(e,t,r,a,i),Q(t)||el.type(e,t,r,a,i);}s(a);},integer:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t)&&!e.required)return s();el.required(e,t,r,a,i),void 0!==t&&(el.type(e,t,r,a,i),el.range(e,t,r,a,i));}s(a);},float:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t)&&!e.required)return s();el.required(e,t,r,a,i),void 0!==t&&(el.type(e,t,r,a,i),el.range(e,t,r,a,i));}s(a);},array:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return s();el.required(e,t,r,a,i,"array"),null!=t&&(el.type(e,t,r,a,i),el.range(e,t,r,a,i));}s(a);},object:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t)&&!e.required)return s();el.required(e,t,r,a,i),void 0!==t&&el.type(e,t,r,a,i);}s(a);},enum:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t)&&!e.required)return s();el.required(e,t,r,a,i),void 0!==t&&el.enum(e,t,r,a,i);}s(a);},pattern:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t,"string")&&!e.required)return s();el.required(e,t,r,a,i),Q(t,"string")||el.pattern(e,t,r,a,i);}s(a);},date:function(e,t,s,r,i){var a,n=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t,"date")&&!e.required)return s();el.required(e,t,r,n,i),!Q(t,"date")&&(a=t instanceof Date?t:new Date(t),el.type(e,a,r,n,i),a&&el.range(e,a.getTime(),r,n,i));}s(n);},url:eh,hex:eh,email:eh,required:function(e,t,s,r,i){var a=[],n=Array.isArray(t)?"array":typeof t;el.required(e,t,r,a,i,n),s(a);},any:function(e,t,s,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Q(t)&&!e.required)return s();el.required(e,t,r,a,i);}s(a);}};function eu(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e;}};}var ec=eu(),ed=function(){function e(e){this.rules=null,this._messages=ec,this.define(e);}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(s){var r=e[s];t.rules[s]=Array.isArray(r)?r:[r];});},t.messages=function(e){return e&&(this._messages=es(eu(),e)),this._messages;},t.validate=function(t,s,r){var i=this;void 0===s&&(s={}),void 0===r&&(r=function(){});var a=t,n=s,o=r;if("function"==typeof n&&(o=n,n={}),!this.rules||0===Object.keys(this.rules).length)return o&&o(null,a),Promise.resolve(a);if(n.messages){var l=this.messages();l===ec&&(l=eu()),es(l,n.messages),n.messages=l;}else n.messages=this.messages();var h={};(n.keys||Object.keys(this.rules)).forEach(function(e){var s=i.rules[e],r=a[e];s.forEach(function(s){var n=s;"function"==typeof n.transform&&(a===t&&(a=H({},a)),r=a[e]=n.transform(r)),(n="function"==typeof n?{validator:n}:H({},n)).validator=i.getValidationMethod(n),n.validator&&(n.field=e,n.fullField=n.fullField||e,n.type=i.getType(n),h[e]=h[e]||[],h[e].push({rule:n,value:r,source:a,field:e}));});});var p={};return function(e,t,s,r,i){if(t.first){var a=new Promise(function(t,a){var n;Z((n=[],Object.keys(e).forEach(function(t){n.push.apply(n,e[t]||[]);}),n),s,function(e){return r(e),e.length?a(new ee(e,G(e))):t(i);});});return a.catch(function(e){return e;}),a;}var n=!0===t.firstFields?Object.keys(e):t.firstFields||[],o=Object.keys(e),l=o.length,h=0,p=[],u=new Promise(function(t,a){var u=function(e){if(p.push.apply(p,e),++h===l)return r(p),p.length?a(new ee(p,G(p))):t(i);};o.length||(r(p),t(i)),o.forEach(function(t){var r=e[t];-1!==n.indexOf(t)?Z(r,s,u):function(e,t,s){var r=[],i=0,a=e.length;function n(e){r.push.apply(r,e||[]),++i===a&&s(r);}e.forEach(function(e){t(e,n);});}(r,s,u);});});return u.catch(function(e){return e;}),u;}(h,n,function(t,s){var r,i=t.rule,o=("object"===i.type||"array"===i.type)&&("object"==typeof i.fields||"object"==typeof i.defaultField);function l(e,t){return H({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]});}function h(r){void 0===r&&(r=[]);var h=Array.isArray(r)?r:[r];!n.suppressWarning&&h.length&&e.warning("async-validator:",h),h.length&&void 0!==i.message&&(h=[].concat(i.message));var u=h.map(et(i,a));if(n.first&&u.length)return p[i.field]=1,s(u);if(o){if(i.required&&!t.value)return void 0!==i.message?u=[].concat(i.message).map(et(i,a)):n.error&&(u=[n.error(i,Y(n.messages.required,i.field))]),s(u);var c={};i.defaultField&&Object.keys(t.value).map(function(e){c[e]=i.defaultField;});var d={};Object.keys(c=H({},c,t.rule.fields)).forEach(function(e){var t=c[e],s=Array.isArray(t)?t:[t];d[e]=s.map(l.bind(null,e));});var f=new e(d);f.messages(n.messages),t.rule.options&&(t.rule.options.messages=n.messages,t.rule.options.error=n.error),f.validate(t.value,t.rule.options||n,function(e){var t=[];u&&u.length&&t.push.apply(t,u),e&&e.length&&t.push.apply(t,e),s(t.length?t:null);});}else s(u);}if(o=o&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,h,t.source,n);else if(i.validator){try{r=i.validator(i,t.value,h,t.source,n);}catch(e){null==console.error||console.error(e),n.suppressValidatorError||setTimeout(function(){throw e;},0),h(e.message);}!0===r?h():!1===r?h("function"==typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?h(r):r instanceof Error&&h(r.message);}r&&r.then&&r.then(function(){return h();},function(e){return h(e);});},function(e){!function(e){for(var t=[],s={},r=0;r<e.length;r++)!function(e){if(Array.isArray(e)){var s;t=(s=t).concat.apply(s,e);}else t.push(e);}(e[r]);t.length?(s=G(t),o(t,s)):o(null,a);}(e);},a);},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!ep.hasOwnProperty(e.type))throw Error(Y("Unknown rule type %s",e.type));return e.type||"string";},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),s=t.indexOf("message");return(-1!==s&&t.splice(s,1),1===t.length&&"required"===t[0])?ep.required:ep[this.getType(e)]||void 0;},e;}();ed.register=function(e,t){if("function"!=typeof t)throw Error("Cannot register a validator by type, validator is not a function");ep[e]=t;},ed.warning=function(){},ed.messages=ec,ed.validators=ep;var ef="'${name}' is not a valid ${type}",em={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ef,method:ef,array:ef,object:ef,number:ef,date:ef,boolean:ef,integer:ef,float:ef,regexp:ef,email:ef,url:ef,hex:ef},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},ey=s("9a1dc10b"),eg=a._(ey),ex="CODE_LOGIC_ERROR";function eP(e,t,s,r,i){return ev.apply(this,arguments);}function ev(){return(ev=(0,m.default)((0,d.default)().mark(function e(t,s,r,i,a){var n,l,h,p,u,c,f,m,y;return(0,d.default)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,g.default)({},r),delete n.ruleIndex,ed.warning=function(){},n.validator&&(l=n.validator,n.validator=function(){try{return l.apply(void 0,arguments);}catch(e){return console.error(e),Promise.reject(ex);}}),h=null,n&&"array"===n.type&&n.defaultField&&(h=n.defaultField,delete n.defaultField),p=new ed((0,F.default)({},t,[n])),u=(0,eg.merge)(em,i.validateMessages),p.messages(u),c=[],e.prev=10,e.next=13,Promise.resolve(p.validate((0,F.default)({},t,s),(0,g.default)({},i)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(c=e.t0.errors.map(function(e,t){var s=e.message,r=s===ex?u.default:s;return o.isValidElement(r)?o.cloneElement(r,{key:"error_".concat(t)}):r;}));case 18:if(!(!c.length&&h)){e.next=23;break;}return e.next=21,Promise.all(s.map(function(e,s){return eP("".concat(t,".").concat(s),e,h,i,a);}));case 21:return f=e.sent,e.abrupt("return",f.reduce(function(e,t){return[].concat((0,P.default)(e),(0,P.default)(t));},[]));case 23:return m=(0,g.default)((0,g.default)({},r),{},{name:t,enum:(r.enum||[]).join(", ")},a),y=c.map(function(e){return"string"==typeof e?function(e,t){return e.replace(/\$\{\w+\}/g,function(e){return t[e.slice(2,-1)];});}(e,m):e;}),e.abrupt("return",y);case 26:case"end":return e.stop();}},e,null,[[10,15]]);}))).apply(this,arguments);}function eb(){return(eb=(0,m.default)((0,d.default)().mark(function e(t){return(0,d.default)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then(function(e){var t;return(t=[]).concat.apply(t,(0,P.default)(e));}));case 1:case"end":return e.stop();}},e);}))).apply(this,arguments);}function eT(){return(eT=(0,m.default)((0,d.default)().mark(function e(t){var s;return(0,d.default)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=0,e.abrupt("return",new Promise(function(e){t.forEach(function(r){r.then(function(r){r.errors.length&&e([r]),(s+=1)===t.length&&e([]);});});}));case 2:case"end":return e.stop();}},e);}))).apply(this,arguments);}var eA=s("501f5ac0"),eE=i._(eA),ew=s("4df4c0da"),eS=i._(ew);function eC(e){return q(e);}function eI(e,t){var s={};return t.forEach(function(t){var r=(0,eS.default)(e,t);s=(0,eg.default)(s,t,r);}),s;}function eN(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some(function(e){return ek(t,e,s);});}function ek(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!e&&!!t&&(!!s||e.length===t.length)&&t.every(function(t,s){return e[s]===t;});}function eF(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,eE.default)(t.target)&&e in t.target?t.target[e]:t;}function eL(e,t,s){var r=e.length;if(t<0||t>=r||s<0||s>=r)return e;var i=e[t],a=t-s;return a>0?[].concat((0,P.default)(e.slice(0,s)),[i],(0,P.default)(e.slice(s,t)),(0,P.default)(e.slice(t+1,r))):a<0?[].concat((0,P.default)(e.slice(0,t)),(0,P.default)(e.slice(t+1,s+1)),[i],(0,P.default)(e.slice(s+1,r))):e;}var eM=["name"],eO=[];function eD(e,t,s,r,i,a){return"function"==typeof e?e(t,s,"source"in a?{source:a.source}:{}):r!==i;}var eR=function(e){(0,C.default)(s,e);var t=(0,N.default)(s);function s(e){var r;return(0,b.default)(this,s),r=t.call(this,e),(0,F.default)((0,w.default)(r),"state",{resetCount:0}),(0,F.default)((0,w.default)(r),"cancelRegisterFunc",null),(0,F.default)((0,w.default)(r),"mounted",!1),(0,F.default)((0,w.default)(r),"touched",!1),(0,F.default)((0,w.default)(r),"dirty",!1),(0,F.default)((0,w.default)(r),"validatePromise",void 0),(0,F.default)((0,w.default)(r),"prevValidating",void 0),(0,F.default)((0,w.default)(r),"errors",eO),(0,F.default)((0,w.default)(r),"warnings",eO),(0,F.default)((0,w.default)(r),"cancelRegister",function(){var e=r.props,t=e.preserve,s=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(s,t,eC(i)),r.cancelRegisterFunc=null;}),(0,F.default)((0,w.default)(r),"getNamePath",function(){var e=r.props,t=e.name,s=e.fieldContext.prefixName;return void 0!==t?[].concat((0,P.default)(void 0===s?[]:s),(0,P.default)(t)):[];}),(0,F.default)((0,w.default)(r),"getRules",function(){var e=r.props,t=e.rules,s=e.fieldContext;return(void 0===t?[]:t).map(function(e){return"function"==typeof e?e(s):e;});}),(0,F.default)((0,w.default)(r),"refresh",function(){r.mounted&&r.setState(function(e){return{resetCount:e.resetCount+1};});}),(0,F.default)((0,w.default)(r),"metaCache",null),(0,F.default)((0,w.default)(r),"triggerMetaEvent",function(e){var t=r.props.onMetaChange;if(t){var s=(0,g.default)((0,g.default)({},r.getMeta()),{},{destroy:e});(0,D.default)(r.metaCache,s)||t(s),r.metaCache=s;}else r.metaCache=null;}),(0,F.default)((0,w.default)(r),"onStoreChange",function(e,t,s){var i=r.props,a=i.shouldUpdate,n=i.dependencies,o=void 0===n?[]:n,l=i.onReset,h=s.store,p=r.getNamePath(),u=r.getValue(e),c=r.getValue(h),d=t&&eN(t,p);switch("valueUpdate"===s.type&&"external"===s.source&&u!==c&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=eO,r.warnings=eO,r.triggerMetaEvent()),s.type){case"reset":if(!t||d){r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=eO,r.warnings=eO,r.triggerMetaEvent(),null==l||l(),r.refresh();return;}break;case"remove":if(a){r.reRender();return;}break;case"setField":var f=s.data;if(d){"touched"in f&&(r.touched=f.touched),"validating"in f&&!("originRCField"in f)&&(r.validatePromise=f.validating?Promise.resolve([]):null),"errors"in f&&(r.errors=f.errors||eO),"warnings"in f&&(r.warnings=f.warnings||eO),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return;}if("value"in f&&eN(t,p,!0)||a&&!p.length&&eD(a,e,h,u,c,s)){r.reRender();return;}break;case"dependenciesUpdate":if(o.map(eC).some(function(e){return eN(s.relatedFields,e);})){r.reRender();return;}break;default:if(d||(!o.length||p.length||a)&&eD(a,e,h,u,c,s)){r.reRender();return;}}!0===a&&r.reRender();}),(0,F.default)((0,w.default)(r),"validateRules",function(e){var t=r.getNamePath(),s=r.getValue(),i=e||{},a=i.triggerName,n=i.validateOnly,o=Promise.resolve().then((0,m.default)((0,d.default)().mark(function i(){var n,l,h,p,u,c,f;return(0,d.default)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(r.mounted){i.next=2;break;}return i.abrupt("return",[]);case 2:if(h=void 0!==(l=(n=r.props).validateFirst)&&l,p=n.messageVariables,u=n.validateDebounce,c=r.getRules(),a&&(c=c.filter(function(e){return e;}).filter(function(e){var t=e.validateTrigger;return!t||q(t).includes(a);})),!(u&&a)){i.next=10;break;}return i.next=8,new Promise(function(e){setTimeout(e,u);});case 8:if(!(r.validatePromise!==o)){i.next=10;break;}return i.abrupt("return",[]);case 10:return(f=function(e,t,s,r,i,a){var n,o,l=e.join("."),h=s.map(function(e,t){var s=e.validator,r=(0,g.default)((0,g.default)({},e),{},{ruleIndex:t});return s&&(r.validator=function(e,t,r){var i=!1,a=s(e,t,function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];Promise.resolve().then(function(){(0,B.default)(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t);});});i=a&&"function"==typeof a.then&&"function"==typeof a.catch,(0,B.default)(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then(function(){r();}).catch(function(e){r(e||" ");});}),r;}).sort(function(e,t){var s=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!s==!!i?r-a:s?1:-1;});if(!0===i)o=new Promise((n=(0,m.default)((0,d.default)().mark(function e(s,i){var n,o,p;return(0,d.default)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<h.length)){e.next=12;break;}return o=h[n],e.next=5,eP(l,t,o,r,a);case 5:if(!(p=e.sent).length){e.next=9;break;}return i([{errors:p,rule:o}]),e.abrupt("return");case 9:n+=1,e.next=1;break;case 12:s([]);case 13:case"end":return e.stop();}},e);})),function(e,t){return n.apply(this,arguments);}));else{var p=h.map(function(e){return eP(l,t,e,r,a).then(function(t){return{errors:t,rule:e};});});o=(i?function(e){return eT.apply(this,arguments);}(p):function(e){return eb.apply(this,arguments);}(p)).then(function(e){return Promise.reject(e);});}return o.catch(function(e){return e;}),o;}(t,s,c,e,h,p)).catch(function(e){return e;}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eO;if(r.validatePromise===o){r.validatePromise=null;var t,s=[],i=[];null===(t=e.forEach)||void 0===t||t.call(e,function(e){var t=e.rule.warningOnly,r=e.errors,a=void 0===r?eO:r;t?i.push.apply(i,(0,P.default)(a)):s.push.apply(s,(0,P.default)(a));}),r.errors=s,r.warnings=i,r.triggerMetaEvent(),r.reRender();}}),i.abrupt("return",f);case 13:case"end":return i.stop();}},i);})));return void 0!==n&&n||(r.validatePromise=o,r.dirty=!0,r.errors=eO,r.warnings=eO,r.triggerMetaEvent(),r.reRender()),o;}),(0,F.default)((0,w.default)(r),"isFieldValidating",function(){return!!r.validatePromise;}),(0,F.default)((0,w.default)(r),"isFieldTouched",function(){return r.touched;}),(0,F.default)((0,w.default)(r),"isFieldDirty",function(){return!!r.dirty||void 0!==r.props.initialValue||void 0!==(0,r.props.fieldContext.getInternalHooks(j).getInitialValue)(r.getNamePath());}),(0,F.default)((0,w.default)(r),"getErrors",function(){return r.errors;}),(0,F.default)((0,w.default)(r),"getWarnings",function(){return r.warnings;}),(0,F.default)((0,w.default)(r),"isListField",function(){return r.props.isListField;}),(0,F.default)((0,w.default)(r),"isList",function(){return r.props.isList;}),(0,F.default)((0,w.default)(r),"isPreserve",function(){return r.props.preserve;}),(0,F.default)((0,w.default)(r),"getMeta",function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise};}),(0,F.default)((0,w.default)(r),"getOnlyChild",function(e){if("function"==typeof e){var t=r.getMeta();return(0,g.default)((0,g.default)({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0});}var s=(0,M.default)(e);return 1===s.length&&o.isValidElement(s[0])?{child:s[0],isFunction:!1}:{child:s,isFunction:!1};}),(0,F.default)((0,w.default)(r),"getValue",function(e){var t=r.props.fieldContext.getFieldsValue,s=r.getNamePath();return(0,eS.default)(e||t(!0),s);}),(0,F.default)((0,w.default)(r),"getControlled",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,s=t.trigger,i=t.validateTrigger,a=t.getValueFromEvent,n=t.normalize,o=t.valuePropName,l=t.getValueProps,h=t.fieldContext,p=void 0!==i?i:h.validateTrigger,u=r.getNamePath(),c=h.getInternalHooks,d=h.getFieldsValue,f=c(j).dispatch,m=r.getValue(),y=l||function(e){return(0,F.default)({},o,e);},x=e[s],P=(0,g.default)((0,g.default)({},e),y(m));return P[s]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];e=a?a.apply(void 0,s):eF.apply(void 0,[o].concat(s)),n&&(e=n(e,m,d(!0))),f({type:"updateValue",namePath:u,value:e}),x&&x.apply(void 0,s);},q(p||[]).forEach(function(e){var t=P[e];P[e]=function(){t&&t.apply(void 0,arguments);var s=r.props.rules;s&&s.length&&f({type:"validateField",namePath:u,triggerName:e});};}),P;}),e.fieldContext&&(0,(0,e.fieldContext.getInternalHooks)(j).initEntityValue)((0,w.default)(r)),r;}return(0,A.default)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,s=e.fieldContext;if(this.mounted=!0,s){var r=(0,s.getInternalHooks)(j).registerField;this.cancelRegisterFunc=r(this);}!0===t&&this.reRender();}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1;}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate();}},{key:"render",value:function(){var e,t=this.state.resetCount,s=this.props.children,r=this.getOnlyChild(s),i=r.child;return r.isFunction?e=i:o.isValidElement(i)?e=o.cloneElement(i,this.getControlled(i.props)):((0,B.default)(!i,"`children` of Field is not validate ReactElement."),e=i),o.createElement(o.Fragment,{key:t},e);}}]),s;}(o.Component);function eB(e){var t=e.name,s=(0,u.default)(e,eM),r=o.useContext(_),i=o.useContext(U),a=void 0!==t?eC(t):void 0,n="keep";return s.isListField||(n="_".concat((a||[]).join("_"))),o.createElement(eR,(0,h.default)({key:n,name:a,isListField:!!i},s,{fieldContext:r}));}function ej(e){var t=e.name,s=e.initialValue,r=e.children,i=e.rules,a=e.validateTrigger,n=e.isListField,l=o.useContext(_),h=o.useContext(U),p=o.useRef({keys:[],id:0}).current,u=o.useMemo(function(){var e=eC(l.prefixName)||[];return[].concat((0,P.default)(e),(0,P.default)(eC(t)));},[l.prefixName,t]),c=o.useMemo(function(){return(0,g.default)((0,g.default)({},l),{},{prefixName:u});},[l,u]),d=o.useMemo(function(){return{getKey:function(e){var t=u.length,s=e[t];return[p.keys[s],e.slice(t+1)];}};},[u]);return"function"!=typeof r?((0,B.default)(!1,"Form.List only accepts function as children."),null):o.createElement(U.Provider,{value:d},o.createElement(_.Provider,{value:c},o.createElement(eB,{name:[],shouldUpdate:function(e,t,s){return"internal"!==s.source&&e!==t;},rules:i,validateTrigger:a,initialValue:s,isList:!0,isListField:null!=n?n:!!h},function(e,t){var s=e.value,i=e.onChange,a=l.getFieldValue,n=function(){return a(u||[])||[];},o=(void 0===s?[]:s)||[];return Array.isArray(o)||(o=[]),r(o.map(function(e,t){var s=p.keys[t];return void 0===s&&(p.keys[t]=p.id,s=p.keys[t],p.id+=1),{name:t,key:s,isListField:!0};}),{add:function(e,t){var s=n();t>=0&&t<=s.length?(p.keys=[].concat((0,P.default)(p.keys.slice(0,t)),[p.id],(0,P.default)(p.keys.slice(t))),i([].concat((0,P.default)(s.slice(0,t)),[e],(0,P.default)(s.slice(t))))):(p.keys=[].concat((0,P.default)(p.keys),[p.id]),i([].concat((0,P.default)(s),[e]))),p.id+=1;},remove:function(e){var t=n(),s=new Set(Array.isArray(e)?e:[e]);s.size<=0||(p.keys=p.keys.filter(function(e,t){return!s.has(t);}),i(t.filter(function(e,t){return!s.has(t);})));},move:function(e,t){if(e!==t){var s=n();e<0||e>=s.length||t<0||t>=s.length||(p.keys=eL(p.keys,e,t),i(eL(s,e,t)));}}},t);})));}(0,F.default)(eR,"contextType",_),(0,F.default)(eR,"defaultProps",{trigger:"onChange",valuePropName:"value"});var eV=s("4aaf5c20"),e_=i._(eV),eU="__@field_split__";function eq(e){return e.map(function(e){return"".concat((0,eE.default)(e),":").concat(e);}).join(eU);}var e$=function(){function e(){(0,b.default)(this,e),(0,F.default)(this,"kvs",new Map);}return(0,A.default)(e,[{key:"set",value:function(e,t){this.kvs.set(eq(e),t);}},{key:"get",value:function(e){return this.kvs.get(eq(e));}},{key:"update",value:function(e,t){var s=t(this.get(e));s?this.set(e,s):this.delete(e);}},{key:"delete",value:function(e){this.kvs.delete(eq(e));}},{key:"map",value:function(e){return(0,P.default)(this.kvs.entries()).map(function(t){var s=(0,e_.default)(t,2),r=s[0],i=s[1];return e({key:r.split(eU).map(function(e){var t=e.match(/^([^:]*):(.*)$/),s=(0,e_.default)(t,3),r=s[1],i=s[2];return"number"===r?Number(i):i;}),value:i});});}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var s=t.key,r=t.value;return e[s.join(".")]=r,null;}),e;}}]),e;}(),eH=["name"],ez=(0,A.default)(function e(t){var s=this;(0,b.default)(this,e),(0,F.default)(this,"formHooked",!1),(0,F.default)(this,"forceRootUpdate",void 0),(0,F.default)(this,"subscribable",!0),(0,F.default)(this,"store",{}),(0,F.default)(this,"fieldEntities",[]),(0,F.default)(this,"initialValues",{}),(0,F.default)(this,"callbacks",{}),(0,F.default)(this,"validateMessages",null),(0,F.default)(this,"preserve",null),(0,F.default)(this,"lastValidatePromise",null),(0,F.default)(this,"getForm",function(){return{getFieldValue:s.getFieldValue,getFieldsValue:s.getFieldsValue,getFieldError:s.getFieldError,getFieldWarning:s.getFieldWarning,getFieldsError:s.getFieldsError,isFieldsTouched:s.isFieldsTouched,isFieldTouched:s.isFieldTouched,isFieldValidating:s.isFieldValidating,isFieldsValidating:s.isFieldsValidating,resetFields:s.resetFields,setFields:s.setFields,setFieldValue:s.setFieldValue,setFieldsValue:s.setFieldsValue,validateFields:s.validateFields,submit:s.submit,_init:!0,getInternalHooks:s.getInternalHooks};}),(0,F.default)(this,"getInternalHooks",function(e){return e===j?(s.formHooked=!0,{dispatch:s.dispatch,initEntityValue:s.initEntityValue,registerField:s.registerField,useSubscribe:s.useSubscribe,setInitialValues:s.setInitialValues,destroyForm:s.destroyForm,setCallbacks:s.setCallbacks,setValidateMessages:s.setValidateMessages,getFields:s.getFields,setPreserve:s.setPreserve,getInitialValue:s.getInitialValue,registerWatch:s.registerWatch}):((0,B.default)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null);}),(0,F.default)(this,"useSubscribe",function(e){s.subscribable=e;}),(0,F.default)(this,"prevWithoutPreserves",null),(0,F.default)(this,"setInitialValues",function(e,t){if(s.initialValues=e||{},t){var r,i=(0,eg.merge)(e,s.store);null===(r=s.prevWithoutPreserves)||void 0===r||r.map(function(t){var s=t.key;i=(0,eg.default)(i,s,(0,eS.default)(e,s));}),s.prevWithoutPreserves=null,s.updateStore(i);}}),(0,F.default)(this,"destroyForm",function(){var e=new e$;s.getFieldEntities(!0).forEach(function(t){s.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0);}),s.prevWithoutPreserves=e;}),(0,F.default)(this,"getInitialValue",function(e){var t=(0,eS.default)(s.initialValues,e);return e.length?(0,eg.merge)(t):t;}),(0,F.default)(this,"setCallbacks",function(e){s.callbacks=e;}),(0,F.default)(this,"setValidateMessages",function(e){s.validateMessages=e;}),(0,F.default)(this,"setPreserve",function(e){s.preserve=e;}),(0,F.default)(this,"watchList",[]),(0,F.default)(this,"registerWatch",function(e){return s.watchList.push(e),function(){s.watchList=s.watchList.filter(function(t){return t!==e;});};}),(0,F.default)(this,"notifyWatch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(s.watchList.length){var t=s.getFieldsValue(),r=s.getFieldsValue(!0);s.watchList.forEach(function(s){s(t,r,e);});}}),(0,F.default)(this,"timeoutId",null),(0,F.default)(this,"warningUnhooked",function(){}),(0,F.default)(this,"updateStore",function(e){s.store=e;}),(0,F.default)(this,"getFieldEntities",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?s.fieldEntities.filter(function(e){return e.getNamePath().length;}):s.fieldEntities;}),(0,F.default)(this,"getFieldsMap",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new e$;return s.getFieldEntities(e).forEach(function(e){var s=e.getNamePath();t.set(s,e);}),t;}),(0,F.default)(this,"getFieldEntitiesForNamePathList",function(e){if(!e)return s.getFieldEntities(!0);var t=s.getFieldsMap(!0);return e.map(function(e){var s=eC(e);return t.get(s)||{INVALIDATE_NAME_PATH:eC(e)};});}),(0,F.default)(this,"getFieldsValue",function(e,t){if(s.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,i=t):e&&"object"===(0,eE.default)(e)&&(a=e.strict,i=e.filter),!0===r&&!i)return s.store;var r,i,a,n=s.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),o=[];return n.forEach(function(e){var t,s,n,l="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(a){if(null!==(n=e.isList)&&void 0!==n&&n.call(e))return;}else if(!r&&null!==(t=(s=e).isListField)&&void 0!==t&&t.call(s))return;if(i){var h="getMeta"in e?e.getMeta():null;i(h)&&o.push(l);}else o.push(l);}),eI(s.store,o.map(eC));}),(0,F.default)(this,"getFieldValue",function(e){s.warningUnhooked();var t=eC(e);return(0,eS.default)(s.store,t);}),(0,F.default)(this,"getFieldsError",function(e){return s.warningUnhooked(),s.getFieldEntitiesForNamePathList(e).map(function(t,s){return!t||"INVALIDATE_NAME_PATH"in t?{name:eC(e[s]),errors:[],warnings:[]}:{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()};});}),(0,F.default)(this,"getFieldError",function(e){s.warningUnhooked();var t=eC(e);return s.getFieldsError([t])[0].errors;}),(0,F.default)(this,"getFieldWarning",function(e){s.warningUnhooked();var t=eC(e);return s.getFieldsError([t])[0].warnings;}),(0,F.default)(this,"isFieldsTouched",function(){s.warningUnhooked();for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=r[0],n=r[1],o=!1;0===r.length?e=null:1===r.length?Array.isArray(a)?(e=a.map(eC),o=!1):(e=null,o=a):(e=a.map(eC),o=n);var l=s.getFieldEntities(!0),h=function(e){return e.isFieldTouched();};if(!e)return o?l.every(h):l.some(h);var p=new e$;e.forEach(function(e){p.set(e,[]);}),l.forEach(function(t){var s=t.getNamePath();e.forEach(function(e){e.every(function(e,t){return s[t]===e;})&&p.update(e,function(e){return[].concat((0,P.default)(e),[t]);});});});var u=function(e){return e.some(h);},c=p.map(function(e){return e.value;});return o?c.every(u):c.some(u);}),(0,F.default)(this,"isFieldTouched",function(e){return s.warningUnhooked(),s.isFieldsTouched([e]);}),(0,F.default)(this,"isFieldsValidating",function(e){s.warningUnhooked();var t=s.getFieldEntities();if(!e)return t.some(function(e){return e.isFieldValidating();});var r=e.map(eC);return t.some(function(e){return eN(r,e.getNamePath())&&e.isFieldValidating();});}),(0,F.default)(this,"isFieldValidating",function(e){return s.warningUnhooked(),s.isFieldsValidating([e]);}),(0,F.default)(this,"resetWithFieldInitialValue",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new e$,i=s.getFieldEntities(!0);i.forEach(function(e){var t=e.props.initialValue,s=e.getNamePath();if(void 0!==t){var i=r.get(s)||new Set;i.add({entity:e,value:t}),r.set(s,i);}}),t.entities?e=t.entities:t.namePathList?(e=[],t.namePathList.forEach(function(t){var s,i=r.get(t);i&&(s=e).push.apply(s,(0,P.default)((0,P.default)(i).map(function(e){return e.entity;})));})):e=i,function(e){e.forEach(function(e){if(void 0!==e.props.initialValue){var i=e.getNamePath();if(void 0!==s.getInitialValue(i))(0,B.default)(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=r.get(i);if(a&&a.size>1)(0,B.default)(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var n=s.getFieldValue(i);t.skipExist&&void 0!==n||s.updateStore((0,eg.default)(s.store,i,(0,P.default)(a)[0].value));}}}});}(e);}),(0,F.default)(this,"resetFields",function(e){s.warningUnhooked();var t=s.store;if(!e){s.updateStore((0,eg.merge)(s.initialValues)),s.resetWithFieldInitialValue(),s.notifyObservers(t,null,{type:"reset"}),s.notifyWatch();return;}var r=e.map(eC);r.forEach(function(e){var t=s.getInitialValue(e);s.updateStore((0,eg.default)(s.store,e,t));}),s.resetWithFieldInitialValue({namePathList:r}),s.notifyObservers(t,r,{type:"reset"}),s.notifyWatch(r);}),(0,F.default)(this,"setFields",function(e){s.warningUnhooked();var t=s.store,r=[];e.forEach(function(e){var i=e.name,a=(0,u.default)(e,eH),n=eC(i);r.push(n),"value"in a&&s.updateStore((0,eg.default)(s.store,n,a.value)),s.notifyObservers(t,[n],{type:"setField",data:e});}),s.notifyWatch(r);}),(0,F.default)(this,"getFields",function(){return s.getFieldEntities(!0).map(function(e){var t=e.getNamePath(),r=e.getMeta(),i=(0,g.default)((0,g.default)({},r),{},{name:t,value:s.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i;});}),(0,F.default)(this,"initEntityValue",function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===(0,eS.default)(s.store,r)&&s.updateStore((0,eg.default)(s.store,r,t));}}),(0,F.default)(this,"isMergedPreserve",function(e){var t=void 0!==e?e:s.preserve;return null==t||t;}),(0,F.default)(this,"registerField",function(e){s.fieldEntities.push(e);var t=e.getNamePath();if(s.notifyWatch([t]),void 0!==e.props.initialValue){var r=s.store;s.resetWithFieldInitialValue({entities:[e],skipExist:!0}),s.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"});}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(s.fieldEntities=s.fieldEntities.filter(function(t){return t!==e;}),!s.isMergedPreserve(i)&&(!r||a.length>1)){var n=r?void 0:s.getInitialValue(t);if(t.length&&s.getFieldValue(t)!==n&&s.fieldEntities.every(function(e){return!ek(e.getNamePath(),t);})){var o=s.store;s.updateStore((0,eg.default)(o,t,n,!0)),s.notifyObservers(o,[t],{type:"remove"}),s.triggerDependenciesUpdate(o,t);}}s.notifyWatch([t]);};}),(0,F.default)(this,"dispatch",function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;s.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;s.validateFields([i],{triggerName:a});}}),(0,F.default)(this,"notifyObservers",function(e,t,r){if(s.subscribable){var i=(0,g.default)((0,g.default)({},r),{},{store:s.getFieldsValue(!0)});s.getFieldEntities().forEach(function(s){(0,s.onStoreChange)(e,t,i);});}else s.forceRootUpdate();}),(0,F.default)(this,"triggerDependenciesUpdate",function(e,t){var r=s.getDependencyChildrenFields(t);return r.length&&s.validateFields(r),s.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,P.default)(r))}),r;}),(0,F.default)(this,"updateValue",function(e,t){var r=eC(e),i=s.store;s.updateStore((0,eg.default)(s.store,r,t)),s.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),s.notifyWatch([r]);var a=s.triggerDependenciesUpdate(i,r),n=s.callbacks.onValuesChange;n&&n(eI(s.store,[r]),s.getFieldsValue()),s.triggerOnFieldsChange([r].concat((0,P.default)(a)));}),(0,F.default)(this,"setFieldsValue",function(e){s.warningUnhooked();var t=s.store;if(e){var r=(0,eg.merge)(s.store,e);s.updateStore(r);}s.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),s.notifyWatch();}),(0,F.default)(this,"setFieldValue",function(e,t){s.setFields([{name:e,value:t}]);}),(0,F.default)(this,"getDependencyChildrenFields",function(e){var t=new Set,r=[],i=new e$;return s.getFieldEntities().forEach(function(e){(e.props.dependencies||[]).forEach(function(t){var s=eC(t);i.update(s,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t;});});}),function e(s){(i.get(s)||new Set).forEach(function(s){if(!t.has(s)){t.add(s);var i=s.getNamePath();s.isFieldDirty()&&i.length&&(r.push(i),e(i));}});}(e),r;}),(0,F.default)(this,"triggerOnFieldsChange",function(e,t){var r=s.callbacks.onFieldsChange;if(r){var i=s.getFields();if(t){var a=new e$;t.forEach(function(e){var t=e.name,s=e.errors;a.set(t,s);}),i.forEach(function(e){e.errors=a.get(e.name)||e.errors;});}var n=i.filter(function(t){return eN(e,t.name);});n.length&&r(n,i);}}),(0,F.default)(this,"validateFields",function(e,t){s.warningUnhooked(),Array.isArray(e)||"string"==typeof e||"string"==typeof t?(o=e,l=t):l=e;var r,i,a,n,o,l,h=!!o,p=h?o.map(eC):[],u=[],c=String(Date.now()),d=new Set,f=null===(n=l)||void 0===n?void 0:n.recursive;s.getFieldEntities(!0).forEach(function(e){if(h||p.push(e.getNamePath()),e.props.rules&&e.props.rules.length){var t=e.getNamePath();if(d.add(t.join(c)),!h||eN(p,t,f)){var r=e.validateRules((0,g.default)({validateMessages:(0,g.default)((0,g.default)({},em),s.validateMessages)},l));u.push(r.then(function(){return{name:t,errors:[],warnings:[]};}).catch(function(e){var s,r=[],i=[];return(null===(s=e.forEach)||void 0===s||s.call(e,function(e){var t=e.rule.warningOnly,s=e.errors;t?i.push.apply(i,(0,P.default)(s)):r.push.apply(r,(0,P.default)(s));}),r.length)?Promise.reject({name:t,errors:r,warnings:i}):{name:t,errors:r,warnings:i};}));}}});var m=(r=!1,i=u.length,a=[],u.length?new Promise(function(e,t){u.forEach(function(s,n){s.catch(function(e){return r=!0,e;}).then(function(s){i-=1,a[n]=s,i>0||(r&&t(a),e(a));});});}):Promise.resolve([]));s.lastValidatePromise=m,m.catch(function(e){return e;}).then(function(e){var t=e.map(function(e){return e.name;});s.notifyObservers(s.store,t,{type:"validateFinish"}),s.triggerOnFieldsChange(t,e);});var y=m.then(function(){return s.lastValidatePromise===m?Promise.resolve(s.getFieldsValue(p)):Promise.reject([]);}).catch(function(e){var t=e.filter(function(e){return e&&e.errors.length;});return Promise.reject({values:s.getFieldsValue(p),errorFields:t,outOfDate:s.lastValidatePromise!==m});});y.catch(function(e){return e;});var x=p.filter(function(e){return d.has(e.join(c));});return s.triggerOnFieldsChange(x),y;}),(0,F.default)(this,"submit",function(){s.warningUnhooked(),s.validateFields().then(function(e){var t=s.callbacks.onFinish;if(t)try{t(e);}catch(e){console.error(e);}}).catch(function(e){var t=s.callbacks.onFinishFailed;t&&t(e);});}),this.forceRootUpdate=t;});function eW(e){var t=o.useRef(),s=o.useState({}),r=(0,e_.default)(s,2)[1];if(!t.current){if(e)t.current=e;else{var i=new ez(function(){r({});});t.current=i.getForm();}}return[t.current];}var eK=o.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),eJ=function(e){var t=e.validateMessages,s=e.onFormChange,r=e.onFormFinish,i=e.children,a=o.useContext(eK),n=o.useRef({});return o.createElement(eK.Provider,{value:(0,g.default)((0,g.default)({},a),{},{validateMessages:(0,g.default)((0,g.default)({},a.validateMessages),t),triggerFormChange:function(e,t){s&&s(e,{changedFields:t,forms:n.current}),a.triggerFormChange(e,t);},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:n.current}),a.triggerFormFinish(e,t);},registerForm:function(e,t){e&&(n.current=(0,g.default)((0,g.default)({},n.current),{},(0,F.default)({},e,t))),a.registerForm(e,t);},unregisterForm:function(e){var t=(0,g.default)({},n.current);delete t[e],n.current=t,a.unregisterForm(e);}})},i);},eX=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];function eG(e){try{return JSON.stringify(e);}catch(e){return Math.random();}}var eY=function(){};function eQ(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];var r=t[0],i=t[1],a=void 0===i?{}:i,n=a&&a._init?{form:a}:a,l=n.form,h=(0,o.useState)(),p=(0,e_.default)(h,2),u=p[0],c=p[1],d=(0,o.useMemo)(function(){return eG(u);},[u]),f=(0,o.useRef)(d);f.current=d;var m=(0,o.useContext)(_),y=l||m,g=y&&y._init,x=eC(void 0===r?[]:r),P=(0,o.useRef)(x);return P.current=x,eY(x),(0,o.useEffect)(function(){if(g){var e=y.getFieldsValue,t=(0,(0,y.getInternalHooks)(j).registerWatch)(function(e,t){var s=(0,eS.default)(n.preserve?t:e,P.current),r=eG(s);f.current!==r&&(f.current=r,c(s));}),s=(0,eS.default)(n.preserve?e(!0):e(),P.current);return u!==s&&c(s),t;}},[g]),u;}var eZ=o.forwardRef(function(e,t){var s,r=e.name,i=e.initialValues,a=e.fields,n=e.form,l=e.preserve,p=e.children,c=e.component,d=void 0===c?"form":c,f=e.validateMessages,m=e.validateTrigger,y=void 0===m?"onChange":m,x=e.onValuesChange,v=e.onFieldsChange,b=e.onFinish,T=e.onFinishFailed,A=(0,u.default)(e,eX),E=o.useContext(eK),w=eW(n),S=(0,e_.default)(w,1)[0],C=S.getInternalHooks(j),I=C.useSubscribe,N=C.setInitialValues,k=C.setCallbacks,F=C.setValidateMessages,L=C.setPreserve,M=C.destroyForm;o.useImperativeHandle(t,function(){return S;}),o.useEffect(function(){return E.registerForm(r,S),function(){E.unregisterForm(r);};},[E,S,r]),F((0,g.default)((0,g.default)({},E.validateMessages),f)),k({onValuesChange:x,onFieldsChange:function(e){if(E.triggerFormChange(r,e),v){for(var t=arguments.length,s=Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];v.apply(void 0,[e].concat(s));}},onFinish:function(e){E.triggerFormFinish(r,e),b&&b(e);},onFinishFailed:T}),L(l);var O=o.useRef(null);N(i,!O.current),O.current||(O.current=!0),o.useEffect(function(){return M;},[]);var D="function"==typeof p;s=D?p(S.getFieldsValue(!0),S):p,I(!D);var R=o.useRef();o.useEffect(function(){!function(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||"object"!==(0,eE.default)(e)||"object"!==(0,eE.default)(t))return!1;var s=new Set([].concat(Object.keys(e),Object.keys(t)));return(0,P.default)(s).every(function(s){var r=e[s],i=t[s];return"function"==typeof r&&"function"==typeof i||r===i;});}(R.current||[],a||[])&&S.setFields(a||[]),R.current=a;},[a,S]);var B=o.useMemo(function(){return(0,g.default)((0,g.default)({},S),{},{validateTrigger:y});},[S,y]),V=o.createElement(U.Provider,{value:null},o.createElement(_.Provider,{value:B},s));return!1===d?V:o.createElement(d,(0,h.default)({},A,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),S.submit();},onReset:function(e){var t;e.preventDefault(),S.resetFields(),null===(t=A.onReset)||void 0===t||t.call(A,e);}}),V);});eZ.FormProvider=eJ,eZ.Field=eB,eZ.List=ej,eZ.useForm=eW,eZ.useWatch=eQ;},e70b5244:function(e,t,s){"use strict";s.d(t,"__esModule",{value:!0}),t.ver=t.clear=t.bind=void 0;var r=s("7d8545d2");t.bind=function(e,t){var s=(0,r.getSensor)(e);return s.bind(t),function(){s.unbind(t);};},t.clear=function(e){var t=(0,r.getSensor)(e);(0,r.removeSensor)(t);},t.ver="1.0.2";}}]);
//# sourceMappingURL=vendors_1-async.d4954176.js.map